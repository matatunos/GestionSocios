{"version":1,"resource":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers_SAFE.sql","entries":[{"id":"prdp.sql","source":"Chat Edit: '\n$ mysql -u root -psatriani -h 192.168.1.22 asociacion < 2025_12_03_professional_suppliers.sql\n--------------\nALTER TABLE suppliers\nADD COLUMN tax_id VARCHAR(50) AFTER cif_nif,\nADD COLUMN postal_code VARCHAR(10) AFTER address,\nADD COLUMN city VARCHAR(100) AFTER postal_code,\nADD COLUMN province VARCHAR(100) AFTER city,\nADD COLUMN country VARCHAR(100) DEFAULT 'España' AFTER province,\nADD COLUMN tipo_proveedor ENUM('servicios', 'productos', 'mixto', 'profesional') DEFAULT 'servicios' AFTER logo_path,\nADD COLUMN categoria VARCHAR(100) AFTER tipo_proveedor,\nADD COLUMN estado ENUM('activo', 'inactivo', 'bloqueado') DEFAULT 'activo' AFTER categoria,\nADD COLUMN payment_terms INT DEFAULT 30 AFTER estado,\nADD COLUMN default_payment_method ENUM('transfer', 'cash', 'card', 'check', 'other') DEFAULT 'transfer' AFTER payment_terms,\nADD COLUMN iban VARCHAR(34) AFTER default_payment_method,\nADD COLUMN swift VARCHAR(11) AFTER iban,\nADD COLUMN bank_name VARCHAR(255) AFTER swift,\nADD COLUMN default_discount DECIMAL(5,2) DEFAULT 0.00 AFTER bank_name,\nADD COLUMN credit_limit DECIMAL(10,2) AFTER default_discount,\nADD COLUMN contact_person VARCHAR(255) AFTER credit_limit,\nADD COLUMN contact_email VARCHAR(255) AFTER contact_person,\nADD COLUMN contact_phone VARCHAR(20) AFTER contact_email,\nADD COLUMN rating TINYINT CHECK (rating >= 1 AND rating <= 5) AFTER contact_phone,\nADD INDEX idx_tipo (tipo_proveedor),\nADD INDEX idx_estado (estado),\nADD INDEX idx_categoria (categoria)\n--------------\n\nERROR 1060 (42S21) at line 6: Duplicate column name 'tax_id'\n\\[\\]✘\\[\\] root@favala [192.168.1.7] /opt/GestionSocios/database/migrations\n$ mysql -u root -psatriani -h 192.168.1.22 asociacion < apply_supplier_migration.sh\n--------------\necho \"==================================================\"\necho \"Migración: Módulo de Proveedores Profesional\"\necho \"==================================================\"\necho \"\"\n\n\nRED='\\033[0;31m'\nGREEN='\\033[0;32m'\nYELLOW='\\033[1;33m'\nNC='\\033[0m'\n\n\nMIGRATION_FILE=\"database/migrations/2025_12_03_professional_suppliers.sql\"\n\nif [ ! -f \"$MIGRATION_FILE\" ]\n--------------\n\nERROR 1064 (42000) at line 6: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'echo \"============'","timestamp":1764806325646}]}