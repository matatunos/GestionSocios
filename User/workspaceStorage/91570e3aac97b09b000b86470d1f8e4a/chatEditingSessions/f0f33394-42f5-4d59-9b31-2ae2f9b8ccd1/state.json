{"version":2,"sessionId":"f0f33394-42f5-4d59-9b31-2ae2f9b8ccd1","initialFileContents":[["file:///root/Documentos/github/GestionSocios/src/Controllers/FeeController.php","1c9d4e1"],["file:///root/Documentos/github/GestionSocios/src/Views/settings/index.php","bb0f4a1"],["file:///root/Documentos/github/GestionSocios/src/Controllers/MemberController.php","abc0719"],["file:///root/Documentos/github/GestionSocios/src/Controllers/PaymentController.php","bdf12bf"],["file:///root/Documentos/github/GestionSocios/src/Controllers/EventController.php","d141666"],["file:///root/Documentos/github/GestionSocios/src/Controllers/BookAdController.php","37dbc46"],["file:///root/Documentos/github/GestionSocios/src/Controllers/SupplierController.php","2198d29"],["file:///root/Documentos/github/GestionSocios/src/Views/suppliers/show.php","ad6ea2a"],["file:///root/Documentos/github/GestionSocios/public/index.php","8af7c3c"],["file:///root/Documentos/github/GestionSocios/src/Controllers/MapController.php","0b8f77a"],["file:///root/Documentos/github/GestionSocios/src/Views/map/index.php","f121186"],["file:///root/Documentos/github/GestionSocios/database/schema.sql","52c3607"],["file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","da39a3e"],["file:///root/Documentos/github/GestionSocios/src/Models/Supplier.php","d39cf91"],["file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","da39a3e"],["file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","da39a3e"],["file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","da39a3e"],["file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","da39a3e"],["file:///root/Documentos/github/GestionSocios/src/Models/SupplierInvoice.php","2b682eb"],["file:///root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","da39a3e"],["file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","da39a3e"],["file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","da39a3e"],["file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","da39a3e"],["file:///root/Documentos/github/GestionSocios/src/Views/members/list.php","d09ccc6"],["file:///root/Documentos/github/GestionSocios/src/Views/members/create.php","2ebb8d2"],["file:///root/Documentos/github/GestionSocios/src/Views/accounting/reports/trial_balance.php","0303955"],["file:///root/Documentos/github/GestionSocios/src/Views/accounting/reports/general_ledger.php","28ddd56"],["file:///root/Documentos/github/GestionSocios/src/Views/accounting/entries/index.php","308580a"],["file:///root/Documentos/github/GestionSocios/src/Views/accounting/entries/view.php","0f8bea8"]],"timeline":{"checkpoints":[{"checkpointId":"d4da866a-c43d-4245-ae52-547548ecdbfa","epoch":0,"label":"Initial State","description":"Starting point before any edits"},{"checkpointId":"f379ff4c-13af-4df2-8f57-98faef3e029f","requestId":"request_8e32dcbc-595a-4945-b683-af7c97afeedf","epoch":1,"label":"Request request_8e32dcbc-595a-4945-b683-af7c97afeedf"},{"checkpointId":"8ff9e385-c665-498e-a96c-2fc19c1a1e0c","requestId":"request_5ffb6f99-874c-4df4-9612-100a1dfb4ee0","epoch":2,"label":"Request request_5ffb6f99-874c-4df4-9612-100a1dfb4ee0"},{"checkpointId":"4442f996-1ded-49ca-8787-d0885450c8f8","requestId":"request_5ffb6f99-874c-4df4-9612-100a1dfb4ee0","undoStopId":"b2377194-9856-474b-8ee6-cd1228001fa5","epoch":3,"label":"Request request_5ffb6f99-874c-4df4-9612-100a1dfb4ee0 - Stop b2377194-9856-474b-8ee6-cd1228001fa5"},{"checkpointId":"0efb9c00-e700-44db-b1a5-aaa9572f14c8","requestId":"request_5ffb6f99-874c-4df4-9612-100a1dfb4ee0","undoStopId":"45589d82-4df5-4123-a78c-407193fa1235","epoch":4,"label":"Request request_5ffb6f99-874c-4df4-9612-100a1dfb4ee0 - Stop 45589d82-4df5-4123-a78c-407193fa1235"},{"checkpointId":"c901a3fd-6b1f-4034-939c-8d562d487c5c","requestId":"request_5ffb6f99-874c-4df4-9612-100a1dfb4ee0","undoStopId":"6a74abef-b433-4230-8a52-d5ca772b202d","epoch":9,"label":"Request request_5ffb6f99-874c-4df4-9612-100a1dfb4ee0 - Stop 6a74abef-b433-4230-8a52-d5ca772b202d"},{"checkpointId":"09652a34-608e-4be3-94bf-a266f9b1ef2c","requestId":"request_5ffb6f99-874c-4df4-9612-100a1dfb4ee0","undoStopId":"a38a73be-096a-4f3d-9be0-708292530074","epoch":11,"label":"Request request_5ffb6f99-874c-4df4-9612-100a1dfb4ee0 - Stop a38a73be-096a-4f3d-9be0-708292530074"},{"checkpointId":"1f5164b4-18a8-454d-a0d3-7b1d7643dc54","requestId":"request_6fc134d9-a4c9-45b7-991a-aeb72b48204e","epoch":13,"label":"Request request_6fc134d9-a4c9-45b7-991a-aeb72b48204e"},{"checkpointId":"5dcdd9c0-5e45-4513-acc3-c6dfcc96d2ee","requestId":"request_6fc134d9-a4c9-45b7-991a-aeb72b48204e","undoStopId":"9d785f5f-f070-423e-bb76-5d2553cb226c","epoch":14,"label":"Request request_6fc134d9-a4c9-45b7-991a-aeb72b48204e - Stop 9d785f5f-f070-423e-bb76-5d2553cb226c"},{"checkpointId":"72d54656-7c26-4c19-bf57-f11a72dddfc8","requestId":"request_6fc134d9-a4c9-45b7-991a-aeb72b48204e","undoStopId":"a3fabe75-c823-4089-ac24-04a16d4746bb","epoch":15,"label":"Request request_6fc134d9-a4c9-45b7-991a-aeb72b48204e - Stop a3fabe75-c823-4089-ac24-04a16d4746bb"},{"checkpointId":"49a5bbc1-1b11-468a-a307-690ddc12bb9e","requestId":"request_6fc134d9-a4c9-45b7-991a-aeb72b48204e","undoStopId":"4b0578a9-37c5-4cb1-82e7-dc9a730259ec","epoch":20,"label":"Request request_6fc134d9-a4c9-45b7-991a-aeb72b48204e - Stop 4b0578a9-37c5-4cb1-82e7-dc9a730259ec"},{"checkpointId":"ff679a16-8105-47c0-b35e-363bd60c7163","requestId":"request_6fc134d9-a4c9-45b7-991a-aeb72b48204e","undoStopId":"941ec64c-3b1b-49c3-a15e-330afb743961","epoch":21,"label":"Request request_6fc134d9-a4c9-45b7-991a-aeb72b48204e - Stop 941ec64c-3b1b-49c3-a15e-330afb743961"},{"checkpointId":"cf5c6a2c-f209-4804-a747-8da6789804f8","requestId":"request_6fc134d9-a4c9-45b7-991a-aeb72b48204e","undoStopId":"d1536e7c-3f3f-4577-a566-5353fd0c6089","epoch":26,"label":"Request request_6fc134d9-a4c9-45b7-991a-aeb72b48204e - Stop d1536e7c-3f3f-4577-a566-5353fd0c6089"},{"checkpointId":"604f7b9b-3fba-4ebe-91df-5a7f87d6a409","requestId":"request_f8451068-e611-4234-b20b-7ddc07e79199","epoch":28,"label":"Request request_f8451068-e611-4234-b20b-7ddc07e79199"},{"checkpointId":"7090737e-c331-4f7a-9717-56cbd3e5cc0e","requestId":"request_f8451068-e611-4234-b20b-7ddc07e79199","undoStopId":"97fd7ef9-9210-41a7-8946-c48881d7917d","epoch":29,"label":"Request request_f8451068-e611-4234-b20b-7ddc07e79199 - Stop 97fd7ef9-9210-41a7-8946-c48881d7917d"},{"checkpointId":"5ad5c683-f3e5-48ca-9bf0-ed837b0b5de3","requestId":"request_f8451068-e611-4234-b20b-7ddc07e79199","undoStopId":"2ab99b65-ddd3-459c-9e30-9dc20ee7fbbc","epoch":30,"label":"Request request_f8451068-e611-4234-b20b-7ddc07e79199 - Stop 2ab99b65-ddd3-459c-9e30-9dc20ee7fbbc"},{"checkpointId":"846cccd6-a38f-4278-824a-78826c02f031","requestId":"request_f8451068-e611-4234-b20b-7ddc07e79199","undoStopId":"b94e4bd7-f8f1-4235-a8a3-f91c860ad68e","epoch":35,"label":"Request request_f8451068-e611-4234-b20b-7ddc07e79199 - Stop b94e4bd7-f8f1-4235-a8a3-f91c860ad68e"},{"checkpointId":"a1a326c8-abbc-4e37-adc7-a2b07918f69e","requestId":"request_9a87398a-cd2f-45b9-8818-0e0a5f6d2c26","epoch":38,"label":"Request request_9a87398a-cd2f-45b9-8818-0e0a5f6d2c26"},{"checkpointId":"e07c8bbf-35f9-47db-8504-f344adc70520","requestId":"request_9a87398a-cd2f-45b9-8818-0e0a5f6d2c26","undoStopId":"065dd910-8ced-474c-a691-e1acc30a1dae","epoch":39,"label":"Request request_9a87398a-cd2f-45b9-8818-0e0a5f6d2c26 - Stop 065dd910-8ced-474c-a691-e1acc30a1dae"},{"checkpointId":"eacc65bc-d043-42f1-9daf-4671f78e816f","requestId":"request_a92c01b3-b440-465e-9fbe-bd29138746d7","epoch":42,"label":"Request request_a92c01b3-b440-465e-9fbe-bd29138746d7"},{"checkpointId":"1898c86b-1fe6-41d7-ae5a-02e255ea60bc","requestId":"request_73b8f7ce-229c-46a5-9f3b-926190494f6d","epoch":43,"label":"Request request_73b8f7ce-229c-46a5-9f3b-926190494f6d"},{"checkpointId":"352311ff-b984-46f9-abcf-992db4478bb0","requestId":"request_73b8f7ce-229c-46a5-9f3b-926190494f6d","undoStopId":"2ef1c843-d69d-4141-b010-936d7f1bd0b6","epoch":44,"label":"Request request_73b8f7ce-229c-46a5-9f3b-926190494f6d - Stop 2ef1c843-d69d-4141-b010-936d7f1bd0b6"},{"checkpointId":"e2c16478-4de8-4f20-aaaa-a5e4dfeea56b","requestId":"request_73b8f7ce-229c-46a5-9f3b-926190494f6d","undoStopId":"38513bde-7f49-4362-8df7-ca873d5f7e86","epoch":45,"label":"Request request_73b8f7ce-229c-46a5-9f3b-926190494f6d - Stop 38513bde-7f49-4362-8df7-ca873d5f7e86"},{"checkpointId":"4e1f9d1d-73c5-49f1-bba9-40d2a7441896","requestId":"request_73b8f7ce-229c-46a5-9f3b-926190494f6d","undoStopId":"6a626c90-dd6b-40ff-97f9-6b71bde11b22","epoch":50,"label":"Request request_73b8f7ce-229c-46a5-9f3b-926190494f6d - Stop 6a626c90-dd6b-40ff-97f9-6b71bde11b22"},{"checkpointId":"5a46325b-2cce-48a2-9f6f-ee3e259f831e","requestId":"request_38140dc0-13e5-4b19-ad26-6aba426d5e9c","epoch":53,"label":"Request request_38140dc0-13e5-4b19-ad26-6aba426d5e9c"},{"checkpointId":"edf7e7e4-921b-48ed-8926-5ec2a0b6d84d","requestId":"request_38140dc0-13e5-4b19-ad26-6aba426d5e9c","undoStopId":"4998fffc-36b4-4bcc-bd6b-f927b7de3ef7","epoch":54,"label":"Request request_38140dc0-13e5-4b19-ad26-6aba426d5e9c - Stop 4998fffc-36b4-4bcc-bd6b-f927b7de3ef7"},{"checkpointId":"b90dd084-9649-42e1-9c1f-5eef1b54ab85","requestId":"request_38140dc0-13e5-4b19-ad26-6aba426d5e9c","undoStopId":"4a34a8d6-8472-492b-92ec-68aa3dddac04","epoch":57,"label":"Request request_38140dc0-13e5-4b19-ad26-6aba426d5e9c - Stop 4a34a8d6-8472-492b-92ec-68aa3dddac04"},{"checkpointId":"4988dfd3-e8a3-4f32-8030-0f45a1097dbd","requestId":"request_38140dc0-13e5-4b19-ad26-6aba426d5e9c","undoStopId":"abbf3c76-8572-4fa9-a459-a226f0d38ba1","epoch":60,"label":"Request request_38140dc0-13e5-4b19-ad26-6aba426d5e9c - Stop abbf3c76-8572-4fa9-a459-a226f0d38ba1"},{"checkpointId":"5747a541-6166-400f-ae91-51c9222fa407","requestId":"request_38140dc0-13e5-4b19-ad26-6aba426d5e9c","undoStopId":"c308979d-56f9-4ef4-ae9e-d534126b7a2f","epoch":62,"label":"Request request_38140dc0-13e5-4b19-ad26-6aba426d5e9c - Stop c308979d-56f9-4ef4-ae9e-d534126b7a2f"},{"checkpointId":"6b75fa31-4c28-4986-8222-663f7ddb014a","requestId":"request_38140dc0-13e5-4b19-ad26-6aba426d5e9c","undoStopId":"afde9b66-3623-408d-b1df-27af7e90fe05","epoch":64,"label":"Request request_38140dc0-13e5-4b19-ad26-6aba426d5e9c - Stop afde9b66-3623-408d-b1df-27af7e90fe05"},{"checkpointId":"a4a80fa4-7cfa-4366-8b13-986a58b83ed4","requestId":"request_38140dc0-13e5-4b19-ad26-6aba426d5e9c","undoStopId":"d1150854-f821-4167-9316-871009e71e38","epoch":66,"label":"Request request_38140dc0-13e5-4b19-ad26-6aba426d5e9c - Stop d1150854-f821-4167-9316-871009e71e38"},{"checkpointId":"3add3596-9629-4d3e-ab89-0eb0011414a4","requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":68,"label":"Request request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356"},{"checkpointId":"ecf3bd8e-97d8-413d-a2c4-2308dd13b76a","requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","undoStopId":"6a894bb7-7e01-4166-9234-3c21a7421058","epoch":69,"label":"Request request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356 - Stop 6a894bb7-7e01-4166-9234-3c21a7421058"},{"checkpointId":"5b68b738-062b-48f7-9745-da67e895fdd3","requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","undoStopId":"56089b59-7edb-4f08-b1fb-6d1db8178901","epoch":230,"label":"Request request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356 - Stop 56089b59-7edb-4f08-b1fb-6d1db8178901"},{"checkpointId":"ab4b08d0-2a53-4cef-a948-cf389d0ee4a4","requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","undoStopId":"872a44ec-f543-4ae0-9f8e-544a9a385272","epoch":233,"label":"Request request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356 - Stop 872a44ec-f543-4ae0-9f8e-544a9a385272"},{"checkpointId":"cee1d8f0-febd-45cd-a57a-81bed8dddacc","requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","undoStopId":"e2238c66-7e85-4298-9c40-45c1f46dcfd4","epoch":235,"label":"Request request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356 - Stop e2238c66-7e85-4298-9c40-45c1f46dcfd4"},{"checkpointId":"10824ce1-4ffc-4bd1-9e6e-8ba506d9642d","requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","undoStopId":"695363f6-e7c8-4edc-9fd5-460e630026f6","epoch":237,"label":"Request request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356 - Stop 695363f6-e7c8-4edc-9fd5-460e630026f6"},{"checkpointId":"9713fb43-2f45-4cc3-a5cd-28db1ec20be9","requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","undoStopId":"3d877532-5de1-4b89-9009-8c9e3fc053f5","epoch":1110,"label":"Request request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356 - Stop 3d877532-5de1-4b89-9009-8c9e3fc053f5"},{"checkpointId":"46936e3a-6a52-4703-ab5a-99ca645d17a0","requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","undoStopId":"60e62ff0-951f-4e83-913a-480479422fed","epoch":1113,"label":"Request request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356 - Stop 60e62ff0-951f-4e83-913a-480479422fed"},{"checkpointId":"8253c120-9ca6-4ea2-8de0-7ef690b417a1","requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","undoStopId":"378bf569-8bac-433a-9d67-dc07e30336f5","epoch":1115,"label":"Request request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356 - Stop 378bf569-8bac-433a-9d67-dc07e30336f5"},{"checkpointId":"3e36d97c-8ca5-413f-99ca-b2c85c348efc","requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1775,"label":"Request request_27640887-3aed-4fe6-bf5f-ef087336aab4"},{"checkpointId":"6cba58e2-e7f8-47aa-bb1f-09d1dc9c5109","requestId":"request_6f40fc65-7c2e-4cc4-b7b5-f8690f464bf0","epoch":2641,"label":"Request request_6f40fc65-7c2e-4cc4-b7b5-f8690f464bf0"},{"checkpointId":"83d76e1b-034d-4289-83d9-29350b54205f","requestId":"request_b233339b-ff02-4e85-af99-dd6273a1c637","epoch":2642,"label":"Request request_b233339b-ff02-4e85-af99-dd6273a1c637"},{"checkpointId":"e2f8d6ce-9d29-4dc8-b760-5f4e43e414af","requestId":"request_fa5d389a-11a8-42ed-8260-fd2ccd840977","epoch":2643,"label":"Request request_fa5d389a-11a8-42ed-8260-fd2ccd840977"},{"checkpointId":"4f3e0ce6-ffd6-4be8-8ba3-346c5e824075","requestId":"request_fa5d389a-11a8-42ed-8260-fd2ccd840977","undoStopId":"bc50699f-6c08-4396-a5fd-d6784acd1310","epoch":2644,"label":"Request request_fa5d389a-11a8-42ed-8260-fd2ccd840977 - Stop bc50699f-6c08-4396-a5fd-d6784acd1310"},{"checkpointId":"a9ff1ec2-695f-469f-8ae9-d34e4a9ae879","requestId":"request_1dacf2a0-dbff-43d0-9647-607894b963ac","epoch":2647,"label":"Request request_1dacf2a0-dbff-43d0-9647-607894b963ac"},{"checkpointId":"1c7340e6-aabf-4c0b-b8a8-3507c0a55926","requestId":"request_879e9a22-7b9b-4c1f-9488-b77d43ff55d5","epoch":2648,"label":"Request request_879e9a22-7b9b-4c1f-9488-b77d43ff55d5"},{"checkpointId":"42cfd744-04f6-4496-9c0a-41a29859bc8c","requestId":"request_879e9a22-7b9b-4c1f-9488-b77d43ff55d5","undoStopId":"5140f7c1-38dd-4f19-bbc4-04ed0a15144d","epoch":2649,"label":"Request request_879e9a22-7b9b-4c1f-9488-b77d43ff55d5 - Stop 5140f7c1-38dd-4f19-bbc4-04ed0a15144d"},{"checkpointId":"07894372-443f-4142-8723-b9ba71454821","requestId":"request_f13d16a9-3e4c-46a0-9255-1c2d29ecdabb","epoch":2652,"label":"Request request_f13d16a9-3e4c-46a0-9255-1c2d29ecdabb"},{"checkpointId":"89017c7f-3125-4a13-b570-d1a0a62ec985","requestId":"request_c79809d6-e245-449c-aeec-2925f8368b5f","epoch":2653,"label":"Request request_c79809d6-e245-449c-aeec-2925f8368b5f"},{"checkpointId":"f4097c93-df16-4107-a163-c889b6eb4f43","requestId":"request_c79809d6-e245-449c-aeec-2925f8368b5f","undoStopId":"0a3bfab5-0caf-42c9-b0a1-c552f1ae50a4","epoch":2654,"label":"Request request_c79809d6-e245-449c-aeec-2925f8368b5f - Stop 0a3bfab5-0caf-42c9-b0a1-c552f1ae50a4"},{"checkpointId":"eebd58db-aa41-471c-9857-2cec47689cf4","requestId":"request_bc934303-7190-4569-9639-7e2b4f87ee90","epoch":2657,"label":"Request request_bc934303-7190-4569-9639-7e2b4f87ee90"},{"checkpointId":"30a13f32-9b02-441f-be74-ce3342bc2bd8","requestId":"request_07765fb5-1bc4-46eb-b116-92349990c21c","epoch":2658,"label":"Request request_07765fb5-1bc4-46eb-b116-92349990c21c"},{"checkpointId":"9d8a68fc-15ba-46f4-8918-553651eb5bbf","requestId":"request_07765fb5-1bc4-46eb-b116-92349990c21c","undoStopId":"a60eb557-b8c6-4a3c-9981-2934b79ccf59","epoch":2659,"label":"Request request_07765fb5-1bc4-46eb-b116-92349990c21c - Stop a60eb557-b8c6-4a3c-9981-2934b79ccf59"},{"checkpointId":"c17cbd7a-69ff-43b5-b09a-49c33c1c0af4","requestId":"request_a8720f81-6a4d-44ce-bd51-59bc5f6f360d","epoch":2662,"label":"Request request_a8720f81-6a4d-44ce-bd51-59bc5f6f360d"},{"checkpointId":"a8f00100-43d2-4e5a-99cc-b38793a283b4","requestId":"request_4d417b6f-df61-4f23-9d1e-053cb3838bf2","epoch":2663,"label":"Request request_4d417b6f-df61-4f23-9d1e-053cb3838bf2"},{"checkpointId":"1e2acca1-17ac-4bd6-9d2d-4e12c35d7604","requestId":"request_4d417b6f-df61-4f23-9d1e-053cb3838bf2","undoStopId":"b1ce96ce-4ce1-462a-bf64-af0efc6d4f3c","epoch":2664,"label":"Request request_4d417b6f-df61-4f23-9d1e-053cb3838bf2 - Stop b1ce96ce-4ce1-462a-bf64-af0efc6d4f3c"},{"checkpointId":"89244bf8-345f-4085-bb20-5b59e8def8bb","requestId":"request_39bbc355-b042-4bc7-a04b-9e8cf5eaec75","epoch":2667,"label":"Request request_39bbc355-b042-4bc7-a04b-9e8cf5eaec75"},{"checkpointId":"7c4d2776-bba5-4db7-a7bf-3cf3d47a20ba","requestId":"request_39bbc355-b042-4bc7-a04b-9e8cf5eaec75","undoStopId":"d1d54cd8-559b-4938-8364-196eb5abc892","epoch":2668,"label":"Request request_39bbc355-b042-4bc7-a04b-9e8cf5eaec75 - Stop d1d54cd8-559b-4938-8364-196eb5abc892"},{"checkpointId":"3711ac7c-149a-4d21-a8da-305f7ab27831","requestId":"request_39bbc355-b042-4bc7-a04b-9e8cf5eaec75","undoStopId":"ec9f5c9b-9ef8-40a7-a31e-2ab8787202b0","epoch":2669,"label":"Request request_39bbc355-b042-4bc7-a04b-9e8cf5eaec75 - Stop ec9f5c9b-9ef8-40a7-a31e-2ab8787202b0"},{"checkpointId":"c18ed13f-82fe-4286-8bd7-dd51e0bb8ceb","requestId":"request_1875dd0f-a3da-4469-8357-4bea81fd78a6","epoch":2674,"label":"Request request_1875dd0f-a3da-4469-8357-4bea81fd78a6"},{"checkpointId":"27b1478b-7882-49ce-a2c9-58bd2742db71","requestId":"request_1875dd0f-a3da-4469-8357-4bea81fd78a6","undoStopId":"bd8021ec-2b25-4094-8951-0404b9ca68f6","epoch":2675,"label":"Request request_1875dd0f-a3da-4469-8357-4bea81fd78a6 - Stop bd8021ec-2b25-4094-8951-0404b9ca68f6"},{"checkpointId":"a45ab26e-24fd-450b-8c62-af8ad204b48c","requestId":"request_1875dd0f-a3da-4469-8357-4bea81fd78a6","undoStopId":"e2326cb2-3b4f-4dc7-b5dc-7d1014923f7c","epoch":2678,"label":"Request request_1875dd0f-a3da-4469-8357-4bea81fd78a6 - Stop e2326cb2-3b4f-4dc7-b5dc-7d1014923f7c"},{"checkpointId":"dda92bf5-3712-466c-bc0a-31ed8e2e4cc6","requestId":"request_518088f2-fcfe-4f33-b9de-635f26d211bc","epoch":2681,"label":"Request request_518088f2-fcfe-4f33-b9de-635f26d211bc"},{"checkpointId":"5c284ca1-910d-4373-8644-f0b89f497431","requestId":"request_518088f2-fcfe-4f33-b9de-635f26d211bc","undoStopId":"ab80ec9e-b57f-4e95-87a9-08e824976e4f","epoch":2682,"label":"Request request_518088f2-fcfe-4f33-b9de-635f26d211bc - Stop ab80ec9e-b57f-4e95-87a9-08e824976e4f"},{"checkpointId":"92512c02-ba02-4725-b5b8-5fc6d54ba1be","requestId":"request_d56ce38c-97d7-40f3-880e-c9b003edca9e","epoch":2685,"label":"Request request_d56ce38c-97d7-40f3-880e-c9b003edca9e"},{"checkpointId":"19dd385c-8072-4529-a656-b598d29b3c4e","requestId":"request_d56ce38c-97d7-40f3-880e-c9b003edca9e","undoStopId":"ae6d5443-7337-4532-b9c0-1fc1ab7320ad","epoch":2686,"label":"Request request_d56ce38c-97d7-40f3-880e-c9b003edca9e - Stop ae6d5443-7337-4532-b9c0-1fc1ab7320ad"},{"checkpointId":"2c09e3b0-08f3-4d33-918c-d66085f0ac57","requestId":"request_fb593d37-7a40-4b03-873d-63a3f5d03621","epoch":2689,"label":"Request request_fb593d37-7a40-4b03-873d-63a3f5d03621"},{"checkpointId":"cf1ce102-55fd-4ca1-bb74-212da48fe4f0","requestId":"request_fb593d37-7a40-4b03-873d-63a3f5d03621","undoStopId":"639b2201-81cf-442d-8b7f-c68750375e85","epoch":2690,"label":"Request request_fb593d37-7a40-4b03-873d-63a3f5d03621 - Stop 639b2201-81cf-442d-8b7f-c68750375e85"},{"checkpointId":"1bbe70e4-9ac0-48ce-8c15-884051454615","requestId":"request_fb593d37-7a40-4b03-873d-63a3f5d03621","undoStopId":"7cac6e30-6798-46df-99be-6b5bf2464ade","epoch":2693,"label":"Request request_fb593d37-7a40-4b03-873d-63a3f5d03621 - Stop 7cac6e30-6798-46df-99be-6b5bf2464ade"},{"checkpointId":"4f52d837-3206-466e-9364-df07dffe4e8e","requestId":"request_957867f5-dfec-4950-bd22-bffab2e8c048","epoch":2695,"label":"Request request_957867f5-dfec-4950-bd22-bffab2e8c048"},{"checkpointId":"b69464c0-fdef-41a9-89b7-20fdc71aa91d","requestId":"request_957867f5-dfec-4950-bd22-bffab2e8c048","undoStopId":"90150b94-a252-44e2-82ec-8a303a003b13","epoch":2696,"label":"Request request_957867f5-dfec-4950-bd22-bffab2e8c048 - Stop 90150b94-a252-44e2-82ec-8a303a003b13"},{"checkpointId":"d20f8f54-7809-4d63-99f3-81f548c430d5","requestId":"request_e577c165-df3e-45af-a7df-cba6ca015045","epoch":2699,"label":"Request request_e577c165-df3e-45af-a7df-cba6ca015045"},{"checkpointId":"994f0f5c-ab40-44d4-a0ef-526bfb62ec79","requestId":"request_e577c165-df3e-45af-a7df-cba6ca015045","undoStopId":"f8e801d7-ffbd-401c-a524-7d5da3960460","epoch":2700,"label":"Request request_e577c165-df3e-45af-a7df-cba6ca015045 - Stop f8e801d7-ffbd-401c-a524-7d5da3960460"},{"checkpointId":"eb8b9888-460d-4be5-af2b-6e0fb571932c","requestId":"request_e577c165-df3e-45af-a7df-cba6ca015045","undoStopId":"fb5f0a1a-ed9a-43c7-bb7a-e4222a44161d","epoch":2703,"label":"Request request_e577c165-df3e-45af-a7df-cba6ca015045 - Stop fb5f0a1a-ed9a-43c7-bb7a-e4222a44161d"},{"checkpointId":"50a88872-9da9-4909-9b24-7eff8ff7dbaf","requestId":"request_d3511da5-4b05-4424-b254-96984469ec92","epoch":2705,"label":"Request request_d3511da5-4b05-4424-b254-96984469ec92"},{"checkpointId":"15049f27-9144-4483-92ee-5fc598256646","requestId":"request_d3511da5-4b05-4424-b254-96984469ec92","undoStopId":"d48396d7-b97f-43c0-a2f5-46f5220f84a7","epoch":2706,"label":"Request request_d3511da5-4b05-4424-b254-96984469ec92 - Stop d48396d7-b97f-43c0-a2f5-46f5220f84a7"},{"checkpointId":"1dc913dd-058d-4e63-8e35-70265f0ec74b","requestId":"request_f8904a2d-4999-471f-808f-0626fefbf005","epoch":2709,"label":"Request request_f8904a2d-4999-471f-808f-0626fefbf005"},{"checkpointId":"da3f4bd0-c508-428d-9cb2-12b39032d6eb","requestId":"request_f8904a2d-4999-471f-808f-0626fefbf005","undoStopId":"e2ae27ab-83f3-48e8-8c4d-0bd936c607c4","epoch":2710,"label":"Request request_f8904a2d-4999-471f-808f-0626fefbf005 - Stop e2ae27ab-83f3-48e8-8c4d-0bd936c607c4"}],"currentEpoch":2713,"fileBaselines":[["file:///root/Documentos/github/GestionSocios/src/Controllers/FeeController.php::request_5ffb6f99-874c-4df4-9612-100a1dfb4ee0",{"uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Controllers/FeeController.php","external":"file:///root/Documentos/github/GestionSocios/src/Controllers/FeeController.php","path":"/root/Documentos/github/GestionSocios/src/Controllers/FeeController.php","scheme":"file"},"requestId":"request_5ffb6f99-874c-4df4-9612-100a1dfb4ee0","content":"<?php\n\nclass FeeController {\n    private $db;\n    private $fee;\n\n    public function __construct() {\n        $database = new Database();\n        $this->db = $database->getConnection();\n        $this->fee = new Fee($this->db);\n    }\n\n    private function checkAdmin() {\n        if (($_SESSION['role'] ?? '') !== 'admin') {\n            header('Location: index.php?page=dashboard');\n            exit;\n        }\n    }\n\n    public function index() {\n        $this->checkAdmin();\n        // Redirect to settings as fees are now managed there\n        header('Location: index.php?page=settings&tab=fees');\n        exit;\n    }\n\n    public function store() {\n        $this->checkAdmin();\n        if ($_SERVER['REQUEST_METHOD'] === 'POST') {\n            // Validate CSRF token\n            require_once __DIR__ . '/../Helpers/CsrfHelper.php';\n            CsrfHelper::validateRequest();\n            \n            try {\n                $year = $_POST['year'];\n                $this->fee->year = $year;\n                $this->fee->amount = $_POST['amount'];\n\n                // Check if fee already exists to provide appropriate message\n                $exists = $this->fee->exists($year);\n\n                if ($this->fee->createOrUpdate()) {\n                    // Auditoría de alta/modificación de tarifa\n                    require_once __DIR__ . '/../Models/AuditLog.php';\n                    $audit = new AuditLog($this->db);\n                    $action = $exists ? 'update' : 'create';\n                    $audit->create($_SESSION['user_id'], $action, 'fee', $year, 'Tarifa de socio ' . ($exists ? 'modificada' : 'creada') . ' por el usuario ' . ($_SESSION['username'] ?? ''));\n                    header(\"Location: index.php?page=settings&tab=fees&success=$action&year=$year\");\n                    exit;\n                } else {\n                    // In case of error, we might want to redirect back with error param\n                    header(\"Location: index.php?page=settings&tab=fees&error=save_failed\");\n                    exit;\n                }\n            } catch (Exception $e) {\n                header(\"Location: index.php?page=settings&tab=fees&error=\" . urlencode($e->getMessage()));\n                exit;\n            }\n        }\n    }\n\n    public function generatePayments($year) {\n        $this->checkAdmin();\n        \n        // Get fee amount for the year\n        $this->fee->year = $year;\n        // Simple query to get amount (should add readOne to model, but this works for now)\n        $stmt = $this->db->prepare(\"SELECT amount FROM annual_fees WHERE year = ?\");\n        $stmt->execute([$year]);\n        $fee = $stmt->fetch(PDO::FETCH_ASSOC);\n\n        if (!$fee) {\n            header('Location: index.php?page=settings&tab=fees&error=no_fee_defined');\n            exit;\n        }\n\n        $amount = $fee['amount'];\n        $concept = \"Cuota Anual \" . $year;\n\n        // Get all active members\n        $memberModel = new Member($this->db);\n        $stmt = $memberModel->readAll();\n        $members = $stmt->fetchAll(PDO::FETCH_ASSOC);\n\n        $count = 0;\n        foreach ($members as $member) {\n            if ($member['status'] !== 'active') continue;\n\n            // Check if payment already exists for this member and year\n            $check = $this->db->prepare(\"SELECT id FROM payments WHERE member_id = ? AND fee_year = ?\");\n            $check->execute([$member['id'], $year]);\n            \n            if (!$check->fetch()) {\n                // Create pending payment\n                $payment = new Payment($this->db);\n                $payment->member_id = $member['id'];\n                $payment->amount = $amount;\n                $payment->payment_date = date('Y-m-d'); // Or maybe null? Let's say today.\n                $payment->concept = $concept;\n                $payment->status = 'pending';\n                // We need to add fee_year and payment_type to Payment model create method first!\n                // For now, let's do a direct insert to ensure it works with the new columns\n                $query = \"INSERT INTO payments (member_id, amount, payment_date, concept, status, fee_year, payment_type) \n                          VALUES (?, ?, ?, ?, 'pending', ?, 'fee')\";\n                $ins = $this->db->prepare($query);\n                $ins->execute([$member['id'], $amount, date('Y-m-d'), $concept, $year]);\n                $count++;\n            }\n        }\n\n        header(\"Location: index.php?page=settings&tab=fees&success=generated&count=$count&year=$year\");\n    }\n}\n","epoch":5,"telemetryInfo":{}}],["file:///root/Documentos/github/GestionSocios/src/Views/settings/index.php::request_5ffb6f99-874c-4df4-9612-100a1dfb4ee0",{"uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Views/settings/index.php","external":"file:///root/Documentos/github/GestionSocios/src/Views/settings/index.php","path":"/root/Documentos/github/GestionSocios/src/Views/settings/index.php","scheme":"file"},"requestId":"request_5ffb6f99-874c-4df4-9612-100a1dfb4ee0","content":"<?php ?>\n\n<style>\n.tab-content { display: none; }\n.tabs-system input[type=\"radio\"] {\n    position: absolute;\n    left: -9999px;\n}\n.tabs-nav {\n    display: flex;\n    justify-content: center;\n    gap: 1rem;\n    border-bottom: 3px solid var(--border-light);\n    background: var(--bg-card);\n    margin-bottom: 0;\n    z-index: 2;\n}\n.tabs-system #tab-organization:checked ~ .tabs-nav label[for=\"tab-organization\"],\n.tabs-system #tab-fees:checked ~ .tabs-nav label[for=\"tab-fees\"],\n.tabs-system #tab-ad_prices:checked ~ .tabs-nav label[for=\"tab-ad_prices\"],\n.tabs-system #tab-database:checked ~ .tabs-nav label[for=\"tab-database\"],\n.tabs-system #tab-security:checked ~ .tabs-nav label[for=\"tab-security\"] {\n    background: var(--primary-100, #e0e7ff);\n    color: var(--primary-700, #3730a3);\n    font-weight: bold;\n    border-radius: 8px 8px 0 0;\n    box-shadow: 0 2px 8px rgba(0,0,0,0.04);\n}\n.tabs-system #tab-organization:checked ~ .tab-content-wrapper #organization,\n.tabs-system #tab-fees:checked ~ .tab-content-wrapper #fees,\n.tabs-system #tab-ad_prices:checked ~ .tab-content-wrapper #ad_prices,\n.tabs-system #tab-database:checked ~ .tab-content-wrapper #database,\n.tabs-system #tab-security:checked ~ .tab-content-wrapper #security {\n    display: block;\n}\n.settings-container {\n    max-width: 1200px;\n    margin: 0 auto;\n}\n\n.settings-header {\n    margin-bottom: 2rem;\n}\n\n.settings-header h1 {\n    font-size: 2rem;\n    font-weight: 700;\n    color: var(--text-color);\n}\n\n.tabs-container {\n    background: var(--bg-card);\n    border-radius: var(--radius-lg);\n    box-shadow: var(--shadow-md);\n    overflow: hidden;\n}\n\n.tabs-nav {\n    background: var(--bg-card);\n    border-bottom: 3px solid var(--border-light);\n}\n\n.tabs-nav-primary {\n    display: flex;\n    justify-content: center;\n    gap: 0.5rem;\n    padding: 1rem 1rem 0.5rem 1rem;\n    border-bottom: 2px solid var(--border-light);\n}\n\n.tabs-nav-secondary {\n    display: flex;\n    justify-content: center;\n    gap: 0.5rem;\n    padding: 0.75rem 1rem 0 1rem;\n    flex-wrap: wrap;\n}\n\n.tab-btn {\n    background: none;\n    border: none;\n    padding: 0.75rem 1.5rem;\n    font-size: 0.95rem;\n    font-weight: 500;\n    color: var(--text-muted);\n    cursor: pointer;\n    position: relative;\n    transition: all 0.3s ease;\n    border-bottom: 4px solid transparent;\n    margin-bottom: -3px;\n    border-radius: 8px 8px 0 0;\n    white-space: nowrap;\n}\n\n.tab-btn.primary {\n    font-size: 1rem;\n    padding: 0.875rem 1.75rem;\n}\n\n.tab-btn.secondary {\n    font-size: 0.875rem;\n    padding: 0.625rem 1.25rem;\n}\n\n.tab-btn:hover {\n    color: var(--primary-600);\n    background: var(--primary-50);\n}\n\n.tab-btn.active {\n    color: var(--primary-600);\n    font-weight: 700;\n    border-bottom-color: var(--primary-600);\n    background: var(--primary-50);\n}\n\n.tab-btn i {\n    margin-right: 0.5rem;\n    font-size: 1rem;\n}\n\n.tab-content-wrapper {\n    padding: 2rem;\n}\n\n.section-title {\n    font-size: 1.5rem;\n    font-weight: 700;\n    color: var(--text-color);\n    margin-bottom: 1.5rem;\n}\n\n.settings-grid {\n    display: grid;\n    grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));\n    gap: 2rem;\n}\n\n.tab-content { display: none; }\n.tab-content.active-tab { display: block; }\n\n@media (max-width: 768px) {\n    .settings-grid {\n        grid-template-columns: 1fr;\n    }\n    \n    .tabs-nav-primary,\n    .tabs-nav-secondary {\n        overflow-x: auto;\n        justify-content: flex-start;\n        padding: 0.75rem 1rem;\n    }\n    \n    .tab-btn {\n        flex: 0 0 auto;\n        font-size: 0.85rem !important;\n        padding: 0.625rem 1rem !important;\n    }\n}\n    .category-card {\n        background: white;\n        border-radius: var(--radius-lg);\n        padding: 1.5rem;\n        margin-bottom: 1rem;\n        box-shadow: var(--shadow-md);\n        border-left: 4px solid;\n        transition: all 0.3s ease;\n    }\n    .category-card:hover {\n        box-shadow: var(--shadow-lg);\n        transform: translateY(-2px);\n    }\n    .category-header {\n        display: flex;\n        justify-content: space-between;\n        align-items: start;\n        margin-bottom: 1rem;\n    }\n    .category-info h3 {\n        font-size: 1.25rem;\n        font-weight: 600;\n        margin-bottom: 0.5rem;\n        display: flex;\n        align-items: center;\n        gap: 0.75rem;\n    }\n    .category-badge {\n        display: inline-block;\n        padding: 0.25rem 0.75rem;\n        font-weight: 700;\n        color: var(--primary-600);\n    }\n    .stat-label {\n        font-size: 0.875rem;\n        color: var(--text-muted);\n        margin-top: 0.25rem;\n    }\n    .category-actions { display: flex; gap: 0.5rem; }\n\n    /* Organization Settings Redesign */\n    .settings-section-header {\n        margin-bottom: 2rem;\n        padding-bottom: 1rem;\n        border-bottom: 1px solid var(--border-light);\n    }\n    .settings-section-header h2 {\n        font-size: 1.75rem;\n        color: var(--text-main);\n        margin-bottom: 0.5rem;\n    }\n    \n    .settings-grid-layout {\n        display: grid;\n        grid-template-columns: repeat(auto-fit, minmax(450px, 1fr));\n        gap: 1.5rem;\n        margin-bottom: 2rem;\n    }\n    \n    .settings-card {\n        background: var(--bg-card);\n        border-radius: var(--radius-lg);\n        box-shadow: var(--shadow-sm);\n        border: 1px solid var(--border-light);\n        overflow: hidden;\n        transition: transform 0.2s, box-shadow 0.2s;\n        height: 100%;\n    }\n    .settings-card:hover {\n        transform: translateY(-2px);\n        box-shadow: var(--shadow-md);\n    }\n    \n    .settings-card .card-header {\n        padding: 1.5rem;\n        background: var(--bg-main);\n        border-bottom: 1px solid var(--border-light);\n        display: flex;\n        align-items: center;\n        gap: 1rem;\n    }\n    \n    .header-icon {\n        width: 48px;\n        height: 48px;\n        border-radius: 12px;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        font-size: 1.5rem;\n    }\n    \n    .bg-primary-light { background: var(--primary-50); color: var(--primary-600); }\n    .bg-success-light { background: #dcfce7; color: #166534; }\n    .bg-purple-light { background: #f3e8ff; color: #7e22ce; }\n    .bg-warning-light { background: #fef9c3; color: #854d0e; }\n    \n    .header-text h3 {\n        font-size: 1.1rem;\n        font-weight: 600;\n        margin: 0;\n        color: var(--text-main);\n    }\n    .header-text p {\n        margin: 0;\n        font-size: 0.85rem;\n        color: var(--text-muted);\n    }\n    \n    .settings-card .card-body {\n        padding: 1.5rem;\n    }\n    \n    .form-actions-sticky {\n        position: sticky;\n        bottom: 2rem;\n        background: var(--bg-card);\n        padding: 1rem 2rem;\n        border-radius: var(--radius-lg);\n        box-shadow: var(--shadow-lg);\n        border: 1px solid var(--border-light);\n        display: flex;\n        justify-content: flex-end;\n        z-index: 10;\n        margin-top: 2rem;\n    }\n    \n    .logo-preview-container {\n        width: 100%;\n        height: 140px;\n        background: var(--bg-main);\n        border: 2px dashed var(--border-light);\n        border-radius: var(--radius-md);\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        overflow: hidden;\n    }\n    \n    .placeholder-logo {\n        text-align: center;\n    }\n    \n    @media (max-width: 768px) {\n        .settings-grid-layout {\n            grid-template-columns: 1fr;\n        }\n        .form-actions-sticky {\n            position: fixed;\n            bottom: 0;\n            left: 0;\n            right: 0;\n            border-radius: 0;\n            border-top: 1px solid var(--border-light);\n        }\n    }\n</style>\n\n<div class=\"settings-container\">\n    <div class=\"settings-header\">\n        <h1><i class=\"fas fa-cog\"></i> Configuración</h1>\n    </div>\n    <div class=\"tabs-container\">\n        <div class=\"tabs-nav\">\n            <!-- Nivel 1: Categorías principales -->\n            <div class=\"tabs-nav-primary\">\n                <button class=\"tab-btn primary\" onclick=\"switchTab('organization')\" id=\"tab-organization\">\n                    <i class=\"fas fa-building\"></i> Organización\n                </button>\n                <button class=\"tab-btn primary\" onclick=\"switchTab('members')\" id=\"tab-members\">\n                    <i class=\"fas fa-users\"></i> Socios\n                </button>\n                <button class=\"tab-btn primary\" onclick=\"switchTab('database')\" id=\"tab-database\">\n                    <i class=\"fas fa-database\"></i> Base de Datos\n                </button>\n                <button class=\"tab-btn primary\" onclick=\"switchTab('admin_users')\" id=\"tab-admin_users\">\n                    <i class=\"fas fa-user-shield\"></i> Usuarios Admin\n                </button>\n            </div>\n            \n            <!-- Nivel 2: Configuraciones específicas -->\n            <div class=\"tabs-nav-secondary\">\n                <button class=\"tab-btn secondary\" onclick=\"switchTab('ad_prices')\" id=\"tab-ad_prices\">\n                    <i class=\"fas fa-tags\"></i> Precios Anuncios\n                </button>\n                <button class=\"tab-btn secondary\" onclick=\"switchTab('notifications')\" id=\"tab-notifications\">\n                    <i class=\"fas fa-bell\"></i> Notificaciones\n                </button>\n                <button class=\"tab-btn secondary\" onclick=\"switchTab('social_media')\" id=\"tab-social_media\">\n                    <i class=\"fab fa-share-alt\"></i> Redes Sociales\n                </button>\n                <button class=\"tab-btn secondary\" onclick=\"switchTab('password-policy')\" id=\"tab-password-policy\">\n                    <i class=\"fas fa-shield-alt\"></i> Contraseñas\n                </button>\n            </div>\n        </div>\n        <!-- Organization Tab -->\n        <div id=\"organization\" class=\"tab-content active-tab\">\n            <div class=\"settings-section-header\">\n                <div>\n                    <h2 class=\"section-title\"><i class=\"fas fa-building\"></i> Configuración de la Organización</h2>\n                    <p class=\"text-muted\">Gestiona la información pública, legal y de contacto de tu entidad.</p>\n                </div>\n            </div>\n\n            <?php if (isset($_SESSION['success'])): ?>\n                <div class=\"alert alert-success\"><i class=\"fas fa-check-circle\"></i> <?= $_SESSION['success']; unset($_SESSION['success']); ?></div>\n            <?php endif; ?>\n            <?php if (isset($_SESSION['error'])): ?>\n                <div class=\"alert alert-danger\"><i class=\"fas fa-exclamation-circle\"></i> <?= $_SESSION['error']; unset($_SESSION['error']); ?></div>\n            <?php endif; ?>\n\n            <form action=\"index.php?page=settings&action=updateOrganization\" method=\"POST\" enctype=\"multipart/form-data\">\n                <div class=\"settings-grid-layout\">\n                    \n                    <!-- Información General -->\n                    <div class=\"settings-card\">\n                        <div class=\"card-header\">\n                            <div class=\"header-icon bg-primary-light text-primary\">\n                                <i class=\"fas fa-info\"></i>\n                            </div>\n                            <div class=\"header-text\">\n                                <h3>Información General</h3>\n                                <p>Datos básicos de identificación</p>\n                            </div>\n                        </div>\n                        <div class=\"card-body\">\n                            <div class=\"form-group mb-4\">\n                                <label class=\"form-label\" for=\"org_name\">Nombre Completo de la Entidad</label>\n                                <input type=\"text\" name=\"org_name\" id=\"org_name\" class=\"form-control form-control-lg\" value=\"<?= htmlspecialchars($generalSettings['org_name']['value'] ?? '') ?>\" placeholder=\"Ej. Asociación Cultural...\">\n                            </div>\n                            <div class=\"row\">\n                                <div class=\"col-md-6 mb-3\">\n                                    <label class=\"form-label\" for=\"org_short_name\">Siglas / Acrónimo</label>\n                                    <input type=\"text\" name=\"org_short_name\" id=\"org_short_name\" class=\"form-control\" value=\"<?= htmlspecialchars($generalSettings['org_short_name']['value'] ?? '') ?>\" placeholder=\"Ej. AC...\">\n                                </div>\n                                <div class=\"col-md-6 mb-3\">\n                                    <label class=\"form-label\" for=\"org_founded_year\">Año de Fundación</label>\n                                    <input type=\"number\" name=\"org_founded_year\" id=\"org_founded_year\" class=\"form-control\" value=\"<?= htmlspecialchars($generalSettings['org_founded_year']['value'] ?? '') ?>\">\n                                </div>\n                            </div>\n                            <div class=\"row\">\n                                <div class=\"col-md-6 mb-3\">\n                                    <label class=\"form-label\" for=\"org_cif\">CIF / NIF</label>\n                                    <input type=\"text\" name=\"org_cif\" id=\"org_cif\" class=\"form-control\" value=\"<?= htmlspecialchars($generalSettings['org_cif']['value'] ?? '') ?>\">\n                                </div>\n                                <div class=\"col-md-6 mb-3\">\n                                    <label class=\"form-label\" for=\"org_registry_number\">Nº Registro Oficial</label>\n                                    <input type=\"text\" name=\"org_registry_number\" id=\"org_registry_number\" class=\"form-control\" value=\"<?= htmlspecialchars($generalSettings['org_registry_number']['value'] ?? '') ?>\">\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n\n                    <!-- Datos de Contacto -->\n                    <div class=\"settings-card\">\n                        <div class=\"card-header\">\n                            <div class=\"header-icon bg-success-light text-success\">\n                                <i class=\"fas fa-address-card\"></i>\n                            </div>\n                            <div class=\"header-text\">\n                                <h3>Datos de Contacto</h3>\n                                <p>Dirección y medios de comunicación</p>\n                            </div>\n                        </div>\n                        <div class=\"card-body\">\n                            <div class=\"form-group mb-3\">\n                                <label class=\"form-label\" for=\"org_address\">Dirección Postal</label>\n                                <div class=\"input-group\">\n                                    <span class=\"input-group-text\"><i class=\"fas fa-map-marker-alt\"></i></span>\n                                    <input type=\"text\" name=\"org_address\" id=\"org_address\" class=\"form-control\" value=\"<?= htmlspecialchars($contactSettings['org_address']['value'] ?? '') ?>\">\n                                </div>\n                            </div>\n                            <div class=\"row\">\n                                <div class=\"col-md-5 mb-3\">\n                                    <label class=\"form-label\" for=\"org_city\">Ciudad</label>\n                                    <input type=\"text\" name=\"org_city\" id=\"org_city\" class=\"form-control\" value=\"<?= htmlspecialchars($contactSettings['org_city']['value'] ?? '') ?>\">\n                                </div>\n                                <div class=\"col-md-4 mb-3\">\n                                    <label class=\"form-label\" for=\"org_province\">Provincia</label>\n                                    <input type=\"text\" name=\"org_province\" id=\"org_province\" class=\"form-control\" value=\"<?= htmlspecialchars($contactSettings['org_province']['value'] ?? '') ?>\">\n                                </div>\n                                <div class=\"col-md-3 mb-3\">\n                                    <label class=\"form-label\" for=\"org_country\">País</label>\n                                    <input type=\"text\" name=\"org_country\" id=\"org_country\" class=\"form-control\" value=\"<?= htmlspecialchars($contactSettings['org_country']['value'] ?? '') ?>\">\n                                </div>\n                            </div>\n                            <div class=\"form-group mb-3\">\n                                <label class=\"form-label\" for=\"org_email\">Correo Electrónico</label>\n                                <div class=\"input-group\">\n                                    <span class=\"input-group-text\"><i class=\"fas fa-envelope\"></i></span>\n                                    <input type=\"email\" name=\"org_email\" id=\"org_email\" class=\"form-control\" value=\"<?= htmlspecialchars($contactSettings['org_email']['value'] ?? '') ?>\">\n                                </div>\n                            </div>\n                            <div class=\"row\">\n                                <div class=\"col-md-6 mb-3\">\n                                    <label class=\"form-label\" for=\"org_phone\">Teléfono</label>\n                                    <div class=\"input-group\">\n                                        <span class=\"input-group-text\"><i class=\"fas fa-phone\"></i></span>\n                                        <input type=\"text\" name=\"org_phone\" id=\"org_phone\" class=\"form-control\" value=\"<?= htmlspecialchars($contactSettings['org_phone']['value'] ?? '') ?>\">\n                                    </div>\n                                </div>\n                                <div class=\"col-md-6 mb-3\">\n                                    <label class=\"form-label\" for=\"org_website\">Sitio Web</label>\n                                    <div class=\"input-group\">\n                                        <span class=\"input-group-text\"><i class=\"fas fa-globe\"></i></span>\n                                        <input type=\"url\" name=\"org_website\" id=\"org_website\" class=\"form-control\" value=\"<?= htmlspecialchars($contactSettings['org_website']['value'] ?? '') ?>\">\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n\n                    <!-- Logo y Marca -->\n                    <div class=\"settings-card\">\n                        <div class=\"card-header\">\n                            <div class=\"header-icon bg-purple-light text-purple\">\n                                <i class=\"fas fa-palette\"></i>\n                            </div>\n                            <div class=\"header-text\">\n                                <h3>Identidad Visual</h3>\n                                <p>Logo y colores corporativos</p>\n                            </div>\n                        </div>\n                        <div class=\"card-body\">\n                            <div class=\"row align-items-center mb-4\">\n                                <div class=\"col-md-4 text-center\">\n                                    <?php $currentLogo = $brandingSettings['org_logo']['value'] ?? ''; ?>\n                                    <div class=\"logo-preview-container mb-2\">\n                                        <?php if ($currentLogo): ?>\n                                            <img src=\"<?= htmlspecialchars($currentLogo) ?>\" alt=\"Logo Actual\" class=\"img-fluid rounded\" style=\"max-height: 120px;\">\n                                        <?php else: ?>\n                                            <div class=\"placeholder-logo\">\n                                                <i class=\"fas fa-image fa-3x text-muted\"></i>\n                                                <p class=\"small text-muted mt-2\">Sin logo</p>\n                                            </div>\n                                        <?php endif; ?>\n                                    </div>\n                                    <?php if ($currentLogo): ?>\n                                        <a href=\"index.php?page=settings&action=deleteLogo\" class=\"btn btn-outline-danger btn-sm\" onclick=\"return confirm('¿Eliminar el logo actual?')\">\n                                            <i class=\"fas fa-trash\"></i> Eliminar\n                                        </a>\n                                    <?php endif; ?>\n                                </div>\n                                <div class=\"col-md-8\">\n                                    <div class=\"mb-3\">\n                                        <label class=\"form-label\">Subir Nuevo Logo</label>\n                                        <input type=\"file\" name=\"org_logo\" class=\"form-control\" accept=\"image/*\">\n                                        <small class=\"text-muted d-block mt-1\">Recomendado: PNG transparente. Máx 5MB.</small>\n                                    </div>\n                                    <div class=\"mb-3\">\n                                        <label class=\"form-label\" for=\"org_logo_width\">Ancho de visualización (px)</label>\n                                        <input type=\"number\" name=\"org_logo_width\" id=\"org_logo_width\" class=\"form-control\" style=\"max-width: 150px;\" value=\"<?= htmlspecialchars($brandingSettings['org_logo_width']['value'] ?? 180) ?>\">\n                                    </div>\n                                </div>\n                            </div>\n                            <div class=\"row\">\n                                <div class=\"col-md-6 mb-3\">\n                                    <label class=\"form-label\" for=\"org_primary_color\">Color Primario</label>\n                                    <div class=\"d-flex align-items-center gap-2\">\n                                        <input type=\"color\" name=\"org_primary_color\" id=\"org_primary_color\" class=\"form-control form-control-color\" value=\"<?= htmlspecialchars($brandingSettings['org_primary_color']['value'] ?? '#6366f1') ?>\">\n                                        <span class=\"text-muted small\"><?= htmlspecialchars($brandingSettings['org_primary_color']['value'] ?? '#6366f1') ?></span>\n                                    </div>\n                                </div>\n                                <div class=\"col-md-6 mb-3\">\n                                    <label class=\"form-label\" for=\"org_secondary_color\">Color Secundario</label>\n                                    <div class=\"d-flex align-items-center gap-2\">\n                                        <input type=\"color\" name=\"org_secondary_color\" id=\"org_secondary_color\" class=\"form-control form-control-color\" value=\"<?= htmlspecialchars($brandingSettings['org_secondary_color']['value'] ?? '#8b5cf6') ?>\">\n                                        <span class=\"text-muted small\"><?= htmlspecialchars($brandingSettings['org_secondary_color']['value'] ?? '#8b5cf6') ?></span>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n\n                    <!-- Representantes Legales -->\n                    <div class=\"settings-card\">\n                        <div class=\"card-header\">\n                            <div class=\"header-icon bg-warning-light text-warning\">\n                                <i class=\"fas fa-user-tie\"></i>\n                            </div>\n                            <div class=\"header-text\">\n                                <h3>Junta Directiva</h3>\n                                <p>Representantes legales actuales</p>\n                            </div>\n                        </div>\n                        <div class=\"card-body\">\n                            <div class=\"row\">\n                                <div class=\"col-md-6 mb-3\">\n                                    <label class=\"form-label\" for=\"org_president_name\">Presidente/a</label>\n                                    <input type=\"text\" name=\"org_president_name\" id=\"org_president_name\" class=\"form-control\" value=\"<?= htmlspecialchars($legalSettings['org_president_name']['value'] ?? '') ?>\">\n                                </div>\n                                <div class=\"col-md-6 mb-3\">\n                                    <label class=\"form-label\" for=\"org_vicepresident_name\">Vicepresidente/a</label>\n                                    <input type=\"text\" name=\"org_vicepresident_name\" id=\"org_vicepresident_name\" class=\"form-control\" value=\"<?= htmlspecialchars($legalSettings['org_vicepresident_name']['value'] ?? '') ?>\">\n                                </div>\n                                <div class=\"col-md-6 mb-3\">\n                                    <label class=\"form-label\" for=\"org_secretary_name\">Secretario/a</label>\n                                    <input type=\"text\" name=\"org_secretary_name\" id=\"org_secretary_name\" class=\"form-control\" value=\"<?= htmlspecialchars($legalSettings['org_secretary_name']['value'] ?? '') ?>\">\n                                </div>\n                                <div class=\"col-md-6 mb-3\">\n                                    <label class=\"form-label\" for=\"org_treasurer_name\">Tesorero/a</label>\n                                    <input type=\"text\" name=\"org_treasurer_name\" id=\"org_treasurer_name\" class=\"form-control\" value=\"<?= htmlspecialchars($legalSettings['org_treasurer_name']['value'] ?? '') ?>\">\n                                </div>\n                                <div class=\"col-md-6 mb-3\">\n                                    <label class=\"form-label\" for=\"org_vocal1_name\">Vocal 1</label>\n                                    <input type=\"text\" name=\"org_vocal1_name\" id=\"org_vocal1_name\" class=\"form-control\" value=\"<?= htmlspecialchars($legalSettings['org_vocal1_name']['value'] ?? '') ?>\">\n                                </div>\n                                <div class=\"col-md-6 mb-3\">\n                                    <label class=\"form-label\" for=\"org_vocal2_name\">Vocal 2</label>\n                                    <input type=\"text\" name=\"org_vocal2_name\" id=\"org_vocal2_name\" class=\"form-control\" value=\"<?= htmlspecialchars($legalSettings['org_vocal2_name']['value'] ?? '') ?>\">\n                                </div>\n                            </div>\n                            <div class=\"mb-3\">\n                                <label class=\"form-label\" for=\"org_legal_text\">Texto Legal (Pie de documentos)</label>\n                                <textarea name=\"org_legal_text\" id=\"org_legal_text\" class=\"form-control\" rows=\"3\" placeholder=\"Texto que aparecerá en el pie de página de facturas y documentos oficiales...\"><?= htmlspecialchars($legalSettings['org_legal_text']['value'] ?? '') ?></textarea>\n                            </div>\n                        </div>\n                    </div>\n\n                </div>\n\n                <div class=\"form-actions-sticky\">\n                    <button type=\"submit\" class=\"btn btn-primary btn-lg px-5\">\n                        <i class=\"fas fa-save me-2\"></i> Guardar Cambios\n                    </button>\n                </div>\n            </form>\n        </div>\n        <!-- Ad Prices Tab -->\n        <div id=\"ad_prices\" class=\"tab-content\">\n                <h2 class=\"section-title\">Precios de Anuncios (Libro de Fiestas)</h2>\n                <div class=\"settings-grid\">\n                    <!-- Form to Update Prices -->\n                    <div class=\"card\">\n                        <h3 class=\"text-md font-semibold mb-4\">Actualizar Precios</h3>\n                        <form action=\"index.php?page=ad_prices&action=store\" method=\"POST\">\n                            <div class=\"form-group\">\n                                <label class=\"form-label\" for=\"price_year\">Año</label>\n                                <input type=\"number\" name=\"year\" id=\"price_year\" class=\"form-control\" value=\"<?php echo date('Y'); ?>\" required>\n                            </div>\n                            <div class=\"form-group\">\n                                <label class=\"form-label\" for=\"price_media\">Media Página (€)</label>\n                                <input type=\"number\" step=\"0.01\" name=\"price_media\" id=\"price_media\" class=\"form-control\" placeholder=\"0.00\">\n                            </div>\n                            <div class=\"form-group\">\n                                <label class=\"form-label\" for=\"price_full\">Página Completa (€)</label>\n                                <input type=\"number\" step=\"0.01\" name=\"price_full\" id=\"price_full\" class=\"form-control\" placeholder=\"0.00\">\n                            </div>\n                            <div class=\"form-group\">\n                                <label class=\"form-label\" for=\"price_cover\">Portada (€)</label>\n                                <input type=\"number\" step=\"0.01\" name=\"price_cover\" id=\"price_cover\" class=\"form-control\" placeholder=\"0.00\">\n                            </div>\n                            <div class=\"form-group\">\n                                <label class=\"form-label\" for=\"price_back_cover\">Contraportada (€)</label>\n                                <input type=\"number\" step=\"0.01\" name=\"price_back_cover\" id=\"price_back_cover\" class=\"form-control\" placeholder=\"0.00\">\n                            </div>\n                            <button type=\"submit\" class=\"btn btn-primary w-full\">Guardar Precios</button>\n                        </form>\n                    </div>\n                    <!-- Current Prices Display -->\n                    <div>\n                        <div class=\"card mb-4\">\n                            <h3 class=\"text-md font-semibold mb-2\">Precios <?php echo isset($currentYear) ? $currentYear : date('Y'); ?></h3>\n                            <?php if (empty($adPrices)): ?>\n                                <div class=\"alert alert-info\">No hay precios definidos para este año.</div>\n                            <?php else: ?>\n                            <table class=\"table w-full\">\n                                <thead>\n                                    <tr>\n                                        <th>Tipo</th>\n                                        <th class=\"text-right\">Precio</th>\n                                    </tr>\n                                </thead>\n                                <tbody>\n                                    <tr>\n                                        <td>Media Página</td>\n                                        <td class=\"text-right\"><?php echo number_format($adPrices['media'] ?? 0, 2); ?> €</td>\n                                    </tr>\n                                    <tr>\n                                        <td>Página Completa</td>\n                                        <td class=\"text-right\"><?php echo number_format($adPrices['full'] ?? 0, 2); ?> €</td>\n                                    </tr>\n                                    <tr>\n                                        <td>Portada</td>\n                                        <td class=\"text-right\"><?php echo number_format($adPrices['cover'] ?? 0, 2); ?> €</td>\n                                    </tr>\n                                    <tr>\n                                        <td>Contraportada</td>\n                                        <td class=\"text-right\"><?php echo number_format($adPrices['back_cover'] ?? 0, 2); ?> €</td>\n                                    </tr>\n                                </tbody>\n                            </table>\n                            <?php endif; ?>\n                        </div>\n                        <div class=\"card\">\n                            <h3 class=\"text-md font-semibold mb-2\">Precios <?php echo isset($currentYear) ? $currentYear + 1 : date('Y') + 1; ?></h3>\n                            <?php if (empty($nextYearPrices)): ?>\n                                <div class=\"alert alert-info\">No hay precios definidos para el próximo año.</div>\n                            <?php else: ?>\n                            <table class=\"table w-full\">\n                                <thead>\n                                    <tr>\n                                        <th>Tipo</th>\n                                        <th class=\"text-right\">Precio</th>\n                                    </tr>\n                                </thead>\n                                <tbody>\n                                    <tr>\n                                        <td>Media Página</td>\n                                        <td class=\"text-right\"><?php echo number_format($nextYearPrices['media'] ?? 0, 2); ?> €</td>\n                                    </tr>\n                                    <tr>\n                                        <td>Página Completa</td>\n                                        <td class=\"text-right\"><?php echo number_format($nextYearPrices['full'] ?? 0, 2); ?> €</td>\n                                    </tr>\n                                    <tr>\n                                        <td>Portada</td>\n                                        <td class=\"text-right\"><?php echo number_format($nextYearPrices['cover'] ?? 0, 2); ?> €</td>\n                                    </tr>\n                                    <tr>\n                                        <td>Contraportada</td>\n                                        <td class=\"text-right\"><?php echo number_format($nextYearPrices['back_cover'] ?? 0, 2); ?> €</td>\n                                    </tr>\n                                </tbody>\n                            </table>\n                            <?php endif; ?>\n                        </div>\n                    </div>\n                </div>\n        </div>\n        <!-- Member Fees Tab -->\n        <div id=\"members\" class=\"tab-content\">\n\n                <!-- Generate Payments Widget -->\n                <div style=\"display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem;\">\n                    <h2 class=\"section-title\" style=\"margin: 0;\">Generar Pagos de Cuotas</h2>\n                </div>\n                \n                <div class=\"card\" style=\"margin-bottom: 2rem;\">\n                    <h3 class=\"text-md font-semibold mb-4\">Generar Pagos Pendientes</h3>\n                    <p style=\"color: var(--text-muted); margin-bottom: 1.5rem;\">\n                        Esta acción creará pagos pendientes para todos los socios activos según la cuota predeterminada de su categoría.\n                    </p>\n                    <form action=\"index.php?page=fees&action=generate\" method=\"GET\" onsubmit=\"return confirm('¿Generar pagos pendientes para todos los socios activos del año seleccionado? Se usará la cuota predeterminada de cada categoría.');\">\n                        <input type=\"hidden\" name=\"page\" value=\"fees\">\n                        <input type=\"hidden\" name=\"action\" value=\"generate\">\n                        <div class=\"form-group\" style=\"max-width: 300px;\">\n                            <label class=\"form-label\" for=\"generate_year\">Año</label>\n                            <input type=\"number\" name=\"year\" id=\"generate_year\" class=\"form-control\" value=\"<?php echo date('Y'); ?>\" required min=\"2000\" max=\"2100\">\n                        </div>\n                        <button type=\"submit\" class=\"btn btn-primary\">\n                            <i class=\"fas fa-file-invoice-dollar\"></i> Generar Pagos\n                        </button>\n                    </form>\n                </div>\n\n                <div style=\"display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem;\">\n                    <h2 class=\"section-title\" style=\"margin: 0;\">Categorías de Socios</h2>\n                    <a href=\"index.php?page=member_categories&action=create\" class=\"btn btn-primary\">\n                        <i class=\"fas fa-plus\"></i> Nueva Categoría\n                    </a>\n                </div>\n                \n                <!-- Categories List -->\n                <div class=\"categories-list\">\n                    <?php foreach ($categories as $category): ?>\n                        <div class=\"category-card <?php echo $category['is_active'] ? '' : 'category-inactive'; ?>\" \n                             style=\"border-left-color: <?php echo htmlspecialchars($category['color']); ?>\">\n                            <div class=\"category-header\">\n                                <div class=\"category-info\">\n                                    <h3>\n                                        <?php echo htmlspecialchars($category['name']); ?>\n                                        <?php if (!$category['is_active']): ?>\n                                            <span class=\"category-badge\" style=\"background: #9ca3af;\">Inactiva</span>\n                                        <?php endif; ?>\n                                    </h3>\n                                    <p style=\"color: var(--text-muted); font-size: 0.875rem;\">\n                                        <?php echo htmlspecialchars($category['description'] ?: 'Sin descripción'); ?>\n                                    </p>\n                                </div>\n                                <div class=\"category-actions\">\n                                    <a href=\"index.php?page=member_categories&action=edit&id=<?php echo $category['id']; ?>\" \n                                       class=\"btn btn-sm btn-secondary\">\n                                        <i class=\"fas fa-edit\"></i> Editar\n                                    </a>\n                                    <a href=\"index.php?page=member_categories&action=delete&id=<?php echo $category['id']; ?>\" \n                                       class=\"btn btn-sm btn-danger\"\n                                       onclick=\"return confirm('¿Estás seguro de eliminar esta categoría?')\">\n                                        <i class=\"fas fa-trash\"></i> Eliminar\n                                    </a>\n                                </div>\n                            </div>\n                            \n                            <div class=\"category-stats\">\n                                <div class=\"stat-item\">\n                                    <div class=\"stat-value\"><?php echo number_format($category['default_fee'], 2); ?> €</div>\n                                    <div class=\"stat-label\">Cuota predeterminada</div>\n                                </div>\n                                <div class=\"stat-item\">\n                                    <div class=\"stat-value\" style=\"color: <?php echo htmlspecialchars($category['color']); ?>\">\n                                        <?php\n                                        $catStat = null;\n                                        foreach ($statistics as $s) {\n                                            if ($s['id'] == $category['id']) {\n                                                $catStat = $s;\n                                                break;\n                                            }\n                                        }\n                                        echo $catStat ? $catStat['member_count'] : 0;\n                                        ?>\n                                    </div>\n                                    <div class=\"stat-label\">Socios asignados</div>\n                                </div>\n                                <div class=\"stat-item\">\n                                    <div class=\"stat-value\" style=\"color: var(--text-muted);\"><?php echo $category['display_order']; ?></div>\n                                    <div class=\"stat-label\">Orden de visualización</div>\n                                </div>\n                            </div>\n                        </div>\n                    <?php endforeach; ?>\n                </div>\n        </div>  <!-- End of members tab -->\n        <!-- Database Tab -->\n        <div id=\"database\" class=\"tab-content\">\n            <h2 class=\"section-title\"><i class=\"fas fa-database\"></i> Configuración y Backup de Base de Datos</h2>\n            <div class=\"card alert alert-warning mb-4\">\n                <i class=\"fas fa-exclamation-triangle\"></i> <strong>Cuidado:</strong> Cambiar estos valores puede dejar la aplicación inoperativa. Asegúrese de que los nuevos datos son correctos.\n            </div>\n            <form action=\"index.php?page=settings&action=updateDatabase\" method=\"POST\" class=\"card mb-4\" style=\"max-width: 600px; margin: 0 auto;\">\n                <div class=\"form-group\">\n                    <label class=\"form-label\" for=\"db_host\">Host</label>\n                    <input type=\"text\" name=\"db_host\" id=\"db_host\" class=\"form-control\" value=\"<?php echo htmlspecialchars($dbConfig['host'] ?? ''); ?>\" required>\n                </div>\n                <div class=\"form-group\">\n                    <label class=\"form-label\" for=\"db_name\">Nombre de la Base de Datos</label>\n                    <input type=\"text\" name=\"db_name\" id=\"db_name\" class=\"form-control\" value=\"<?php echo htmlspecialchars($dbConfig['name'] ?? ''); ?>\" required>\n                </div>\n                <div class=\"form-group\">\n                    <label class=\"form-label\" for=\"db_user\">Usuario</label>\n                    <input type=\"text\" name=\"db_user\" id=\"db_user\" class=\"form-control\" value=\"<?php echo htmlspecialchars($dbConfig['user'] ?? ''); ?>\" required>\n                </div>\n                <div class=\"form-group\">\n                    <label class=\"form-label\" for=\"db_pass\">Contraseña</label>\n                    <input type=\"password\" name=\"db_pass\" id=\"db_pass\" class=\"form-control\" placeholder=\"Dejar en blanco para no cambiar (si se muestra vacío)\">\n                    <small>Por seguridad, la contraseña actual no se muestra.</small>\n                </div>\n                <button type=\"submit\" class=\"btn btn-danger\">Actualizar Conexión</button>\n            </form>\n            <div class=\"card text-center p-4 mb-4\">\n                <div class=\"text-center\">\n                    <form action=\"index.php?page=settings&action=downloadBackup\" method=\"POST\" class=\"w-auto mx-auto\">\n                        <button type=\"submit\" class=\"btn btn-primary btn-lg\">\n                            <i class=\"fas fa-download\"></i> Descargar Backup de Base de Datos\n                        </button>\n                    </form>\n                </div>\n                <p class=\"mt-3 text-muted\"><i class=\"fas fa-info-circle\"></i> El backup incluye toda la estructura y datos actuales en formato SQL.</p>\n            </div>\n        </div>\n        <!-- Administración de Usuarios Tab -->\n        <div id=\"admin_users\" class=\"tab-content\">\n            <?php include __DIR__ . '/admin_users.php'; ?>\n        </div>\n        <!-- Notifications Tab -->\n        <div id=\"notifications\" class=\"tab-content\">\n            <?php require __DIR__ . '/notifications.php'; ?>\n        </div>\n        \n        <!-- Social Media Tab -->\n        <div id=\"social_media\" class=\"tab-content\">\n            <div class=\"settings-section-header\">\n                <div>\n                    <h2 class=\"section-title\"><i class=\"fab fa-share-alt\"></i> Configuración de Redes Sociales</h2>\n                    <p class=\"text-muted\">Configura las opciones para compartir contenido en redes sociales.</p>\n                </div>\n            </div>\n\n            <?php if (isset($_SESSION['social_media_success'])): ?>\n                <div class=\"alert alert-success\"><i class=\"fas fa-check-circle\"></i> <?= $_SESSION['social_media_success']; unset($_SESSION['social_media_success']); ?></div>\n            <?php endif; ?>\n            <?php if (isset($_SESSION['social_media_error'])): ?>\n                <div class=\"alert alert-danger\"><i class=\"fas fa-exclamation-circle\"></i> <?= $_SESSION['social_media_error']; unset($_SESSION['social_media_error']); ?></div>\n            <?php endif; ?>\n\n            <form action=\"index.php?page=settings&action=updateSocialMedia\" method=\"POST\">\n                <?php require_once __DIR__ . '/../../Helpers/CsrfHelper.php'; echo CsrfHelper::getTokenField(); ?>\n                \n                <div class=\"settings-grid-layout\">\n                    \n                    <!-- Facebook -->\n                    <div class=\"settings-card\">\n                        <div class=\"card-header\">\n                            <div class=\"header-icon bg-primary-light text-primary\">\n                                <i class=\"fab fa-facebook-f\"></i>\n                            </div>\n                            <div class=\"header-text\">\n                                <h3>Facebook</h3>\n                                <p>Compartir eventos y anuncios en Facebook</p>\n                            </div>\n                        </div>\n                        <div class=\"card-body\">\n                            <div class=\"form-group mb-4\">\n                                <label class=\"checkbox-label\" style=\"display: flex; align-items: center; gap: 0.75rem;\">\n                                    <input type=\"checkbox\" name=\"facebook_enabled\" value=\"1\" \n                                        <?= ($orgSettings->get('facebook_enabled') == '1') ? 'checked' : '' ?>\n                                        style=\"width: 1.25rem; height: 1.25rem;\">\n                                    <span style=\"font-weight: 600;\">Habilitar compartir en Facebook</span>\n                                </label>\n                            </div>\n                            <div class=\"form-group\">\n                                <label class=\"form-label\" for=\"facebook_app_id\">Facebook App ID (opcional)</label>\n                                <input type=\"text\" name=\"facebook_app_id\" id=\"facebook_app_id\" class=\"form-control\" \n                                    value=\"<?= htmlspecialchars($orgSettings->get('facebook_app_id') ?? '') ?>\" \n                                    placeholder=\"123456789012345\">\n                                <small class=\"text-muted\">Obtén tu App ID en <a href=\"https://developers.facebook.com/apps/\" target=\"_blank\">developers.facebook.com</a></small>\n                            </div>\n                        </div>\n                    </div>\n\n                    <!-- Twitter/X -->\n                    <div class=\"settings-card\">\n                        <div class=\"card-header\">\n                            <div class=\"header-icon bg-info-light text-info\">\n                                <i class=\"fab fa-twitter\"></i>\n                            </div>\n                            <div class=\"header-text\">\n                                <h3>Twitter / X</h3>\n                                <p>Compartir publicaciones en Twitter</p>\n                            </div>\n                        </div>\n                        <div class=\"card-body\">\n                            <div class=\"form-group mb-4\">\n                                <label class=\"checkbox-label\" style=\"display: flex; align-items: center; gap: 0.75rem;\">\n                                    <input type=\"checkbox\" name=\"twitter_enabled\" value=\"1\" \n                                        <?= ($orgSettings->get('twitter_enabled') == '1') ? 'checked' : '' ?>\n                                        style=\"width: 1.25rem; height: 1.25rem;\">\n                                    <span style=\"font-weight: 600;\">Habilitar compartir en Twitter/X</span>\n                                </label>\n                            </div>\n                            <div class=\"alert alert-info\">\n                                <i class=\"fas fa-info-circle\"></i> No se requiere configuración adicional para compartir en Twitter.\n                            </div>\n                        </div>\n                    </div>\n\n                    <!-- LinkedIn -->\n                    <div class=\"settings-card\">\n                        <div class=\"card-header\">\n                            <div class=\"header-icon\" style=\"background: #0077b5; color: white;\">\n                                <i class=\"fab fa-linkedin-in\"></i>\n                            </div>\n                            <div class=\"header-text\">\n                                <h3>LinkedIn</h3>\n                                <p>Compartir contenido profesional</p>\n                            </div>\n                        </div>\n                        <div class=\"card-body\">\n                            <div class=\"form-group mb-4\">\n                                <label class=\"checkbox-label\" style=\"display: flex; align-items: center; gap: 0.75rem;\">\n                                    <input type=\"checkbox\" name=\"linkedin_enabled\" value=\"1\" \n                                        <?= ($orgSettings->get('linkedin_enabled') == '1') ? 'checked' : '' ?>\n                                        style=\"width: 1.25rem; height: 1.25rem;\">\n                                    <span style=\"font-weight: 600;\">Habilitar compartir en LinkedIn</span>\n                                </label>\n                            </div>\n                            <div class=\"alert alert-info\">\n                                <i class=\"fas fa-info-circle\"></i> No se requiere configuración adicional para compartir en LinkedIn.\n                            </div>\n                        </div>\n                    </div>\n\n                    <!-- Instagram -->\n                    <div class=\"settings-card\">\n                        <div class=\"card-header\">\n                            <div class=\"header-icon\" style=\"background: linear-gradient(45deg, #f09433 0%, #e6683c 25%, #dc2743 50%, #cc2366 75%, #bc1888 100%); color: white;\">\n                                <i class=\"fab fa-instagram\"></i>\n                            </div>\n                            <div class=\"header-text\">\n                                <h3>Instagram</h3>\n                                <p>Recordatorio para compartir manualmente</p>\n                            </div>\n                        </div>\n                        <div class=\"card-body\">\n                            <div class=\"form-group mb-4\">\n                                <label class=\"checkbox-label\" style=\"display: flex; align-items: center; gap: 0.75rem;\">\n                                    <input type=\"checkbox\" name=\"instagram_enabled\" value=\"1\" \n                                        <?= ($orgSettings->get('instagram_enabled') == '1') ? 'checked' : '' ?>\n                                        style=\"width: 1.25rem; height: 1.25rem;\">\n                                    <span style=\"font-weight: 600;\">Mostrar opción de Instagram</span>\n                                </label>\n                            </div>\n                            <div class=\"alert alert-warning\">\n                                <i class=\"fas fa-exclamation-triangle\"></i> Instagram no permite compartir desde web. Los usuarios verán un recordatorio para compartir desde la app móvil.\n                            </div>\n                        </div>\n                    </div>\n\n                    <!-- WhatsApp & Telegram -->\n                    <div class=\"settings-card\">\n                        <div class=\"card-header\">\n                            <div class=\"header-icon bg-success-light text-success\">\n                                <i class=\"fab fa-whatsapp\"></i>\n                            </div>\n                            <div class=\"header-text\">\n                                <h3>Mensajería</h3>\n                                <p>WhatsApp y Telegram (siempre activos)</p>\n                            </div>\n                        </div>\n                        <div class=\"card-body\">\n                            <div class=\"alert alert-success\">\n                                <i class=\"fas fa-check-circle\"></i> WhatsApp y Telegram están siempre disponibles para compartir sin necesidad de configuración.\n                            </div>\n                        </div>\n                    </div>\n\n                    <!-- General Settings -->\n                    <div class=\"settings-card\" style=\"grid-column: 1 / -1;\">\n                        <div class=\"card-header\">\n                            <div class=\"header-icon bg-secondary-light text-secondary\">\n                                <i class=\"fas fa-cog\"></i>\n                            </div>\n                            <div class=\"header-text\">\n                                <h3>Configuración General</h3>\n                                <p>Valores predeterminados para compartir</p>\n                            </div>\n                        </div>\n                        <div class=\"card-body\">\n                            <div class=\"form-group\">\n                                <label class=\"form-label\" for=\"share_site_name\">Nombre del Sitio</label>\n                                <input type=\"text\" name=\"share_site_name\" id=\"share_site_name\" class=\"form-control\" \n                                    value=\"<?= htmlspecialchars($orgSettings->get('share_site_name') ?? '') ?>\" \n                                    placeholder=\"Nombre de tu asociación\">\n                                <small class=\"text-muted\">Aparecerá en las previsualizaciones al compartir</small>\n                            </div>\n                            <div class=\"form-group\">\n                                <label class=\"form-label\" for=\"share_description\">Descripción por Defecto</label>\n                                <textarea name=\"share_description\" id=\"share_description\" class=\"form-control\" rows=\"3\" \n                                    placeholder=\"Descripción breve de tu asociación\"><?= htmlspecialchars($orgSettings->get('share_description') ?? '') ?></textarea>\n                                <small class=\"text-muted\">Se usará cuando no se especifique una descripción</small>\n                            </div>\n                            <div class=\"form-group\">\n                                <label class=\"form-label\" for=\"share_default_image\">URL de Imagen por Defecto</label>\n                                <input type=\"url\" name=\"share_default_image\" id=\"share_default_image\" class=\"form-control\" \n                                    value=\"<?= htmlspecialchars($orgSettings->get('share_default_image') ?? '') ?>\" \n                                    placeholder=\"https://tudominio.com/imagen.jpg\">\n                                <small class=\"text-muted\">Imagen que aparecerá en las previsualizaciones (recomendado: 1200x630 px)</small>\n                            </div>\n                        </div>\n                    </div>\n\n                </div>\n\n                <div class=\"form-actions\" style=\"margin-top: 2rem; text-align: center;\">\n                    <button type=\"submit\" class=\"btn btn-primary btn-lg\">\n                        <i class=\"fas fa-save\"></i> Guardar Configuración de Redes Sociales\n                    </button>\n                </div>\n            </form>\n        </div>\n        \n        <div id=\"password-policy\" class=\"tab-content\">\n            <?php \n            // Get policy settings using existing $orgSettings from controller\n            $policy = $orgSettings->getPasswordPolicy();\n            ?>\n            \n            <div class=\"card\">\n                <h2 class=\"text-lg font-semibold mb-4\">\n                    <i class=\"fas fa-shield-alt\"></i> Política de Contraseñas y Seguridad\n                </h2>\n                \n                <form method=\"POST\" action=\"index.php?page=settings&action=updatePasswordPolicy\">\n                    <?php require_once __DIR__ . '/../../Helpers/CsrfHelper.php'; echo CsrfHelper::getTokenField(); ?>\n                    \n                    <h3 style=\"margin-top: 0; margin-bottom: 1.5rem; color: var(--primary-600); font-size: 1.1rem;\">\n                        <i class=\"fas fa-key\"></i> Requisitos de Contraseña\n                    </h3>\n                    \n                    <div class=\"form-group\">\n                        <label class=\"form-label\">Longitud Mínima</label>\n                        <input type=\"number\" name=\"min_length\" min=\"6\" max=\"32\" value=\"<?= $policy['min_length'] ?>\" class=\"form-control\" required>\n                        <small class=\"text-muted\">Número mínimo de caracteres (6-32)</small>\n                    </div>\n                    \n                    <div class=\"checkbox-grid\">\n                        <div class=\"form-group\">\n                            <label class=\"checkbox-label\">\n                                <input type=\"checkbox\" name=\"require_uppercase\" <?= $policy['require_uppercase'] ? 'checked' : '' ?>>\n                                <span>Requiere mayúsculas (A-Z)</span>\n                            </label>\n                        </div>\n                        \n                        <div class=\"form-group\">\n                            <label class=\"checkbox-label\">\n                                <input type=\"checkbox\" name=\"require_lowercase\" <?= $policy['require_lowercase'] ? 'checked' : '' ?>>\n                                <span>Requiere minúsculas (a-z)</span>\n                            </label>\n                        </div>\n                        \n                        <div class=\"form-group\">\n                            <label class=\"checkbox-label\">\n                                <input type=\"checkbox\" name=\"require_numbers\" <?= $policy['require_numbers'] ? 'checked' : '' ?>>\n                                <span>Requiere números (0-9)</span>\n                            </label>\n                        </div>\n                        \n                        <div class=\"form-group\">\n                            <label class=\"checkbox-label\">\n                                <input type=\"checkbox\" name=\"require_special\" <?= $policy['require_special'] ? 'checked' : '' ?>>\n                                <span>Requiere caracteres especiales (!@#$%)</span>\n                            </label>\n                        </div>\n                    </div>\n                    \n                    <hr class=\"section-divider\">\n                    \n                    <h3 class=\"subsection-title\">\n                        <i class=\"fas fa-lock\"></i> Bloqueo de Cuenta\n                    </h3>\n                    \n                    <div class=\"settings-grid-2col\">\n                        <div class=\"form-group\">\n                            <label class=\"form-label\">Máximo de Intentos Fallidos</label>\n                            <input type=\"number\" name=\"max_attempts\" min=\"3\" max=\"10\" value=\"<?= $policy['login_max_attempts'] ?>\" class=\"form-control\" required>\n                            <small class=\"text-muted\">Número de intentos antes de bloquear (3-10)</small>\n                        </div>\n                        \n                        <div class=\"form-group\">\n                            <label class=\"form-label\">Duración del Bloqueo (minutos)</label>\n                            <input type=\"number\" name=\"lockout_duration\" min=\"5\" max=\"120\" value=\"<?= $policy['login_lockout_duration'] ?>\" class=\"form-control\" required>\n                            <small class=\"text-muted\">Tiempo de bloqueo en minutos (5-120)</small>\n                        </div>\n                    </div>\n                    \n                    <div class=\"info-box\">\n                        <p>\n                            <i class=\"fas fa-info-circle\"></i> <strong>Nota:</strong> Los cambios en la política de contraseñas se aplicarán inmediatamente. \n                            Las contraseñas existentes no se verán afectadas, pero los nuevos cambios de contraseña deberán cumplir con los requisitos actualizados.\n                        </p>\n                    </div>\n                    \n                    <div class=\"form-actions\">\n                        <button type=\"submit\" class=\"btn btn-primary\">\n                            <i class=\"fas fa-save\"></i> Guardar Política de Seguridad\n                        </button>\n                    </div>\n                </form>\n            </div>\n        </div>\n    </div>\n</div>\n\n<style>\n    .checkbox-grid {\n        display: grid;\n        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n        gap: 1rem;\n        margin-bottom: 1.5rem;\n    }\n    \n    .checkbox-label {\n        display: flex;\n        align-items: center;\n        gap: 0.75rem;\n        cursor: pointer;\n        padding: 0.75rem;\n        background: var(--bg-main);\n        border: 1px solid var(--border-light);\n        border-radius: var(--radius-md);\n        transition: all 0.2s ease;\n    }\n    \n    .checkbox-label:hover {\n        border-color: var(--primary-300);\n        background: var(--primary-50);\n    }\n    \n    .checkbox-label input[type=\"checkbox\"] {\n        width: 1.25rem;\n        height: 1.25rem;\n        accent-color: var(--primary-600);\n    }\n    \n    .section-divider {\n        margin: 2rem 0;\n        border: none;\n        border-top: 1px solid var(--border-light);\n    }\n    \n    .subsection-title {\n        margin-bottom: 1.5rem;\n        color: var(--primary-700);\n        font-size: 1.2rem;\n        font-weight: 600;\n    }\n    \n    .settings-grid-2col {\n        display: grid;\n        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));\n        gap: 1.5rem;\n    }\n    \n    .info-box {\n        margin-top: 2rem;\n        padding: 1rem 1.5rem;\n        background: var(--primary-50);\n        border-left: 4px solid var(--primary-500);\n        border-radius: var(--radius-md);\n    }\n    \n    .info-box p {\n        margin: 0;\n        font-size: 0.95rem;\n        color: var(--text-main);\n        line-height: 1.5;\n    }\n    \n    .form-actions {\n        margin-top: 2rem;\n        display: flex;\n        justify-content: flex-end;\n    }\n\n\n/* Switch Toggle Styles */\n.switch {\n  position: relative;\n  display: inline-block;\n  width: 50px;\n  height: 24px;\n}\n\n.switch input { \n  opacity: 0;\n  width: 0;\n  height: 0;\n}\n\n.slider {\n  position: absolute;\n  cursor: pointer;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: #ccc;\n  -webkit-transition: .4s;\n  transition: .4s;\n}\n\n.slider:before {\n  position: absolute;\n  content: \"\";\n  height: 16px;\n  width: 16px;\n  left: 4px;\n  bottom: 4px;\n  background-color: white;\n  -webkit-transition: .4s;\n  transition: .4s;\n}\n\ninput:checked + .slider {\n  background-color: var(--primary-600);\n}\n\ninput:focus + .slider {\n  box-shadow: 0 0 1px var(--primary-600);\n}\n\ninput:checked + .slider:before {\n  -webkit-transform: translateX(26px);\n  -ms-transform: translateX(26px);\n  transform: translateX(26px);\n}\n\n/* Rounded sliders */\n.slider.round {\n  border-radius: 34px;\n}\n\n.slider.round:before {\n  border-radius: 50%;\n}\n</style>\n\n<script>\nfunction switchTab(tabName) {\n    // Hide all tab contents\n    document.querySelectorAll('.tab-content').forEach(content => {\n        content.classList.remove('active-tab');\n    });\n    // Remove active class from all tab buttons\n    document.querySelectorAll('.tab-btn').forEach(button => {\n        button.classList.remove('active');\n    });\n    // Show selected tab\n    document.getElementById(tabName).classList.add('active-tab');\n    document.getElementById('tab-' + tabName).classList.add('active');\n    if (history.pushState) {\n        var newurl = window.location.protocol + \"//\" + window.location.host + window.location.pathname + '?page=settings&tab=' + tabName;\n        history.pushState({path:newurl},'',newurl);\n    }\n}\nwindow.addEventListener('DOMContentLoaded', function() {\n    var tab = (new URLSearchParams(window.location.search)).get('tab') || 'organization';\n    document.querySelectorAll('.tab-content').forEach(content => {\n        content.classList.remove('active-tab');\n    });\n    var activeTab = document.getElementById(tab);\n    if (activeTab) {\n        activeTab.classList.add('active-tab');\n    } else {\n        document.querySelectorAll('.tab-content')[0].classList.add('active-tab');\n    }\n    document.querySelectorAll('.tab-btn').forEach(button => {\n        button.classList.remove('active');\n        if (button.id === 'tab-' + tab) {\n            button.classList.add('active');\n        }\n    });\n});\n</script>\n<noscript>\n<style>\n    .tab-content { display: block !important; }\n</style>\n<div class=\"alert alert-warning\">La navegación por pestañas requiere JavaScript. Todas las secciones se muestran abajo.</div>\n</noscript>\n\n\n","epoch":6,"telemetryInfo":{}}],["file:///root/Documentos/github/GestionSocios/src/Controllers/MemberController.php::request_6fc134d9-a4c9-45b7-991a-aeb72b48204e",{"uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Controllers/MemberController.php","external":"file:///root/Documentos/github/GestionSocios/src/Controllers/MemberController.php","path":"/root/Documentos/github/GestionSocios/src/Controllers/MemberController.php","scheme":"file"},"requestId":"request_6fc134d9-a4c9-45b7-991a-aeb72b48204e","content":"<?php\n\nclass MemberController {\n    private $db;\n    private $member;\n    private $imageHistory;\n\n    public function __construct() {\n        $database = new Database();\n        $this->db = $database->getConnection();\n        $this->member = new Member($this->db);\n        $this->imageHistory = new MemberImageHistory($this->db);\n    }\n\n    private function checkAdmin() {\n        if (($_SESSION['role'] ?? '') !== 'admin') {\n            header('Location: index.php?page=members');\n            exit;\n        }\n    }\n\n    public function index() {\n        // Build filters from GET parameters\n        $filters = [\n            'status' => $_GET['status'] ?? '',\n            'payment_status' => $_GET['payment_status'] ?? '',\n            'category_id' => $_GET['category_id'] ?? '',\n            'search' => $_GET['search'] ?? '',\n            'year_from' => $_GET['year_from'] ?? '',\n            'year_to' => $_GET['year_to'] ?? ''\n        ];\n        \n        // Pagination\n        $limit = 20;\n        $page = isset($_GET['p']) ? max(1, intval($_GET['p'])) : 1;\n        $offset = ($page - 1) * $limit;\n        \n        // Legacy filter support\n        $legacyFilter = $_GET['filter'] ?? 'all';\n        if ($legacyFilter === 'current') {\n            $filters['payment_status'] = 'current';\n        } elseif ($legacyFilter === 'delinquent') {\n            $filters['payment_status'] = 'delinquent';\n        }\n        \n        $members = $this->member->readFiltered($filters, $limit, $offset);\n        $totalRecords = $this->member->countFiltered($filters);\n        $totalPages = ceil($totalRecords / $limit);\n        \n        // Get categories for filter dropdown\n        $categoryModel = new MemberCategory($this->db);\n        $categories = $categoryModel->readAll();\n        \n        require __DIR__ . '/../Views/members/list.php';\n    }\n\n    public function create() {\n        $this->checkAdmin();\n        \n        // Get categories for dropdown\n        $categoryModel = new MemberCategory($this->db);\n        $categories = $categoryModel->readAll();\n        \n        require __DIR__ . '/../Views/members/create.php';\n    }\n\n    public function store() {\n        $this->checkAdmin();\n        if ($_SERVER['REQUEST_METHOD'] === 'POST') {\n            // Validate CSRF token\n            require_once __DIR__ . '/../Helpers/CsrfHelper.php';\n            CsrfHelper::validateRequest();\n            $this->member->first_name = $_POST['first_name'];\n            $this->member->last_name = $_POST['last_name'];\n            $this->member->dni = $_POST['dni'] ?? null;\n            $this->member->email = $_POST['email'];\n            $this->member->phone = $_POST['phone'];\n            $this->member->address = $_POST['address'];\n            $this->member->status = $_POST['status'] ?? 'active';\n            $this->member->category_id = !empty($_POST['category_id']) ? $_POST['category_id'] : null;\n            $this->member->photo_url = $this->handleUpload();\n\n            if ($this->member->create()) {\n                // Registrar en audit_log\n                require_once __DIR__ . '/../Models/AuditLog.php';\n                $audit = new AuditLog($this->db);\n                $lastId = $this->db->lastInsertId();\n                $audit->create(\n                    $_SESSION['user_id'],\n                    'create',\n                    'member',\n                    $lastId,\n                    'Alta de socio: ' . $this->member->first_name . ' ' . $this->member->last_name . ' (' . $this->member->email . ') por el usuario ' . ($_SESSION['username'] ?? '')\n                );\n                \n                // Enviar notificación de bienvenida al nuevo socio\n                try {\n                    require_once __DIR__ . '/../Helpers/NotificationHelper.php';\n                    $member_name = $this->member->first_name . ' ' . $this->member->last_name;\n                    NotificationHelper::sendWelcomeNotification(\n                        $this->db, \n                        $this->member->id, \n                        $member_name\n                    );\n                } catch (Exception $e) {\n                    // No fallar si la notificación no se puede enviar\n                    error_log(\"Error sending welcome notification: \" . $e->getMessage());\n                }\n                \n                header('Location: index.php?page=members');\n            } else {\n                $error = \"Error creating member.\";\n                require __DIR__ . '/../Views/members/create.php';\n            }\n        }\n    }\n\n    private function handleUpload() {\n        if (isset($_FILES['photo']) && $_FILES['photo']['error'] === UPLOAD_ERR_OK) {\n            // Validate file size (5MB maximum)\n            $maxSize = 5 * 1024 * 1024; // 5MB\n            if ($_FILES['photo']['size'] > $maxSize) {\n                throw new Exception('El archivo es demasiado grande. Máximo 5MB permitido.');\n            }\n            \n            // Validate MIME type\n            $allowedMimeTypes = ['image/jpeg', 'image/png', 'image/gif', 'image/webp'];\n            $finfo = finfo_open(FILEINFO_MIME_TYPE);\n            $mimeType = finfo_file($finfo, $_FILES['photo']['tmp_name']);\n            // finfo_close is deprecated and not needed in modern PHP\n            \n            if (!in_array($mimeType, $allowedMimeTypes)) {\n                throw new Exception('Tipo de archivo no permitido. Solo se permiten imágenes JPEG, PNG, GIF y WebP.');\n            }\n            \n            // Validate file extension\n            $allowedExtensions = ['jpg', 'jpeg', 'png', 'gif', 'webp'];\n            $extension = strtolower(pathinfo($_FILES['photo']['name'], PATHINFO_EXTENSION));\n            if (!in_array($extension, $allowedExtensions)) {\n                throw new Exception('Extensión de archivo no permitida.');\n            }\n            \n            $uploadDir = __DIR__ . '/../../public/uploads/members/';\n            if (!is_dir($uploadDir)) {\n                mkdir($uploadDir, 0755, true); // More restrictive permissions\n            }\n            \n            // Generate secure filename\n            $fileName = uniqid() . '_' . bin2hex(random_bytes(8)) . '.' . $extension;\n            $targetPath = $uploadDir . $fileName;\n            \n            if (move_uploaded_file($_FILES['photo']['tmp_name'], $targetPath)) {\n                return 'uploads/members/' . $fileName;\n            }\n        }\n        return null;\n    }\n\n    public function edit($id) {\n        $this->checkAdmin();\n        $this->member->id = $id;\n        if ($this->member->readOne()) {\n            $member = $this->member; // Pass object to view\n            \n            // Get categories for dropdown\n            $categoryModel = new MemberCategory($this->db);\n            $categories = $categoryModel->readAll();\n            \n            require __DIR__ . '/../Views/members/edit.php';\n        } else {\n            header('Location: index.php?page=members');\n        }\n    }\n\n    public function update($id) {\n        $this->checkAdmin();\n        if ($_SERVER['REQUEST_METHOD'] === 'POST') {\n            // Validate CSRF token\n            require_once __DIR__ . '/../Helpers/CsrfHelper.php';\n            CsrfHelper::validateRequest();\n            \n            $this->member->id = $id;\n            // Leer datos originales antes de modificar\n            $this->member->readOne();\n            $original = [\n                'first_name' => $this->member->first_name,\n                'last_name' => $this->member->last_name,\n                'dni' => $this->member->dni,\n                'email' => $this->member->email,\n                'phone' => $this->member->phone,\n                'address' => $this->member->address,\n                'latitude' => $this->member->latitude,\n                'longitude' => $this->member->longitude,\n                'status' => $this->member->status,\n                'category_id' => $this->member->category_id,\n                'photo_url' => $this->member->photo_url,\n                'created_at' => $this->member->created_at\n            ];\n            $currentPhoto = $this->member->photo_url;\n            // Asignar nuevos valores\n            $this->member->first_name = $_POST['first_name'];\n            $this->member->last_name = $_POST['last_name'];\n            $this->member->dni = $_POST['dni'] ?? null;\n            $this->member->email = $_POST['email'];\n            $this->member->phone = $_POST['phone'];\n            $this->member->address = $_POST['address'];\n            $this->member->latitude = $_POST['latitude'] ?? null;\n            $this->member->longitude = $_POST['longitude'] ?? null;\n            $this->member->status = $_POST['status'];\n            $this->member->category_id = !empty($_POST['category_id']) ? $_POST['category_id'] : null;\n            if (!empty($_POST['created_at'])) {\n                $this->member->created_at = $_POST['created_at'];\n            }\n            // Handle photo upload\n            $photoUrl = $currentPhoto; // Keep current photo by default\n            \n            // Check for upload errors first\n            if (isset($_FILES['photo']) && $_FILES['photo']['error'] !== UPLOAD_ERR_OK && $_FILES['photo']['error'] !== UPLOAD_ERR_NO_FILE) {\n                $uploadErrors = [\n                    UPLOAD_ERR_INI_SIZE => 'El archivo es demasiado grande. Tamaño máximo permitido: ' . ini_get('upload_max_filesize'),\n                    UPLOAD_ERR_FORM_SIZE => 'El archivo excede el tamaño máximo permitido por el formulario',\n                    UPLOAD_ERR_PARTIAL => 'El archivo solo se subió parcialmente',\n                    UPLOAD_ERR_NO_TMP_DIR => 'Falta la carpeta temporal en el servidor',\n                    UPLOAD_ERR_CANT_WRITE => 'Error al escribir el archivo en el disco',\n                    UPLOAD_ERR_EXTENSION => 'Una extensión de PHP detuvo la subida del archivo'\n                ];\n                \n                $error = $uploadErrors[$_FILES['photo']['error']] ?? 'Error desconocido al subir el archivo';\n                $member = $this->member;\n                require __DIR__ . '/../Views/members/edit.php';\n                return;\n            }\n            \n            // Check if a new photo is being uploaded and there's already a current photo\n            if (isset($_FILES['photo']) && $_FILES['photo']['error'] === UPLOAD_ERR_OK && $currentPhoto) {\n                \n                // Save the new image temporarily and redirect to comparison\n                $uploadDir = __DIR__ . '/../../public/uploads/members/temp/';\n                if (!is_dir($uploadDir)) {\n                    mkdir($uploadDir, 0777, true);\n                }\n\n                $allowedTypes = ['image/jpeg', 'image/png', 'image/gif', 'image/webp'];\n                $fileType = $_FILES['photo']['type'];\n\n                if (in_array($fileType, $allowedTypes)) {\n                    $extension = pathinfo($_FILES['photo']['name'], PATHINFO_EXTENSION);\n                    $tempFileName = 'temp_' . time() . '_' . uniqid() . '.' . $extension;\n                    $tempPath = $uploadDir . $tempFileName;\n\n                    if (move_uploaded_file($_FILES['photo']['tmp_name'], $tempPath)) {\n                        // Store data in session for comparison\n                        $_SESSION['image_comparison'] = [\n                            'member_id' => $id,\n                            'old_image' => $currentPhoto,\n                            'new_image_temp' => 'uploads/members/temp/' . $tempFileName,\n                            'member_data' => [\n                                'first_name' => $_POST['first_name'],\n                                'last_name' => $_POST['last_name'],\n                                'email' => $_POST['email'],\n                                'phone' => $_POST['phone'],\n                                'address' => $_POST['address'],\n                                'status' => $_POST['status']\n                            ]\n                        ];\n                        \n                        // Redirect to comparison view\n                        header('Location: index.php?page=members&action=compareImages');\n                        exit;\n                    }\n                }\n            } elseif (isset($_FILES['photo']) && $_FILES['photo']['error'] === UPLOAD_ERR_OK) {\n                // New photo upload (no existing photo)\n                $photoUrl = $this->handleUpload();\n                \n                // Add to history\n                if ($photoUrl) {\n                    $this->imageHistory->member_id = $id;\n                    $this->imageHistory->image_url = $photoUrl;\n                    $this->imageHistory->is_current = true;\n                    $this->imageHistory->uploaded_at = date('Y-m-d H:i:s');\n                    $this->imageHistory->replaced_at = null;\n                    $this->imageHistory->create();\n                }\n            }\n            \n            $this->member->photo_url = $photoUrl;\n\n            // Detectar campos modificados antes del update\n            $changedFields = [];\n            if ($original['first_name'] !== $_POST['first_name']) $changedFields[] = 'nombre';\n            if ($original['last_name'] !== $_POST['last_name']) $changedFields[] = 'apellidos';\n            if ($original['dni'] !== ($_POST['dni'] ?? null)) $changedFields[] = 'dni';\n            if ($original['email'] !== $_POST['email']) $changedFields[] = 'email';\n            if ($original['phone'] !== $_POST['phone']) $changedFields[] = 'teléfono';\n            if ($original['address'] !== $_POST['address']) $changedFields[] = 'dirección';\n            if ($original['latitude'] != ($_POST['latitude'] ?? null)) $changedFields[] = 'latitud';\n            if ($original['longitude'] != ($_POST['longitude'] ?? null)) $changedFields[] = 'longitud';\n            if ($original['status'] !== $_POST['status']) $changedFields[] = 'estado';\n            if ($original['category_id'] != (!empty($_POST['category_id']) ? $_POST['category_id'] : null)) $changedFields[] = 'categoría';\n            if ($photoUrl !== $original['photo_url']) $changedFields[] = 'imagen';\n            if (isset($_POST['created_at']) && $original['created_at'] !== $_POST['created_at']) $changedFields[] = 'fecha alta';\n            $detalle = 'Modificación de socio: ' . $original['first_name'] . ' ' . $original['last_name'] . ' (' . $original['email'] . ') por el usuario ' . ($_SESSION['username'] ?? '');\n            if ($changedFields) {\n                $detalle .= ' [Campos modificados: ' . implode(', ', $changedFields) . ']';\n                require_once __DIR__ . '/../Models/AuditLog.php';\n                $audit = new AuditLog($this->db);\n                $audit->create(\n                    $_SESSION['user_id'],\n                    'update',\n                    'member',\n                    $id,\n                    $detalle\n                );\n            }\n                if ($this->member->update()) {\n                    header('Location: index.php?page=members');\n                } else {\n                $error = \"Error updating member.\";\n                // Reload member data to show form again\n                $member = $this->member; \n                require __DIR__ . '/../Views/members/edit.php';\n            }\n        }\n    }\n\n    public function deactivate($id) {\n        $this->checkAdmin();\n        $this->member->id = $id;\n        if ($this->member->readOne()) {\n            $this->member->status = 'inactive';\n            $this->member->deactivated_at = date('Y-m-d H:i:s');\n            \n            if ($this->member->update()) {\n                // Registrar en audit_log\n                require_once __DIR__ . '/../Models/AuditLog.php';\n                $audit = new AuditLog($this->db);\n                $audit->create($_SESSION['user_id'], 'deactivate', 'member', $id, 'Baja de socio por el usuario ' . ($_SESSION['username'] ?? ''));\n                \n                header('Location: index.php?page=members&msg=deactivated');\n                exit;\n            }\n        }\n        header('Location: index.php?page=members&error=1');\n        exit;\n    }\n\n    public function delete($id) {\n        $this->checkAdmin();\n        $this->member->id = $id;\n        if ($this->member->delete()) {\n            // Registrar en audit_log\n            require_once __DIR__ . '/../Models/AuditLog.php';\n            $audit = new AuditLog($this->db);\n            $audit->create($_SESSION['user_id'], 'delete', 'member', $id, 'Borrado de socio por el usuario ' . ($_SESSION['username'] ?? ''));\n            \n            header('Location: index.php?page=members&msg=deleted');\n            exit;\n        }\n        header('Location: index.php?page=members&error=1');\n        exit;\n    }\n\n    public function markPaid($id) {\n        $this->checkAdmin();\n        $currentYear = date('Y');\n        // Check if fee for current year exists\n        $feeStmt = $this->db->prepare(\"SELECT amount FROM annual_fees WHERE year = ?\");\n        $feeStmt->execute([$currentYear]);\n        $fee = $feeStmt->fetch(PDO::FETCH_ASSOC);\n        \n        if (!$fee) {\n            $_SESSION['error'] = \"No hay cuota definida para el año $currentYear. Por favor, define la cuota en Configuración > Socios.\";\n            \n            // Preserve current filters\n            $redirectParams = [];\n            if (isset($_GET['filter'])) $redirectParams['filter'] = $_GET['filter'];\n            if (isset($_GET['category'])) $redirectParams['category'] = $_GET['category'];\n            if (isset($_GET['payment_status'])) $redirectParams['payment_status'] = $_GET['payment_status'];\n            if (isset($_GET['search'])) $redirectParams['search'] = $_GET['search'];\n            if (isset($_GET['year_from'])) $redirectParams['year_from'] = $_GET['year_from'];\n            if (isset($_GET['year_to'])) $redirectParams['year_to'] = $_GET['year_to'];\n            if (isset($_GET['p'])) $redirectParams['p'] = $_GET['p'];\n            \n            $queryString = !empty($redirectParams) ? '&' . http_build_query($redirectParams) : '';\n            header('Location: index.php?page=members' . $queryString);\n            exit;\n        }\n        \n        try {\n            // Check if payment already exists\n            $checkStmt = $this->db->prepare(\"SELECT id, status FROM payments WHERE member_id = ? AND fee_year = ? AND payment_type = 'fee'\");\n            $checkStmt->execute([$id, $currentYear]);\n            $existingPayment = $checkStmt->fetch(PDO::FETCH_ASSOC);\n            \n            if ($existingPayment) {\n                // Update existing payment to paid\n                $updateStmt = $this->db->prepare(\"UPDATE payments SET status = 'paid', payment_date = ? WHERE id = ?\");\n                $success = $updateStmt->execute([date('Y-m-d'), $existingPayment['id']]);\n                if (!$success) {\n                    throw new Exception(\"Error al actualizar el pago existente\");\n                }\n                // Registrar en audit_log\n                require_once __DIR__ . '/../Models/AuditLog.php';\n                $audit = new AuditLog($this->db);\n                $audit->create($_SESSION['user_id'], 'markPaid', 'member_payment', $existingPayment['id'], 'Pago marcado como realizado por el usuario ' . ($_SESSION['username'] ?? '')); \n            } else {\n                // Create new payment as paid\n                $insertStmt = $this->db->prepare(\"INSERT INTO payments (member_id, amount, payment_date, concept, status, fee_year, payment_type) VALUES (?, ?, ?, ?, 'paid', ?, 'fee')\");\n                $success = $insertStmt->execute([\n                    $id,\n                    $fee['amount'],\n                    date('Y-m-d'),\n                    \"Cuota Anual \" . $currentYear,\n                    $currentYear\n                ]);\n                if (!$success) {\n                    throw new Exception(\"Error al crear el nuevo pago\");\n                }\n                // Registrar en audit_log\n                require_once __DIR__ . '/../Models/AuditLog.php';\n                $audit = new AuditLog($this->db);\n                $lastId = $this->db->lastInsertId();\n                $audit->create($_SESSION['user_id'], 'markPaid', 'member_payment', $lastId, 'Pago creado y marcado como realizado por el usuario ' . ($_SESSION['username'] ?? ''));\n            }\n            \n            $_SESSION['success'] = 'Pago marcado correctamente';\n            \n        } catch (Exception $e) {\n            error_log(\"Error in markPaid: \" . $e->getMessage());\n            $_SESSION['error'] = 'Error al marcar el pago: ' . $e->getMessage();\n        }\n        \n        // Preserve current filters\n        $redirectParams = [];\n        if (isset($_GET['filter'])) $redirectParams['filter'] = $_GET['filter'];\n        if (isset($_GET['category'])) $redirectParams['category'] = $_GET['category'];\n        if (isset($_GET['payment_status'])) $redirectParams['payment_status'] = $_GET['payment_status'];\n        if (isset($_GET['search'])) $redirectParams['search'] = $_GET['search'];\n        if (isset($_GET['year_from'])) $redirectParams['year_from'] = $_GET['year_from'];\n        if (isset($_GET['year_to'])) $redirectParams['year_to'] = $_GET['year_to'];\n        if (isset($_GET['p'])) $redirectParams['p'] = $_GET['p'];\n        \n        $queryString = !empty($redirectParams) ? '&' . http_build_query($redirectParams) : '';\n        header('Location: index.php?page=members' . $queryString);\n        exit;\n    }\n\n    public function compareImages() {\n        $this->checkAdmin();\n        \n        if (!isset($_SESSION['image_comparison'])) {\n            header('Location: index.php?page=members');\n            exit;\n        }\n        \n        $comparisonData = $_SESSION['image_comparison'];\n        \n        // Load member data\n        $this->member->id = $comparisonData['member_id'];\n        $this->member->readOne();\n        $member = $this->member;\n        \n        require __DIR__ . '/../Views/members/compare_images.php';\n    }\n\n    public function selectImage($id) {\n        $this->checkAdmin();\n        \n        if (!isset($_SESSION['image_comparison']) || $_SESSION['image_comparison']['member_id'] != $id) {\n            header('Location: index.php?page=members');\n            exit;\n        }\n        \n        $comparisonData = $_SESSION['image_comparison'];\n        $choice = $_POST['choice'] ?? '';\n        \n        if ($choice === 'new') {\n            // User chose the new image\n            // Move temp file to permanent location\n            $tempPath = __DIR__ . '/../../public/' . $comparisonData['new_image_temp'];\n            $permanentFileName = 'member_' . time() . '_' . uniqid() . '.' . pathinfo($tempPath, PATHINFO_EXTENSION);\n            $permanentPath = __DIR__ . '/../../public/uploads/members/' . $permanentFileName;\n            \n            if (rename($tempPath, $permanentPath)) {\n                $newPhotoUrl = 'uploads/members/' . $permanentFileName;\n                \n                // Mark old image as not current in history\n                $this->imageHistory->markAllAsNotCurrent($id);\n                \n                // Add old image to history if not already there\n                if ($comparisonData['old_image'] && !$this->imageHistory->imageExists($id, $comparisonData['old_image'])) {\n                    $this->imageHistory->member_id = $id;\n                    $this->imageHistory->image_url = $comparisonData['old_image'];\n                    $this->imageHistory->is_current = false;\n                    $this->imageHistory->uploaded_at = date('Y-m-d H:i:s');\n                    $this->imageHistory->replaced_at = date('Y-m-d H:i:s');\n                    $this->imageHistory->create();\n                }\n                \n                // Add new image to history as current\n                $this->imageHistory->member_id = $id;\n                $this->imageHistory->image_url = $newPhotoUrl;\n                $this->imageHistory->is_current = true;\n                $this->imageHistory->uploaded_at = date('Y-m-d H:i:s');\n                $this->imageHistory->replaced_at = null;\n                $this->imageHistory->create();\n                \n                // Update member with new photo\n                $this->member->id = $id;\n                $this->member->readOne();\n                $this->member->photo_url = $newPhotoUrl;\n            }\n        } else {\n            // User chose to keep the old image\n            // Delete the temporary new image\n            $tempPath = __DIR__ . '/../../public/' . $comparisonData['new_image_temp'];\n            if (file_exists($tempPath)) {\n                unlink($tempPath);\n            }\n        }\n        \n        // Update member with other data\n        $this->member->id = $id;\n        $this->member->readOne();\n        $this->member->first_name = $comparisonData['member_data']['first_name'];\n        $this->member->last_name = $comparisonData['member_data']['last_name'];\n        $this->member->email = $comparisonData['member_data']['email'];\n        $this->member->phone = $comparisonData['member_data']['phone'];\n        $this->member->address = $comparisonData['member_data']['address'];\n        $this->member->status = $comparisonData['member_data']['status'];\n        $this->member->update();\n        \n        // Clean up session\n        unset($_SESSION['image_comparison']);\n        \n        header('Location: index.php?page=members&msg=updated');\n        exit;\n    }\n\n    public function imageHistory($id) {\n        $this->checkAdmin();\n        \n        // Load member data\n        $this->member->id = $id;\n        if (!$this->member->readOne()) {\n            header('Location: index.php?page=members');\n            exit;\n        }\n        $member = $this->member;\n        \n        // Get image history\n        $historyStmt = $this->imageHistory->getByMember($id);\n        $images = $historyStmt->fetchAll(PDO::FETCH_ASSOC);\n        \n        require __DIR__ . '/../Views/members/image_history.php';\n    }\n\n    public function restoreImage($memberId, $historyId) {\n        $this->checkAdmin();\n        \n        // Verify history entry exists and belongs to this member\n        $this->imageHistory->id = $historyId;\n        if (!$this->imageHistory->readOne() || $this->imageHistory->member_id != $memberId) {\n            header('Location: index.php?page=members&action=imageHistory&id=' . $memberId . '&error=invalid');\n            exit;\n        }\n        \n        // Set this image as current\n        $this->imageHistory->setAsCurrent($historyId, $memberId);\n        \n        // Update member's photo_url\n        $this->member->id = $memberId;\n        $this->member->readOne();\n        $this->member->photo_url = $this->imageHistory->image_url;\n        $this->member->update();\n        \n        header('Location: index.php?page=members&action=imageHistory&id=' . $memberId . '&msg=restored');\n        exit;\n    }\n    \n    // ... Funcionalidad de mapa y GPS eliminada ...\n}\n\n","epoch":16,"telemetryInfo":{}}],["file:///root/Documentos/github/GestionSocios/src/Controllers/PaymentController.php::request_6fc134d9-a4c9-45b7-991a-aeb72b48204e",{"uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Controllers/PaymentController.php","external":"file:///root/Documentos/github/GestionSocios/src/Controllers/PaymentController.php","path":"/root/Documentos/github/GestionSocios/src/Controllers/PaymentController.php","scheme":"file"},"requestId":"request_6fc134d9-a4c9-45b7-991a-aeb72b48204e","content":"<?php\n\nclass PaymentController {\n    private $db;\n    private $payment;\n    private $member;\n\n    public function __construct() {\n        $database = new Database();\n        $this->db = $database->getConnection();\n        $this->payment = new Payment($this->db);\n        $this->member = new Member($this->db);\n    }\n\n    private function checkAdmin() {\n        if (($_SESSION['role'] ?? '') !== 'admin') {\n            header('Location: index.php?page=payments');\n            exit;\n        }\n    }\n\n    public function index() {\n        $stmt = $this->payment->readAll();\n        $payments = $stmt->fetchAll(PDO::FETCH_ASSOC);\n        require __DIR__ . '/../Views/payments/list.php';\n    }\n\n    public function create() {\n        $this->checkAdmin();\n        \n        // Load Members with their category info\n        $query = \"SELECT m.id, m.first_name, m.last_name, m.category_id\n                  FROM members m\n                  WHERE m.is_active = 1\n                  ORDER BY m.last_name, m.first_name\";\n        $stmt = $this->db->prepare($query);\n        $stmt->execute();\n        $members = $stmt->fetchAll(PDO::FETCH_ASSOC);\n        \n        // Load category fees by year (for current and previous years)\n        $currentYear = date('Y');\n        $queryFees = \"SELECT cfh.category_id, cfh.year, cfh.fee_amount,\n                             mc.name as category_name\n                      FROM category_fee_history cfh\n                      INNER JOIN member_categories mc ON cfh.category_id = mc.id\n                      WHERE cfh.year >= :year_start\n                      ORDER BY cfh.category_id, cfh.year DESC\";\n        $stmtFees = $this->db->prepare($queryFees);\n        $stmtFees->bindValue(':year_start', $currentYear - 2, PDO::PARAM_INT);\n        $stmtFees->execute();\n        $categoryFees = $stmtFees->fetchAll(PDO::FETCH_ASSOC);\n        \n        // Load Active Events\n        $eventModel = new Event($this->db);\n        $stmtEvents = $eventModel->readActive();\n        $events = $stmtEvents->fetchAll(PDO::FETCH_ASSOC);\n\n        // Load Annual Fees for auto-fill (fallback)\n        $feeModel = new Fee($this->db);\n        $stmtFees = $feeModel->readAll();\n        $fees = $stmtFees->fetchAll(PDO::FETCH_ASSOC);\n\n        require __DIR__ . '/../Views/payments/create.php';\n    }\n\n    public function store() {\n        $this->checkAdmin();\n        if ($_SERVER['REQUEST_METHOD'] === 'POST') {\n            // Validate CSRF token\n            require_once __DIR__ . '/../Helpers/CsrfHelper.php';\n            CsrfHelper::validateRequest();\n            \n            try {\n                $member_id = $_POST['member_id'];\n                $payment_type = $_POST['payment_type'] ?? 'fee';\n                $payment_date = $_POST['payment_date'];\n                // ...existing code...\n                if ($payment_type === 'fee') {\n                    $fee_year = date('Y', strtotime($payment_date));\n                    $checkStmt = $this->db->prepare(\n                        \"SELECT id FROM payments \n                         WHERE member_id = ? AND fee_year = ? AND payment_type = 'fee'\"\n                    );\n                    $checkStmt->execute([$member_id, $fee_year]);\n                    if ($checkStmt->fetch()) {\n                        header(\"Location: index.php?page=payments&action=create&error=duplicate_fee&year=$fee_year\");\n                        exit;\n                    }\n                    $this->payment->fee_year = $fee_year;\n                }\n                $this->payment->member_id = $member_id;\n                $this->payment->amount = $_POST['amount'];\n                $this->payment->payment_date = $payment_date;\n                $this->payment->concept = $_POST['concept'];\n                $this->payment->status = $_POST['status'];\n                $this->payment->payment_type = $payment_type;\n                $this->payment->event_id = !empty($_POST['event_id']) ? $_POST['event_id'] : null;\n\n                if ($this->payment->create()) {\n                    $lastId = $this->db->lastInsertId();\n                    \n                    // Audit log registro alta pago\n                    require_once __DIR__ . '/../Models/AuditLog.php';\n                    $auditLog = new AuditLog($this->db);\n                    $userId = $_SESSION['user_id'] ?? null;\n                    $details = json_encode([\n                        'member_id' => $member_id,\n                        'amount' => $_POST['amount'],\n                        'payment_type' => $payment_type,\n                        'payment_date' => $payment_date\n                    ]);\n                    $auditLog->create($userId, 'create', 'payment', $lastId, $details);\n\n                    // Crear asiento contable automático\n                    require_once __DIR__ . '/../Helpers/AccountingHelper.php';\n                    $accountingCreated = AccountingHelper::createEntryFromPayment(\n                        $this->db,\n                        $lastId,\n                        $_POST['amount'],\n                        $_POST['concept'],\n                        $payment_date,\n                        'transfer', // Por defecto, podría obtenerse del formulario\n                        $payment_type\n                    );\n                    \n                    if (!$accountingCreated) {\n                        error_log(\"No se pudo crear el asiento contable para el pago #$lastId\");\n                    }\n\n                    header('Location: index.php?page=payments&success=created');\n                    exit;\n                } else {\n                    throw new Exception(\"Error al crear el pago.\");\n                }\n            } catch (Exception $e) {\n                // ...existing code...\n            }\n        }\n    }\n\n    public function edit($id) {\n        $this->checkAdmin();\n        $this->payment->id = $id;\n        if ($this->payment->readOne()) {\n            $stmt = $this->member->readAll();\n            $members = $stmt->fetchAll(PDO::FETCH_ASSOC);\n            $payment = $this->payment;\n            require __DIR__ . '/../Views/payments/edit.php';\n        } else {\n            header('Location: index.php?page=payments');\n        }\n    }\n\n    public function update($id) {\n        $this->checkAdmin();\n        if ($_SERVER['REQUEST_METHOD'] === 'POST') {\n            // Validate CSRF token\n            require_once __DIR__ . '/../Helpers/CsrfHelper.php';\n            CsrfHelper::validateRequest();\n            $this->payment->id = $id;\n            $this->payment->member_id = $_POST['member_id'];\n            $this->payment->amount = $_POST['amount'];\n            $this->payment->payment_date = $_POST['payment_date'];\n            $this->payment->concept = $_POST['concept'];\n            $this->payment->status = $_POST['status'];\n\n            if ($this->payment->update()) {\n                // Audit log registro modificación pago\n                require_once __DIR__ . '/../Models/AuditLog.php';\n                $auditLog = new AuditLog($this->db);\n                $userId = $_SESSION['user_id'] ?? null;\n                $details = json_encode([\n                    'payment_id' => $id,\n                    'member_id' => $_POST['member_id'],\n                    'amount' => $_POST['amount'],\n                    'payment_date' => $_POST['payment_date']\n                ]);\n                $auditLog->create($userId, 'update', 'payment', $id, $details);\n\n                header('Location: index.php?page=payments');\n            } else {\n                // ...existing code...\n            }\n        }\n    }\n\n    public function delete($id) {\n        $this->checkAdmin();\n        $this->payment->id = $id;\n        if ($this->payment->delete()) {\n            // Audit log registro eliminación pago\n            require_once __DIR__ . '/../Models/AuditLog.php';\n            $auditLog = new AuditLog($this->db);\n            $userId = $_SESSION['user_id'] ?? null;\n            $details = json_encode(['payment_id' => $id]);\n            $auditLog->create($userId, 'delete', 'payment', $id, $details);\n\n            header('Location: index.php?page=payments');\n        } else {\n            header('Location: index.php?page=payments&error=delete_failed');\n        }\n    }\n}\n","epoch":17,"telemetryInfo":{}}],["file:///root/Documentos/github/GestionSocios/src/Controllers/EventController.php::request_6fc134d9-a4c9-45b7-991a-aeb72b48204e",{"uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Controllers/EventController.php","external":"file:///root/Documentos/github/GestionSocios/src/Controllers/EventController.php","path":"/root/Documentos/github/GestionSocios/src/Controllers/EventController.php","scheme":"file"},"requestId":"request_6fc134d9-a4c9-45b7-991a-aeb72b48204e","content":"<?php\n\nclass EventController {\n        public function discard($id) {\n            $this->checkAdmin();\n            $eventModel = new Event($this->db);\n            if ($eventModel->discard($id)) {\n                require_once __DIR__ . '/../Models/AuditLog.php';\n                $audit = new AuditLog($this->db);\n                $audit->create($_SESSION['user_id'], 'discard', 'event', $id, 'Evento descartado por el usuario ' . ($_SESSION['username'] ?? ''));\n                $_SESSION['success'] = 'Evento descartado correctamente.';\n            } else {\n                $_SESSION['error'] = 'Error al descartar el evento.';\n            }\n            header('Location: index.php?page=events');\n            exit;\n        }\n\n        public function restore($id) {\n            $this->checkAdmin();\n            $eventModel = new Event($this->db);\n            if ($eventModel->restore($id)) {\n                require_once __DIR__ . '/../Models/AuditLog.php';\n                $audit = new AuditLog($this->db);\n                $audit->create($_SESSION['user_id'], 'restore', 'event', $id, 'Evento restaurado por el usuario ' . ($_SESSION['username'] ?? ''));\n                $_SESSION['success'] = 'Evento restaurado correctamente.';\n            } else {\n                $_SESSION['error'] = 'Error al restaurar el evento.';\n            }\n            header('Location: index.php?page=events');\n            exit;\n        }\n    private $db;\n    private $event;\n    private $member;\n\n    public function __construct() {\n        $database = new Database();\n        $this->db = $database->getConnection();\n        $this->event = new Event($this->db);\n        $this->member = new Member($this->db);\n    }\n\n    private function checkAdmin() {\n        if (($_SESSION['role'] ?? '') !== 'admin') {\n            header('Location: index.php?page=events');\n            exit;\n        }\n    }\n    public function show($id) {\n        $this->checkAdmin();\n        // Load event data\n        $this->event->id = $id;\n        if (!$this->event->readOne()) {\n            header('Location: index.php?page=events&error=notfound');\n            exit;\n        }\n        $event = $this->event;\n        \n        // Get all active members\n        $stmt = $this->member->readAll();\n        $members = $stmt->fetchAll(PDO::FETCH_ASSOC);\n\n        // Bulk fetch payments for this event\n        $payStmt = $this->db->prepare(\"SELECT member_id, id, status FROM payments WHERE event_id = ? AND payment_type = 'event'\");\n        $payStmt->execute([$id]);\n        $payments = [];\n        while ($row = $payStmt->fetch(PDO::FETCH_ASSOC)) {\n            $payments[$row['member_id']] = $row;\n        }\n\n        // Bulk fetch attendance for this event\n        $attStmt = $this->db->prepare(\"SELECT member_id, status FROM event_attendance WHERE event_id = ?\");\n        $attStmt->execute([$id]);\n        $attendances = [];\n        while ($row = $attStmt->fetch(PDO::FETCH_ASSOC)) {\n            $attendances[$row['member_id']] = $row;\n        }\n\n        // Build participants array\n        $participants = [];\n        foreach ($members as $m) {\n            $pay = $payments[$m['id']] ?? null;\n            $attendance = $attendances[$m['id']] ?? null;\n            $participants[] = ['member' => $m, 'payment' => $pay, 'attendance' => $attendance];\n        }\n        require __DIR__ . '/../Views/events/show.php';\n    }\n\n    // Mark participant as paid for an event\n    public function markPaid($eventId, $memberId) {\n        $this->checkAdmin();\n        // Ensure event exists\n        $this->event->id = $eventId;\n        if (!$this->event->readOne()) {\n            header('Location: index.php?page=events&error=notfound');\n            exit;\n        }\n        // Check existing payment record\n        $checkStmt = $this->db->prepare(\"SELECT id FROM payments WHERE member_id = ? AND event_id = ? AND payment_type = 'event'\");\n        $checkStmt->execute([$memberId, $eventId]);\n        $existing = $checkStmt->fetch(PDO::FETCH_ASSOC);\n        if ($existing) {\n            $upd = $this->db->prepare(\"UPDATE payments SET status = 'paid', payment_date = ? WHERE id = ?\");\n            $upd->execute([date('Y-m-d'), $existing['id']]);\n            // Registrar en audit_log\n            require_once __DIR__ . '/../Models/AuditLog.php';\n            $audit = new AuditLog($this->db);\n            $audit->create($_SESSION['user_id'], 'markPaid', 'event_payment', $existing['id'], 'Pago de evento marcado como realizado por el usuario ' . ($_SESSION['username'] ?? ''));\n        } else {\n            $ins = $this->db->prepare(\"INSERT INTO payments (member_id, amount, payment_date, concept, status, fee_year, payment_type, event_id) VALUES (?, ?, ?, ?, 'paid', NULL, 'event', ?)\");\n            $ins->execute([\n                $memberId,\n                $this->event->price,\n                date('Y-m-d'),\n                $this->event->name,\n                $eventId\n            ]);\n            // Registrar en audit_log\n            require_once __DIR__ . '/../Models/AuditLog.php';\n            $audit = new AuditLog($this->db);\n            $lastId = $this->db->lastInsertId();\n            $audit->create($_SESSION['user_id'], 'markPaid', 'event_payment', $lastId, 'Pago de evento creado y marcado como realizado por el usuario ' . ($_SESSION['username'] ?? ''));\n        }\n        header(\"Location: index.php?page=events&action=show&id=$eventId&msg=paid\");\n        exit;\n    }\n\n    public function index() {\n        $this->checkAdmin();\n        $includeDiscarded = !empty($_GET['show_discarded']) && $_GET['show_discarded'] == '1';\n        $stmt = $this->event->readAll($includeDiscarded);\n        $events = $stmt->fetchAll(PDO::FETCH_ASSOC);\n        require __DIR__ . '/../Views/events/index.php';\n    }\n\n    public function create() {\n        $this->checkAdmin();\n        require __DIR__ . '/../Views/events/create.php';\n    }\n\n    public function store() {\n        $this->checkAdmin();\n        if ($_SERVER['REQUEST_METHOD'] !== 'POST') {\n            header('Location: index.php?page=events');\n            exit;\n        }\n        \n        // Validate CSRF token\n        require_once __DIR__ . '/../Helpers/CsrfHelper.php';\n        CsrfHelper::validateRequest();\n\n        $eventModel = new Event($this->db);\n        $eventModel->name = $_POST['name'] ?? '';\n        $eventModel->description = $_POST['description'] ?? '';\n        $eventModel->date = $_POST['event_date'] ?? date('Y-m-d');\n        $eventModel->location = $_POST['location'] ?? '';\n        $eventModel->price = isset($_POST['price']) ? floatval($_POST['price']) : 0.00;\n\n        if ($eventModel->create()) {\n            require_once __DIR__ . '/../Models/AuditLog.php';\n            $audit = new AuditLog($this->db);\n            $lastId = $this->db->lastInsertId();\n            $audit->create($_SESSION['user_id'], 'create', 'event', $lastId, 'Alta de evento por el usuario ' . ($_SESSION['username'] ?? ''));\n            // Notificación ntfy y Telegram\n            require_once __DIR__ . '/../Notifications/NotificationManager.php';\n            $notifier = new NotificationManager();\n            $msg = 'Nuevo evento: ' . $eventModel->name . ' (' . $eventModel->date . ')';\n            $notifier->sendNtfy($msg, 'Nuevo Evento');\n            $notifier->sendTelegram($msg);\n            $_SESSION['success'] = 'Evento registrado correctamente.';\n        } else {\n            $_SESSION['error'] = 'Error al registrar el evento.';\n        }\n        header('Location: index.php?page=events');\n        exit;\n    }\n\n    public function edit($id) {\n        $this->checkAdmin();\n        $this->event->id = $id;\n        $this->event->readOne();\n        $event = $this->event;\n        require __DIR__ . '/../Views/events/edit.php';\n    }\n\n    public function update($id) {\n        $this->checkAdmin();\n        if ($_SERVER['REQUEST_METHOD'] === 'POST') {\n            // Validate CSRF token\n            require_once __DIR__ . '/../Helpers/CsrfHelper.php';\n            CsrfHelper::validateRequest();\n            $this->event->id = $id;\n            $this->event->name = $_POST['name'];\n            $this->event->event_type = $_POST['event_type'] ?? 'other';\n            $this->event->color = $_POST['color'] ?? '#6366f1';\n            $this->event->description = $_POST['description'];\n            $this->event->location = !empty($_POST['location']) ? $_POST['location'] : null;\n            $this->event->date = $_POST['date'];\n            $this->event->start_time = !empty($_POST['start_time']) ? $_POST['start_time'] : null;\n            $this->event->end_time = !empty($_POST['end_time']) ? $_POST['end_time'] : null;\n            $this->event->price = isset($_POST['price']) ? floatval($_POST['price']) : 0.00;\n            $this->event->max_attendees = !empty($_POST['max_attendees']) ? $_POST['max_attendees'] : null;\n            $this->event->requires_registration = isset($_POST['requires_registration']) ? 1 : 0;\n            $this->event->registration_deadline = !empty($_POST['registration_deadline']) ? $_POST['registration_deadline'] : null;\n            $this->event->is_active = isset($_POST['is_active']) ? 1 : 0;\n\n            if ($this->event->update()) {\n                // Auditoría de modificación de evento\n                require_once __DIR__ . '/../Models/AuditLog.php';\n                $audit = new AuditLog($this->db);\n                $audit->create($_SESSION['user_id'], 'update', 'event', $id, 'Modificación de evento por el usuario ' . ($_SESSION['username'] ?? ''));\n                $_SESSION['success'] = \"Evento actualizado correctamente\";\n                header('Location: index.php?page=calendar');\n            } else {\n                $error = \"Error updating event.\";\n                $event = $this->event;\n                require __DIR__ . '/../Views/events/edit.php';\n            }\n        }\n    }\n\n    public function updateAttendanceStatus() {\n        $this->checkAdmin();\n        $eventId = $_GET['id'] ?? null;\n        $memberId = $_GET['member_id'] ?? null;\n        $status = $_POST['status'] ?? null;\n        if (!$eventId || !$memberId || !$status) {\n            $_SESSION['error'] = \"Datos incompletos.\";\n            header(\"Location: index.php?page=events&action=show&id=$eventId\");\n            exit;\n        }\n        // Check if attendance exists\n        $checkStmt = $this->db->prepare(\"SELECT id FROM event_attendance WHERE event_id = :event_id AND member_id = :member_id\");\n        $checkStmt->bindParam(':event_id', $eventId);\n        $checkStmt->bindParam(':member_id', $memberId);\n        $checkStmt->execute();\n        $existing = $checkStmt->fetch(PDO::FETCH_ASSOC);\n        if ($existing) {\n            $stmt = $this->db->prepare(\"UPDATE event_attendance SET status = :status WHERE event_id = :event_id AND member_id = :member_id\");\n            $stmt->bindParam(':status', $status);\n            $stmt->bindParam(':event_id', $eventId);\n            $stmt->bindParam(':member_id', $memberId);\n            $stmt->execute();\n        } else {\n            $stmt = $this->db->prepare(\"INSERT INTO event_attendance (event_id, member_id, status, registration_date) VALUES (:event_id, :member_id, :status, NOW())\");\n            $stmt->bindParam(':event_id', $eventId);\n            $stmt->bindParam(':member_id', $memberId);\n            $stmt->bindParam(':status', $status);\n            $stmt->execute();\n        }\n        // Auditoría de cambio de estado de asistencia\n        require_once __DIR__ . '/../Models/AuditLog.php';\n        $audit = new AuditLog($this->db);\n        $audit->create($_SESSION['user_id'], 'update', 'event_attendance', $eventId, 'Cambio de estado de asistencia para el evento ' . $eventId . ', miembro ' . $memberId . ' por el usuario ' . ($_SESSION['username'] ?? ''));\n        $_SESSION['success'] = \"Estado actualizado correctamente.\";\n        header(\"Location: index.php?page=events&action=show&id=$eventId\");\n        exit;\n    }\n}\n","epoch":22,"telemetryInfo":{}}],["file:///root/Documentos/github/GestionSocios/src/Controllers/BookAdController.php::request_6fc134d9-a4c9-45b7-991a-aeb72b48204e",{"uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Controllers/BookAdController.php","external":"file:///root/Documentos/github/GestionSocios/src/Controllers/BookAdController.php","path":"/root/Documentos/github/GestionSocios/src/Controllers/BookAdController.php","scheme":"file"},"requestId":"request_6fc134d9-a4c9-45b7-991a-aeb72b48204e","content":"<?php\n\nclass BookAdController {\n    private $db;\n    private $bookAd;\n    private $donor;\n\n    public function __construct() {\n        $database = new Database();\n        $this->db = $database->getConnection();\n        $this->bookAd = new BookAd($this->db);\n        $this->donor = new Donor($this->db);\n    }\n\n    private function checkAdmin() {\n        if (($_SESSION['role'] ?? '') !== 'admin') {\n            header('Location: index.php?page=book');\n            exit;\n        }\n    }\n\n    public function index() {\n        $year = $_GET['year'] ?? date('Y');\n        $stmt = $this->bookAd->readAllByYear($year);\n        $ads = $stmt->fetchAll(PDO::FETCH_ASSOC);\n        \n        // Calculate totals\n        $totalRevenue = 0;\n        foreach ($ads as $ad) {\n            $totalRevenue += $ad['amount'];\n        }\n\n        require __DIR__ . '/../Views/book/index.php';\n    }\n\n    public function create() {\n        $this->checkAdmin();\n        \n        $year = $_GET['year'] ?? date('Y');\n\n        // Get donors for the dropdown\n        require_once __DIR__ . '/../Models/Donor.php';\n        $donorModel = new Donor($this->db);\n        $donors = $donorModel->readAll();\n\n        // Get ad prices for current year\n        require_once __DIR__ . '/../Models/AdPrice.php';\n        $adPriceModel = new AdPrice($this->db);\n        $adPrices = $adPriceModel->getPricesByYear($year);\n        \n        require __DIR__ . '/../Views/book/create_ad.php';\n    }\n\n    public function store() {\n        $this->checkAdmin();\n        if ($_SERVER['REQUEST_METHOD'] === 'POST') {\n            $this->bookAd->donor_id = $_POST['donor_id'];\n            $this->bookAd->year = !empty($_POST['year']) ? $_POST['year'] : date('Y');\n            $this->bookAd->ad_type = $_POST['ad_type'];\n            $this->bookAd->amount = $_POST['amount'];\n            $this->bookAd->status = $_POST['status'];\n            $this->bookAd->image_url = ''; // Handle upload if needed later\n\n            // Validar que solo haya una portada y una contraportada por año\n            if ($this->bookAd->ad_type === 'cover' || $this->bookAd->ad_type === 'back_cover') {\n                $checkQuery = \"SELECT COUNT(*) as count FROM book_ads WHERE year = :year AND ad_type = :ad_type\";\n                $checkStmt = $this->db->prepare($checkQuery);\n                $checkStmt->bindParam(':year', $this->bookAd->year);\n                $checkStmt->bindParam(':ad_type', $this->bookAd->ad_type);\n                $checkStmt->execute();\n                $result = $checkStmt->fetch(PDO::FETCH_ASSOC);\n                \n                if ($result['count'] > 0) {\n                    $typeName = $this->bookAd->ad_type === 'cover' ? 'portada' : 'contraportada';\n                    $error = \"Ya existe una {$typeName} para el año {$this->bookAd->year}. Solo puede haber una {$typeName} por año.\";\n                    $year = $_POST['year'];\n                    require_once __DIR__ . '/../Models/Donor.php';\n                    $donorModel = new Donor($this->db);\n                    $donors = $donorModel->readAll();\n                    require_once __DIR__ . '/../Models/AdPrice.php';\n                    $adPriceModel = new AdPrice($this->db);\n                    $adPrices = $adPriceModel->getPricesByYear($year);\n                    require __DIR__ . '/../Views/book/create_ad.php';\n                    return;\n                }\n            }\n\n            if ($this->bookAd->create()) {\n                // Get the last inserted ID\n                $adId = $this->db->lastInsertId();\n                \n                // Create payment record immediately (pending or paid)\n                $this->syncPayment($adId);\n                \n                header('Location: index.php?page=book&year=' . $_POST['year']);\n            } else {\n                $error = \"Error creating ad.\";\n                $year = $_POST['year'];\n                // Re-fetch donors for the view\n                require_once __DIR__ . '/../Models/Donor.php';\n                $donorModel = new Donor($this->db);\n                $donors = $donorModel->readAll();\n                require __DIR__ . '/../Views/book/create_ad.php';\n            }\n        }\n    }\n\n    public function edit($id) {\n        $this->checkAdmin();\n        $this->bookAd->id = $id;\n        \n        if ($this->bookAd->readOne()) {\n            $bookAd = $this->bookAd;\n            \n            // Get donors for dropdown\n            require_once __DIR__ . '/../Models/Donor.php';\n            $donorModel = new Donor($this->db);\n            $donors = $donorModel->readAll();\n            \n            // Get ad prices for current year\n            require_once __DIR__ . '/../Models/AdPrice.php';\n            $adPriceModel = new AdPrice($this->db);\n            $adPrices = $adPriceModel->getPricesByYear($bookAd->year);\n            \n            require __DIR__ . '/../Views/book/edit_ad.php';\n        } else {\n            header('Location: index.php?page=book&error=1');\n        }\n    }\n    \n    public function update($id) {\n        $this->checkAdmin();\n        if ($_SERVER['REQUEST_METHOD'] === 'POST') {\n            $this->bookAd->id = $id;\n            $this->bookAd->donor_id = $_POST['donor_id'];\n            $this->bookAd->year = $_POST['year'];\n            $this->bookAd->ad_type = $_POST['ad_type'];\n            $this->bookAd->amount = !empty($_POST['amount']) ? floatval($_POST['amount']) : 0.00;\n            $this->bookAd->status = $_POST['status'];\n            $this->bookAd->image_url = ''; // Keep existing\n            \n            // Validar que solo haya una portada y una contraportada por año\n            if ($this->bookAd->ad_type === 'cover' || $this->bookAd->ad_type === 'back_cover') {\n                $checkQuery = \"SELECT COUNT(*) as count FROM book_ads WHERE year = :year AND ad_type = :ad_type AND id != :id\";\n                $checkStmt = $this->db->prepare($checkQuery);\n                $checkStmt->bindParam(':year', $this->bookAd->year);\n                $checkStmt->bindParam(':ad_type', $this->bookAd->ad_type);\n                $checkStmt->bindParam(':id', $id);\n                $checkStmt->execute();\n                $result = $checkStmt->fetch(PDO::FETCH_ASSOC);\n                \n                if ($result['count'] > 0) {\n                    $typeName = $this->bookAd->ad_type === 'cover' ? 'portada' : 'contraportada';\n                    $error = \"Ya existe una {$typeName} para el año {$this->bookAd->year}. Solo puede haber una {$typeName} por año.\";\n                    $bookAd = $this->bookAd;\n                    require_once __DIR__ . '/../Models/Donor.php';\n                    $donorModel = new Donor($this->db);\n                    $donors = $donorModel->readAll();\n                    require_once __DIR__ . '/../Models/AdPrice.php';\n                    $adPriceModel = new AdPrice($this->db);\n                    $adPrices = $adPriceModel->getPricesByYear($_POST['year']);\n                    require __DIR__ . '/../Views/book/edit_ad.php';\n                    return;\n                }\n            }\n            \n            if ($this->bookAd->update()) {\n                // Registrar en audit_log el cambio de anuncio (incluyendo imagen)\n                require_once __DIR__ . '/../Models/Donor.php';\n                $donorModel = new Donor($this->db);\n                $donorModel->id = $this->bookAd->donor_id;\n                $donorModel->readOne();\n                require_once __DIR__ . '/../Models/AuditLog.php';\n                $audit = new AuditLog($this->db);\n                $audit->create(\n                    $_SESSION['user_id'],\n                    'update',\n                    'bookad',\n                    $id,\n                    'Anuncio de donante modificado para: ' . $donorModel->name . ' (' . $donorModel->email . ') por el usuario ' . ($_SESSION['username'] ?? '')\n                );\n                // If marked as paid, create/update payment record\n                if ($_POST['status'] === 'paid') {\n                    $this->syncPayment($id);\n                }\n                header('Location: index.php?page=book&year=' . $_POST['year'] . '&msg=updated');\n                exit;\n            } else {\n                $error = \"Error actualizando anuncio.\";\n                $bookAd = $this->bookAd;\n                \n                // Re-fetch data for view\n                require_once __DIR__ . '/../Models/Donor.php';\n                $donorModel = new Donor($this->db);\n                $donors = $donorModel->readAll();\n                \n                require_once __DIR__ . '/../Models/AdPrice.php';\n                $adPriceModel = new AdPrice($this->db);\n                $adPrices = $adPriceModel->getPricesByYear($_POST['year']);\n                \n                require __DIR__ . '/../Views/book/edit_ad.php';\n            }\n        }\n    }\n    \n    public function markPaid($id) {\n        $this->checkAdmin();\n        $this->bookAd->id = $id;\n        \n        if ($this->bookAd->readOne()) {\n            $year = $this->bookAd->year;\n            $this->bookAd->status = 'paid';\n            \n            if ($this->bookAd->update()) {\n                // Create payment record\n                $this->syncPayment($id);\n                // Registrar en audit_log\n                require_once __DIR__ . '/../Models/AuditLog.php';\n                $audit = new AuditLog($this->db);\n                // Obtener datos del donante\n                require_once __DIR__ . '/../Models/Donor.php';\n                $donorModel = new Donor($this->db);\n                $donorModel->id = $this->bookAd->donor_id;\n                $donorModel->readOne();\n                $audit->create(\n                    $_SESSION['user_id'],\n                    'markPaid',\n                    'bookad_payment',\n                    $id,\n                    'Pago de anuncio de libro marcado como realizado para: ' . $donorModel->name . ' (' . $donorModel->email . ') por el usuario ' . ($_SESSION['username'] ?? '')\n                );\n                header('Location: index.php?page=book&year=' . $year . '&msg=marked_paid');\n                exit;\n            }\n        }\n        header('Location: index.php?page=book&error=1');\n    }\n    \n    private function syncPayment($adId) {\n        // Sync book ad payment with payments table\n        $this->bookAd->id = $adId;\n        $this->bookAd->readOne();\n        \n        // Get donor info\n        require_once __DIR__ . '/../Models/Donor.php';\n        $donorModel = new Donor($this->db);\n        $donorModel->id = $this->bookAd->donor_id;\n        $donorModel->readOne();\n        \n        // Check if payment already exists\n        $checkStmt = $this->db->prepare(\"SELECT id FROM payments WHERE payment_type = 'book_ad' AND book_ad_id = ?\");\n        $checkStmt->execute([$adId]);\n        $existingPayment = $checkStmt->fetch(PDO::FETCH_ASSOC);\n        \n        if ($existingPayment) {\n            // Update existing payment\n            $paymentStatus = $this->bookAd->status === 'paid' ? 'paid' : 'pending';\n            $paymentDate = $this->bookAd->status === 'paid' ? date('Y-m-d') : NULL;\n            $updateStmt = $this->db->prepare(\"UPDATE payments SET amount = ?, payment_date = ?, status = ? WHERE id = ?\");\n            $updateStmt->execute([\n                $this->bookAd->amount,\n                $paymentDate,\n                $paymentStatus,\n                $existingPayment['id']\n            ]);\n        } else {\n            // Create new payment record (pending or paid)\n            $paymentStatus = $this->bookAd->status === 'paid' ? 'paid' : 'pending';\n            $paymentDate = $this->bookAd->status === 'paid' ? date('Y-m-d') : NULL;\n            $insertStmt = $this->db->prepare(\"INSERT INTO payments (member_id, amount, payment_date, concept, status, fee_year, payment_type, book_ad_id) VALUES (?, ?, ?, ?, ?, ?, 'book_ad', ?)\");\n            $insertStmt->execute([\n                $this->bookAd->donor_id,\n                $this->bookAd->amount,\n                $paymentDate,\n                'Anuncio Libro Fiestas ' . $this->bookAd->year . ' - ' . $donorModel->name,\n                $paymentStatus,\n                $this->bookAd->year,\n                $adId\n            ]);\n            \n            // Crear asiento contable si está pagado\n            if ($this->bookAd->status === 'paid' && $paymentDate) {\n                require_once __DIR__ . '/../Helpers/AccountingHelper.php';\n                $accountingCreated = AccountingHelper::createEntryFromBookAd(\n                    $this->db,\n                    $adId,\n                    $this->bookAd->amount,\n                    'Anuncio Libro Fiestas ' . $this->bookAd->year . ' - ' . $donorModel->name,\n                    $paymentDate,\n                    'transfer' // Por defecto transferencia\n                );\n                \n                if (!$accountingCreated) {\n                    error_log(\"No se pudo crear el asiento contable para el anuncio #$adId\");\n                }\n            }\n        }\n    }\n\n    public function delete($id) {\n        $this->checkAdmin();\n        $this->bookAd->id = $id;\n        if ($this->bookAd->readOne()) {\n            $year = $this->bookAd->year;\n            \n            // Delete associated payment if exists\n            $deletePaymentStmt = $this->db->prepare(\"DELETE FROM payments WHERE payment_type = 'book_ad' AND book_ad_id = ?\");\n            $deletePaymentStmt->execute([$id]);\n            \n            if ($this->bookAd->delete()) {\n                header('Location: index.php?page=book&year=' . $year . '&msg=deleted');\n                exit;\n            }\n        }\n        header('Location: index.php?page=book&error=1');\n    }\n}\n?>\n","epoch":23,"telemetryInfo":{}}],["file:///root/Documentos/github/GestionSocios/src/Controllers/SupplierController.php::request_f8451068-e611-4234-b20b-7ddc07e79199",{"uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Controllers/SupplierController.php","external":"file:///root/Documentos/github/GestionSocios/src/Controllers/SupplierController.php","path":"/root/Documentos/github/GestionSocios/src/Controllers/SupplierController.php","scheme":"file"},"requestId":"request_f8451068-e611-4234-b20b-7ddc07e79199","content":"<?php\n\nrequire_once __DIR__ . '/../Models/Supplier.php';\nrequire_once __DIR__ . '/../Models/SupplierInvoice.php';\nrequire_once __DIR__ . '/../Helpers/CsrfHelper.php';\n\nclass SupplierController {\n    private $db;\n    private $supplier;\n    private $invoice;\n\n    public function __construct() {\n        $database = new Database();\n        $this->db = $database->getConnection();\n        $this->supplier = new Supplier($this->db);\n        $this->invoice = new SupplierInvoice($this->db);\n    }\n\n    public function index() {\n        $stmt = $this->supplier->readAll();\n        $suppliers = $stmt->fetchAll(PDO::FETCH_ASSOC);\n        require __DIR__ . '/../Views/suppliers/index.php';\n    }\n\n    public function create() {\n        require __DIR__ . '/../Views/suppliers/create.php';\n    }\n\n    public function store() {\n        CsrfHelper::validateRequest();\n\n        if ($_SERVER['REQUEST_METHOD'] === 'POST') {\n            $this->supplier->name = $_POST['name'] ?? '';\n            $this->supplier->cif_nif = $_POST['cif_nif'] ?? '';\n            $this->supplier->email = $_POST['email'] ?? '';\n            $this->supplier->phone = $_POST['phone'] ?? '';\n            $this->supplier->address = $_POST['address'] ?? '';\n            $this->supplier->website = $_POST['website'] ?? '';\n            $this->supplier->notes = $_POST['notes'] ?? '';\n\n            // Handle Logo Upload\n            if (isset($_FILES['logo']) && $_FILES['logo']['error'] === UPLOAD_ERR_OK) {\n                try {\n                    // Validate file size (5MB maximum)\n                    if ($_FILES['logo']['size'] > 5 * 1024 * 1024) {\n                        throw new Exception('El archivo es demasiado grande. Máximo 5MB permitido.');\n                    }\n\n                    $uploadDir = 'public/uploads/suppliers/logos/';\n                    if (!file_exists($uploadDir)) {\n                        mkdir($uploadDir, 0755, true);\n                    }\n                    \n                    $fileInfo = pathinfo($_FILES['logo']['name']);\n                    $extension = strtolower($fileInfo['extension']);\n                    $allowedExtensions = ['jpg', 'jpeg', 'png', 'webp'];\n                    \n                    if (!in_array($extension, $allowedExtensions)) {\n                        throw new Exception('Formato de imagen no válido');\n                    }\n\n                    // Validate MIME type using finfo\n                    $finfo = finfo_open(FILEINFO_MIME_TYPE);\n                    $mimeType = finfo_file($finfo, $_FILES['logo']['tmp_name']);\n                    finfo_close($finfo);\n                    \n                    $allowedMimes = ['image/jpeg', 'image/png', 'image/webp'];\n                    if (!in_array($mimeType, $allowedMimes)) {\n                        throw new Exception('Tipo de archivo no permitido.');\n                    }\n\n                    $fileName = uniqid() . '_' . bin2hex(random_bytes(8)) . '.' . $extension;\n                    $targetPath = $uploadDir . $fileName;\n\n                    if (move_uploaded_file($_FILES['logo']['tmp_name'], $targetPath)) {\n                        $this->supplier->logo_path = $targetPath;\n                    }\n                } catch (Exception $e) {\n                    $_SESSION['error'] = \"Error al subir logo: \" . $e->getMessage();\n                }\n            }\n\n            if ($this->supplier->create()) {\n                // Create specific folder for this supplier's documents\n                $supplierDir = 'public/uploads/suppliers/' . $this->supplier->id . '/';\n                if (!file_exists($supplierDir)) {\n                    mkdir($supplierDir, 0755, true);\n                }\n\n                $_SESSION['success'] = \"Proveedor creado correctamente.\";\n                header(\"Location: index.php?page=suppliers\");\n            } else {\n                $_SESSION['error'] = \"No se pudo crear el proveedor.\";\n                header(\"Location: index.php?page=suppliers&action=create\");\n            }\n            exit;\n        }\n    }\n\n    public function show() {\n        $id = isset($_GET['id']) ? intval($_GET['id']) : die('ERROR: ID no encontrado.');\n        $this->supplier->id = $id;\n        $this->supplier->readOne();\n\n        $stmt = $this->invoice->getBySupplierId($id);\n        $invoices = $stmt->fetchAll(PDO::FETCH_ASSOC);\n\n        require __DIR__ . '/../Views/suppliers/show.php';\n    }\n\n    public function edit() {\n        $id = isset($_GET['id']) ? intval($_GET['id']) : die('ERROR: ID no encontrado.');\n        $this->supplier->id = $id;\n        $this->supplier->readOne();\n        require __DIR__ . '/../Views/suppliers/edit.php';\n    }\n\n    public function update() {\n        CsrfHelper::validateRequest();\n\n        if ($_SERVER['REQUEST_METHOD'] === 'POST') {\n            $this->supplier->id = $_POST['id'];\n            $this->supplier->name = $_POST['name'];\n            $this->supplier->cif_nif = $_POST['cif_nif'];\n            $this->supplier->email = $_POST['email'];\n            $this->supplier->phone = $_POST['phone'];\n            $this->supplier->address = $_POST['address'];\n            $this->supplier->website = $_POST['website'];\n            $this->supplier->notes = $_POST['notes'];\n\n            // Handle Logo Update\n            if (isset($_FILES['logo']) && $_FILES['logo']['error'] === UPLOAD_ERR_OK) {\n                try {\n                    // Validate file size (5MB maximum)\n                    if ($_FILES['logo']['size'] > 5 * 1024 * 1024) {\n                        throw new Exception('El archivo es demasiado grande. Máximo 5MB permitido.');\n                    }\n\n                    $uploadDir = 'public/uploads/suppliers/logos/';\n                    if (!file_exists($uploadDir)) {\n                        mkdir($uploadDir, 0755, true);\n                    }\n                    \n                    $extension = strtolower(pathinfo($_FILES['logo']['name'], PATHINFO_EXTENSION));\n                    $allowedExtensions = ['jpg', 'jpeg', 'png', 'webp'];\n                    \n                    if (!in_array($extension, $allowedExtensions)) {\n                        throw new Exception('Formato de imagen no válido');\n                    }\n\n                    // Validate MIME type\n                    $finfo = finfo_open(FILEINFO_MIME_TYPE);\n                    $mimeType = finfo_file($finfo, $_FILES['logo']['tmp_name']);\n                    finfo_close($finfo);\n                    \n                    $allowedMimes = ['image/jpeg', 'image/png', 'image/webp'];\n                    if (!in_array($mimeType, $allowedMimes)) {\n                        throw new Exception('Tipo de archivo no permitido.');\n                    }\n\n                    $fileName = uniqid() . '_' . bin2hex(random_bytes(8)) . '.' . $extension;\n                    $targetPath = $uploadDir . $fileName;\n                    \n                    if (move_uploaded_file($_FILES['logo']['tmp_name'], $targetPath)) {\n                        $this->supplier->logo_path = $targetPath;\n                    }\n                } catch (Exception $e) {\n                    $_SESSION['error'] = \"Error al subir logo: \" . $e->getMessage();\n                }\n            } else {\n                // Keep existing logo if not updated\n                $currentSupplier = new Supplier($this->db);\n                $currentSupplier->id = $this->supplier->id;\n                $currentSupplier->readOne();\n                $this->supplier->logo_path = $currentSupplier->logo_path;\n            }\n\n            if ($this->supplier->update()) {\n                $_SESSION['success'] = \"Proveedor actualizado.\";\n                header(\"Location: index.php?page=suppliers\");\n            } else {\n                $_SESSION['error'] = \"Error al actualizar.\";\n                header(\"Location: index.php?page=suppliers&action=edit&id=\" . $this->supplier->id);\n            }\n            exit;\n        }\n    }\n\n    public function delete() {\n        CsrfHelper::validateRequest();\n        \n        $id = isset($_GET['id']) ? intval($_GET['id']) : 0;\n        if ($id <= 0) {\n            $_SESSION['error'] = \"ID inválido.\";\n            header(\"Location: index.php?page=suppliers\");\n            exit;\n        }\n        \n        $this->supplier->id = $id;\n        if ($this->supplier->delete()) {\n            $_SESSION['success'] = \"Proveedor eliminado.\";\n        } else {\n            $_SESSION['error'] = \"No se pudo eliminar.\";\n        }\n        header(\"Location: index.php?page=suppliers\");\n        exit;\n    }\n\n    public function uploadInvoice() {\n        CsrfHelper::validateRequest();\n\n        if ($_SERVER['REQUEST_METHOD'] === 'POST') {\n            $supplierId = $_POST['supplier_id'];\n            $invoiceNumber = $_POST['invoice_number'];\n            \n            // Basic validation\n            if (empty($invoiceNumber) || empty($_FILES['invoice_file']['name'])) {\n                $_SESSION['error'] = \"Número de factura y archivo son obligatorios.\";\n                header(\"Location: index.php?page=suppliers&action=show&id=\" . $supplierId);\n                exit;\n            }\n\n            $this->invoice->supplier_id = $supplierId;\n            $this->invoice->invoice_number = $invoiceNumber;\n            $this->invoice->invoice_date = $_POST['invoice_date'];\n            $this->invoice->amount = $_POST['amount'];\n            $this->invoice->status = $_POST['status'];\n            $this->invoice->notes = $_POST['notes'];\n\n            // File Upload Logic\n            if (isset($_FILES['invoice_file']) && $_FILES['invoice_file']['error'] === UPLOAD_ERR_OK) {\n                try {\n                    // Validate file size (10MB maximum for invoices)\n                    if ($_FILES['invoice_file']['size'] > 10 * 1024 * 1024) {\n                        throw new Exception('El archivo es demasiado grande. Máximo 10MB permitido.');\n                    }\n\n                    $supplierDir = 'public/uploads/suppliers/' . intval($supplierId) . '/';\n                    if (!file_exists($supplierDir)) {\n                        mkdir($supplierDir, 0755, true);\n                    }\n\n                    $fileInfo = pathinfo($_FILES['invoice_file']['name']);\n                    $extension = strtolower($fileInfo['extension']);\n                    \n                    // Validate extension (allow pdf, images, maybe doc)\n                    $allowedExtensions = ['pdf', 'jpg', 'jpeg', 'png', 'doc', 'docx'];\n                    if (!in_array($extension, $allowedExtensions)) {\n                        throw new Exception('Tipo de archivo no permitido.');\n                    }\n\n                    // Validate MIME type\n                    $finfo = finfo_open(FILEINFO_MIME_TYPE);\n                    $mimeType = finfo_file($finfo, $_FILES['invoice_file']['tmp_name']);\n                    finfo_close($finfo);\n                    \n                    // Allow PDF and Images MIME types\n                    $allowedMimes = ['application/pdf', 'image/jpeg', 'image/png', 'application/msword', 'application/vnd.openxmlformats-officedocument.wordprocessingml.document'];\n                     if (!in_array($mimeType, $allowedMimes)) {\n                        throw new Exception('Tipo MIME no permitido: ' . $mimeType);\n                    }\n\n                    // Rename file using invoice number\n                    // Sanitize invoice number for filename\n                    $safeInvoiceNum = preg_replace('/[^a-zA-Z0-9_-]/', '_', $invoiceNumber);\n                    $fileName = $safeInvoiceNum . '.' . $extension;\n                    $targetPath = $supplierDir . $fileName;\n\n                    // Handle duplicate filenames? Overwrite or append?\n                    // User asked: \"los ficheros se guardarian con el numero de factura o recibo como nombre\"\n                    // Assuming overwrite or unique per invoice number.\n                    \n                    if (move_uploaded_file($_FILES['invoice_file']['tmp_name'], $targetPath)) {\n                        $this->invoice->file_path = $targetPath;\n                    } else {\n                        throw new Exception('Error al mover el archivo subido.');\n                    }\n\n                    if ($this->invoice->create()) {\n                        $invoiceId = $this->db->lastInsertId();\n                        $_SESSION['success'] = \"Factura subida correctamente.\";\n                        \n                        // Crear asiento contable automático\n                        require_once __DIR__ . '/../Helpers/AccountingHelper.php';\n                        $paymentDate = ($this->invoice->status === 'paid') ? date('Y-m-d') : null;\n                        $accountingCreated = AccountingHelper::createEntryFromSupplierInvoice(\n                            $this->db,\n                            $invoiceId,\n                            $this->invoice->amount,\n                            'Factura ' . $invoiceNumber . ' - Proveedor',\n                            $this->invoice->invoice_date,\n                            $paymentDate,\n                            'transfer'\n                        );\n                        \n                        if (!$accountingCreated) {\n                            error_log(\"No se pudo crear el asiento contable para la factura #$invoiceId\");\n                        }\n                    } else {\n                        // If DB insert fails, maybe delete the file?\n                        unlink($targetPath);\n                        $_SESSION['error'] = \"Error al guardar la factura en base de datos.\";\n                    }\n\n                } catch (Exception $e) {\n                    $_SESSION['error'] = \"Error: \" . $e->getMessage();\n                }\n            }\n\n            header(\"Location: index.php?page=suppliers&action=show&id=\" . $supplierId);\n            exit;\n        }\n    }\n    \n    public function deleteInvoice() {\n        CsrfHelper::validateRequest();\n        \n        $id = isset($_GET['id']) ? intval($_GET['id']) : 0;\n        if ($id <= 0) {\n            $_SESSION['error'] = \"ID inválido.\";\n            header(\"Location: index.php?page=suppliers\");\n            exit;\n        }\n        \n        $this->invoice->id = $id;\n        $this->invoice->readOne();\n        \n        $supplierId = $this->invoice->supplier_id;\n        $filePath = $this->invoice->file_path;\n        \n        if ($this->invoice->delete()) {\n            if (file_exists($filePath)) {\n                unlink($filePath);\n            }\n            $_SESSION['success'] = \"Factura eliminada.\";\n        } else {\n            $_SESSION['error'] = \"Error al eliminar factura.\";\n        }\n        \n        header(\"Location: index.php?page=suppliers&action=show&id=\" . $supplierId);\n        exit;\n    }\n\n    public function dashboard() {\n        $year = isset($_GET['year']) ? intval($_GET['year']) : date('Y');\n        \n        // Fetch stats\n        $totalAmount = $this->invoice->getTotalAmount($year);\n        $pendingAmount = $this->invoice->getPendingAmount();\n        $topSuppliers = $this->invoice->getTopSuppliers(5, $year);\n        $monthlyStats = $this->invoice->getMonthlyStats($year);\n        $recentInvoices = $this->invoice->getRecentInvoices(5);\n        \n        // Total suppliers count\n        $stmt = $this->supplier->readAll();\n        $totalSuppliers = $stmt->rowCount();\n        \n        require __DIR__ . '/../Views/suppliers/dashboard.php';\n    }\n}\n?>\n","epoch":31,"telemetryInfo":{}}],["file:///root/Documentos/github/GestionSocios/src/Views/suppliers/show.php::request_f8451068-e611-4234-b20b-7ddc07e79199",{"uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Views/suppliers/show.php","external":"file:///root/Documentos/github/GestionSocios/src/Views/suppliers/show.php","path":"/root/Documentos/github/GestionSocios/src/Views/suppliers/show.php","scheme":"file"},"requestId":"request_f8451068-e611-4234-b20b-7ddc07e79199","content":"<?php\n$pageTitle = 'Detalles del Proveedor';\nob_start();\n?>\n\n<div class=\"page-header\">\n    <div>\n        <h1><i class=\"fas fa-truck\"></i> <?php echo htmlspecialchars($this->supplier->name); ?></h1>\n        <p class=\"text-muted\">Detalles y gestión de facturas</p>\n    </div>\n    <div class=\"header-actions\">\n        <a href=\"index.php?page=suppliers\" class=\"btn btn-secondary\">\n            <i class=\"fas fa-arrow-left\"></i> Volver\n        </a>\n        <a href=\"index.php?page=suppliers&action=edit&id=<?php echo $this->supplier->id; ?>\" class=\"btn btn-warning\">\n            <i class=\"fas fa-edit\"></i> Editar\n        </a>\n    </div>\n</div>\n\n<?php if (isset($_SESSION['success'])): ?>\n    <div class=\"alert alert-success\">\n        <i class=\"fas fa-check-circle\"></i> <?php echo $_SESSION['success']; unset($_SESSION['success']); ?>\n    </div>\n<?php endif; ?>\n\n<?php if (isset($_SESSION['error'])): ?>\n    <div class=\"alert alert-danger\">\n        <i class=\"fas fa-exclamation-circle\"></i> <?php echo $_SESSION['error']; unset($_SESSION['error']); ?>\n    </div>\n<?php endif; ?>\n\n<div class=\"row\">\n    <!-- Supplier Info Sidebar -->\n    <div class=\"col-md-4\">\n        <div class=\"card mb-4\">\n            <div class=\"card-body text-center\">\n                <?php if (!empty($this->supplier->logo_path) && file_exists($this->supplier->logo_path)): ?>\n                    <img src=\"<?php echo htmlspecialchars($this->supplier->logo_path); ?>\" alt=\"Logo\" class=\"img-fluid rounded mb-3\" style=\"max-height: 150px;\">\n                <?php else: ?>\n                    <div class=\"bg-light rounded p-4 mb-3 d-inline-block\">\n                        <i class=\"fas fa-building fa-3x text-muted\"></i>\n                    </div>\n                <?php endif; ?>\n                \n                <h3 class=\"h5 mb-1\"><?php echo htmlspecialchars($this->supplier->name); ?></h3>\n                <p class=\"text-muted mb-3\"><?php echo htmlspecialchars($this->supplier->cif_nif); ?></p>\n                \n                <div class=\"text-left mt-4\">\n                    <?php if (!empty($this->supplier->email)): ?>\n                        <div class=\"mb-2\"><i class=\"fas fa-envelope w-6 text-center mr-2 text-muted\"></i> <a href=\"mailto:<?php echo htmlspecialchars($this->supplier->email); ?>\"><?php echo htmlspecialchars($this->supplier->email); ?></a></div>\n                    <?php endif; ?>\n                    \n                    <?php if (!empty($this->supplier->phone)): ?>\n                        <div class=\"mb-2\"><i class=\"fas fa-phone w-6 text-center mr-2 text-muted\"></i> <?php echo htmlspecialchars($this->supplier->phone); ?></div>\n                    <?php endif; ?>\n                    \n                    <?php if (!empty($this->supplier->website)): ?>\n                        <div class=\"mb-2\"><i class=\"fas fa-globe w-6 text-center mr-2 text-muted\"></i> <a href=\"<?php echo htmlspecialchars($this->supplier->website); ?>\" target=\"_blank\">Sitio Web</a></div>\n                    <?php endif; ?>\n                    \n                    <?php if (!empty($this->supplier->address)): ?>\n                        <div class=\"mb-2\"><i class=\"fas fa-map-marker-alt w-6 text-center mr-2 text-muted\"></i> <?php echo nl2br(htmlspecialchars($this->supplier->address)); ?></div>\n                    <?php endif; ?>\n                </div>\n            </div>\n        </div>\n\n        <?php if (!empty($this->supplier->notes)): ?>\n        <div class=\"card\">\n            <div class=\"card-header\">\n                <h3 class=\"card-title h6 mb-0\">Notas Internas</h3>\n            </div>\n            <div class=\"card-body\">\n                <p class=\"text-muted mb-0\"><?php echo nl2br(htmlspecialchars($this->supplier->notes)); ?></p>\n            </div>\n        </div>\n        <?php endif; ?>\n    </div>\n\n    <!-- Invoices Section -->\n    <div class=\"col-md-8\">\n        <div class=\"card\">\n            <div class=\"card-header d-flex justify-content-between align-items-center\">\n                <h3 class=\"card-title h5 mb-0\"><i class=\"fas fa-file-invoice-dollar mr-2\"></i> Facturas y Documentos</h3>\n                <button type=\"button\" class=\"btn btn-sm btn-primary\" onclick=\"document.getElementById('uploadModal').style.display='block'\">\n                    <i class=\"fas fa-upload\"></i> Subir Factura\n                </button>\n            </div>\n            <div class=\"card-body p-0\">\n                <div class=\"table-responsive\">\n                    <table class=\"table table-hover mb-0\">\n                        <thead class=\"bg-light\">\n                            <tr>\n                                <th>Fecha</th>\n                                <th>Nº Factura</th>\n                                <th>Importe</th>\n                                <th>Estado</th>\n                                <th>Archivo</th>\n                                <th>Acciones</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            <?php if (empty($invoices)): ?>\n                                <tr>\n                                    <td colspan=\"6\" class=\"text-center py-4 text-muted\">\n                                        No hay facturas registradas\n                                    </td>\n                                </tr>\n                            <?php else: ?>\n                                <?php foreach ($invoices as $inv): ?>\n                                    <tr>\n                                        <td><?php echo date('d/m/Y', strtotime($inv['invoice_date'])); ?></td>\n                                        <td class=\"font-weight-bold\"><?php echo htmlspecialchars($inv['invoice_number']); ?></td>\n                                        <td><?php echo number_format($inv['amount'], 2, ',', '.'); ?> €</td>\n                                        <td>\n                                            <?php\n                                            $statusClass = 'badge-secondary';\n                                            $statusLabel = 'Pendiente';\n                                            if ($inv['status'] === 'paid') {\n                                                $statusClass = 'badge-success';\n                                                $statusLabel = 'Pagada';\n                                            } elseif ($inv['status'] === 'cancelled') {\n                                                $statusClass = 'badge-danger';\n                                                $statusLabel = 'Cancelada';\n                                            }\n                                            ?>\n                                            <span class=\"badge <?php echo $statusClass; ?>\"><?php echo $statusLabel; ?></span>\n                                        </td>\n                                        <td>\n                                            <?php if (!empty($inv['file_path']) && file_exists($inv['file_path'])): ?>\n                                                <a href=\"<?php echo htmlspecialchars($inv['file_path']); ?>\" target=\"_blank\" class=\"text-primary\" title=\"Ver archivo\">\n                                                    <i class=\"fas fa-file-pdf fa-lg\"></i>\n                                                </a>\n                                            <?php else: ?>\n                                                <span class=\"text-muted\">-</span>\n                                            <?php endif; ?>\n                                        </td>\n                                        <td>\n                                            <a href=\"index.php?page=suppliers&action=deleteInvoice&id=<?php echo $inv['id']; ?>\" \n                                               class=\"text-danger\" \n                                               onclick=\"return confirm('¿Eliminar esta factura?')\"\n                                               title=\"Eliminar\">\n                                                <i class=\"fas fa-trash\"></i>\n                                            </a>\n                                        </td>\n                                    </tr>\n                                <?php endforeach; ?>\n                            <?php endif; ?>\n                        </tbody>\n                    </table>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n\n<!-- Upload Modal -->\n<div id=\"uploadModal\" class=\"modal\" style=\"display: none; position: fixed; z-index: 1000; left: 0; top: 0; width: 100%; height: 100%; overflow: auto; background-color: rgba(0,0,0,0.5);\">\n    <div class=\"modal-content\" style=\"background-color: #fefefe; margin: 10% auto; padding: 20px; border: 1px solid #888; width: 500px; border-radius: 8px; box-shadow: 0 4px 6px rgba(0,0,0,0.1);\">\n        <div class=\"modal-header d-flex justify-content-between align-items-center mb-3\">\n            <h4 class=\"mb-0\">Subir Nueva Factura</h4>\n            <span class=\"close\" style=\"cursor: pointer; font-size: 28px; font-weight: bold;\" onclick=\"document.getElementById('uploadModal').style.display='none'\">&times;</span>\n        </div>\n        \n        <form action=\"index.php?page=suppliers&action=uploadInvoice\" method=\"POST\" enctype=\"multipart/form-data\">\n            <?php require_once __DIR__ . '/../../Helpers/CsrfHelper.php'; echo CsrfHelper::getTokenField(); ?>\n            <input type=\"hidden\" name=\"supplier_id\" value=\"<?php echo $this->supplier->id; ?>\">\n            \n            <div class=\"form-group mb-3\">\n                <label class=\"form-label\">Número de Factura <span class=\"text-danger\">*</span></label>\n                <input type=\"text\" name=\"invoice_number\" class=\"form-control\" required placeholder=\"Ej: F2024-001\">\n                <small class=\"text-muted\">Este número se usará para nombrar el archivo.</small>\n            </div>\n            \n            <div class=\"row\">\n                <div class=\"col-md-6\">\n                    <div class=\"form-group mb-3\">\n                        <label class=\"form-label\">Fecha</label>\n                        <input type=\"date\" name=\"invoice_date\" class=\"form-control\" value=\"<?php echo date('Y-m-d'); ?>\" required>\n                    </div>\n                </div>\n                <div class=\"col-md-6\">\n                    <div class=\"form-group mb-3\">\n                        <label class=\"form-label\">Importe (€)</label>\n                        <input type=\"number\" name=\"amount\" class=\"form-control\" step=\"0.01\" min=\"0\" placeholder=\"0.00\">\n                    </div>\n                </div>\n            </div>\n            \n            <div class=\"form-group mb-3\">\n                <label class=\"form-label\">Estado</label>\n                <select name=\"status\" class=\"form-control\">\n                    <option value=\"pending\">Pendiente</option>\n                    <option value=\"paid\">Pagada</option>\n                    <option value=\"cancelled\">Cancelada</option>\n                </select>\n            </div>\n            \n            <div class=\"form-group mb-3\">\n                <label class=\"form-label\">Archivo de Factura <span class=\"text-danger\">*</span></label>\n                <input type=\"file\" name=\"invoice_file\" class=\"form-control\" required accept=\".pdf,.jpg,.jpeg,.png,.doc,.docx\">\n                <small class=\"text-muted\">PDF, Imágenes o Word.</small>\n            </div>\n            \n            <div class=\"form-group mb-3\">\n                <label class=\"form-label\">Notas</label>\n                <textarea name=\"notes\" class=\"form-control\" rows=\"2\"></textarea>\n            </div>\n            \n            <div class=\"text-right mt-4\">\n                <button type=\"button\" class=\"btn btn-secondary mr-2\" onclick=\"document.getElementById('uploadModal').style.display='none'\">Cancelar</button>\n                <button type=\"submit\" class=\"btn btn-primary\">Subir Factura</button>\n            </div>\n        </form>\n    </div>\n</div>\n\n<script>\n// Close modal when clicking outside\nwindow.onclick = function(event) {\n    var modal = document.getElementById('uploadModal');\n    if (event.target == modal) {\n        modal.style.display = \"none\";\n    }\n}\n</script>\n\n<?php\n$content = ob_get_clean();\nrequire __DIR__ . '/../layout.php';\n?>\n","epoch":32,"telemetryInfo":{}}],["file:///root/Documentos/github/GestionSocios/public/index.php::request_f8451068-e611-4234-b20b-7ddc07e79199",{"uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/public/index.php","external":"file:///root/Documentos/github/GestionSocios/public/index.php","path":"/root/Documentos/github/GestionSocios/public/index.php","scheme":"file"},"requestId":"request_f8451068-e611-4234-b20b-7ddc07e79199","content":"<?php\nsession_start();\n\n// Autoloader (simple implementation for now)\nspl_autoload_register(function ($class_name) {\n    $file = __DIR__ . '/../src/' . str_replace('\\\\', '/', $class_name) . '.php';\n    if (file_exists($file)) {\n        require $file;\n    } else {\n        // Fallback for classes without namespace in src/Models or src/Controllers\n        $dirs = ['Config', 'Controllers', 'Models', 'Helpers'];\n        foreach ($dirs as $dir) {\n            $file = __DIR__ . '/../src/' . $dir . '/' . $class_name . '.php';\n            if (file_exists($file)) {\n                require $file;\n                return;\n            }\n        }\n    }\n});\n\n// Initialize Language System\nrequire_once __DIR__ . '/../src/Helpers/Lang.php';\n$lang = Lang::getInstance();\n\n// Determine page\n$requestUri = $_SERVER['REQUEST_URI'];\n$basePath = str_replace('/index.php', '', $_SERVER['SCRIPT_NAME']);\n\n$page = $_GET['page'] ?? 'dashboard';\n\n// Manejar acceso público a documentos (sin autenticación)\nif ($page === 'public_document') {\n    require_once __DIR__ . '/../src/Controllers/PublicDocumentController.php';\n    $controller = new PublicDocumentController();\n    $action = $_GET['action'] ?? 'view';\n    \n    if ($action === 'download') {\n        $controller->download();\n    } else {\n        $controller->view();\n    }\n    exit;\n}\n\n// Check if it's an API request\nif (strpos($requestUri, '/api/') === 0 || strpos($requestUri, $basePath . '/api/') === 0) {\n    $page = 'api';\n}\n\n// Check Installation & DB Connection\nif (!file_exists(__DIR__ . '/../src/Config/config.php')) {\n    require __DIR__ . '/../src/Views/install/setup_required.php';\n    exit;\n}\n\nrequire_once __DIR__ . '/../src/Config/database.php';\n$dbTest = new Database();\n$conn = $dbTest->getConnection();\n\nif ($conn === null) {\n    require __DIR__ . '/../src/Views/install/connection_error.php';\n    exit;\n}\n\n// Check if main tables exist (users)\ntry {\n    $result = $conn->query(\"SHOW TABLES LIKE 'users'\");\n    if ($result->rowCount() === 0) {\n        require __DIR__ . '/../src/Views/install/tables_missing.php';\n        exit;\n    }\n    // Initialize $db for controllers\n    $db = $conn;\n} catch (Exception $e) {\n    $errorMessage = $e->getMessage();\n    require __DIR__ . '/../src/Views/install/database_error.php';\n    exit;\n}\n\n$action = $_GET['action'] ?? 'index';\n\n// Check Auth (skip for login and update)\nif (!isset($_SESSION['user_id']) && $page !== 'login' && $page !== 'update') {\n    header('Location: index.php?page=login');\n    exit;\n}\n\n// Routing Logic\nswitch ($page) {\n    case 'update':\n        $controller = new UpdateController();\n        $controller->index();\n        break;\n    case 'login':\n        $controller = new AuthController();\n        if ($action === 'login') {\n            $controller->login();\n        } else if ($action === 'logout') {\n            $controller->logout();\n        } else {\n            $controller->showLogin();\n        }\n        break;\n    case 'book_page_api':\n        require_once __DIR__ . '/../src/Controllers/BookPageApiController.php';\n        $controller = new BookPageApiController();\n        if ($action === 'savePages') {\n            $controller->savePages();\n        } else if ($action === 'createVersion') {\n            $controller->createVersion();\n        }\n        break;\n    case 'dashboard':\n        $controller = new DashboardController();\n        if ($action === 'markEventPaymentPaid') $controller->markEventPaymentPaid();\n        else $controller->index();\n        break;\n    case 'members':\n        $controller = new MemberController();\n        if ($action === 'create') $controller->create();\n        else if ($action === 'store') $controller->store();\n        else if ($action === 'edit') $controller->edit($_GET['id']);\n        else if ($action === 'update') $controller->update($_GET['id']);\n        else if ($action === 'deactivate') $controller->deactivate($_GET['id']);\n        else if ($action === 'delete') $controller->delete($_GET['id']);\n        else if ($action === 'markPaid') $controller->markPaid($_GET['id']);\n        else if ($action === 'map') $controller->map();\n        else if ($action === 'compareImages') $controller->compareImages();\n        else if ($action === 'selectImage') $controller->selectImage($_GET['id']);\n        else if ($action === 'imageHistory') $controller->imageHistory($_GET['id']);\n        else if ($action === 'restoreImage') $controller->restoreImage($_GET['id'], $_GET['historyId']);\n        else $controller->index();\n        break;\n    case 'fees':\n        $controller = new FeeController();\n        if ($action === 'store') $controller->store();\n        else if ($action === 'generate') $controller->generatePayments($_GET['year']);\n        else $controller->index();\n        break;\n    case 'events':\n        $controller = new EventController();\n        if ($action === 'create') $controller->create();\n        else if ($action === 'store') $controller->store();\n        else if ($action === 'edit') $controller->edit($_GET['id']);\n        else if ($action === 'update') $controller->update($_GET['id']);\n        else if ($action === 'show') $controller->show($_GET['id']);\n        else if ($action === 'markPaid') $controller->markPaid($_GET['id'], $_GET['member_id'] ?? null);\n        else if ($action === 'updateAttendanceStatus') $controller->updateAttendanceStatus();\n        else $controller->index();\n        break;\n    case 'donations':\n        $controller = new DonationController();\n        if ($action === 'create') $controller->create();\n        else if ($action === 'store') $controller->store();\n        else $controller->index();\n        break;\n    case 'donors':\n        $controller = new DonorController();\n        if ($action === 'create') $controller->create();\n        else if ($action === 'store') $controller->store();\n        else if ($action === 'edit') $controller->edit($_GET['id']);\n        else if ($action === 'update') $controller->update($_GET['id']);\n        else if ($action === 'delete') $controller->delete($_GET['id']);\n        else if ($action === 'gallery') $controller->gallery();\n        else if ($action === 'compareImages') $controller->compareImages();\n        else if ($action === 'selectImage') $controller->selectImage($_GET['id']);\n        else if ($action === 'imageHistory') $controller->imageHistory($_GET['id']);\n        else if ($action === 'restoreImage') $controller->restoreImage($_GET['id'], $_GET['historyId']);\n        else $controller->index();\n        break;\n        case 'document_categories':\n            require_once __DIR__ . '/../src/Controllers/DocumentCategoryController.php';\n            $controller = new DocumentCategoryController($db);\n            if ($action === 'create') $controller->create();\n            else if ($action === 'delete') $controller->delete();\n            else $controller->index();\n            break;\n    case 'suppliers':\n        require_once __DIR__ . '/../src/Controllers/SupplierController.php';\n        $controller = new SupplierController();\n        if ($action === 'create') $controller->create();\n        else if ($action === 'store') $controller->store();\n        else if ($action === 'edit') $controller->edit();\n        else if ($action === 'update') $controller->update();\n        else if ($action === 'delete') $controller->delete();\n        else if ($action === 'show') $controller->show();\n        else if ($action === 'uploadInvoice') $controller->uploadInvoice();\n        else if ($action === 'deleteInvoice') $controller->deleteInvoice();\n        else if ($action === 'dashboard') $controller->dashboard();\n        else $controller->index();\n        break;\n    case 'book':\n        if ($action === 'dashboard') {\n            require_once __DIR__ . '/../src/Controllers/BookDashboardController.php';\n            $controller = new BookDashboardController();\n            $controller->index();\n        } else {\n            $controller = new BookAdController();\n            if ($action === 'create') $controller->create();\n            else if ($action === 'store') $controller->store();\n            else if ($action === 'edit') $controller->edit($_GET['id']);\n            else if ($action === 'update') $controller->update($_GET['id']);\n            else if ($action === 'markPaid') $controller->markPaid($_GET['id']);\n            else if ($action === 'delete') $controller->delete($_GET['id']);\n            else $controller->index();\n        }\n        break;\n    case 'book_activities':\n        require_once __DIR__ . '/../src/Controllers/BookActivityController.php';\n        $controller = new BookActivityController();\n        if ($action === 'create') $controller->create();\n        else if ($action === 'store') $controller->store();\n        else if ($action === 'edit') $controller->edit($_GET['id']);\n        else if ($action === 'update') $controller->update($_GET['id']);\n        else if ($action === 'delete') $controller->delete($_GET['id']);\n        else $controller->index();\n        break;\n    case 'book_export':\n        require_once __DIR__ . '/../src/Controllers/BookExportController.php';\n        $controller = new BookExportController();\n        if ($action === 'generatePdf') $controller->generatePdf();\n        else if ($action === 'generateDocx') $controller->generateDocx();\n        else $controller->index();\n        break;\n    case 'member_categories':\n        $controller = new MemberCategoryController();\n        if ($action === 'create') $controller->create();\n        else if ($action === 'store') $controller->store();\n        else if ($action === 'edit') $controller->edit();\n        else if ($action === 'update') $controller->update();\n        else if ($action === 'updateFee') $controller->updateFee();\n        else if ($action === 'deleteFee') $controller->deleteFee();\n        else if ($action === 'delete') $controller->delete();\n        else $controller->index();\n        break;\n\n    case 'announcements':\n        require_once __DIR__ . '/../src/Controllers/AnnouncementController.php';\n        $controller = new AnnouncementController();\n        if ($action === 'create') $controller->create();\n        else if ($action === 'store') $controller->store();\n        else if ($action === 'edit') $controller->edit();\n        else if ($action === 'update') $controller->update();\n        else if ($action === 'delete') $controller->delete();\n        else if ($action === 'toggleActive') $controller->toggleActive();\n        else $controller->index();\n        break;\n    case 'treasury':\n        $controller = new TreasuryController($db);\n        $controller->dashboard();\n        break;\n    case 'calendar':\n        $controller = new CalendarController($db);\n        if ($action === 'api') $controller->api();\n        else if ($action === 'viewEvent') $controller->viewEvent();\n        else if ($action === 'registerAttendance') $controller->registerAttendance();\n        else if ($action === 'updateAttendanceStatus') $controller->updateAttendanceStatus();\n        else if ($action === 'deleteAttendance') $controller->deleteAttendance();\n        else $controller->index();\n        break;\n    case 'notifications':\n        $controller = new NotificationsController($db);\n        if ($action === 'getRecent') $controller->getRecent();\n        else if ($action === 'markAsRead') $controller->markAsRead();\n        else if ($action === 'markAllAsRead') $controller->markAllAsRead();\n        else if ($action === 'delete') $controller->delete();\n        else if ($action === 'create') $controller->create();\n        else if ($action === 'store') $controller->store();\n        else $controller->index();\n        break;\n    case 'certificates':\n        require_once __DIR__ . '/../src/Controllers/CertificateController.php';\n        $controller = new CertificateController();\n        if ($action === 'membership') $controller->membership();\n        else if ($action === 'payments') $controller->payments();\n        else if ($action === 'donations') $controller->donations();\n        else if ($action === 'download') $controller->download();\n        else {\n            $_SESSION['error'] = 'Acción no válida';\n            header('Location: index.php?page=dashboard');\n            exit;\n        }\n        break;\n    case 'analytics':\n        require_once __DIR__ . '/../src/Controllers/AnalyticsController.php';\n        $controller = new AnalyticsController();\n        if ($action === 'getData') $controller->getData();\n        else $controller->index();\n        break;\n    case 'settings':\n        require_once __DIR__ . '/../src/Controllers/SettingsController.php';\n        $controller = new SettingsController();\n        if ($action === 'updateGeneral') $controller->updateGeneral();\n        else if ($action === 'updateDatabase') $controller->updateDatabase();\n        else if ($action === 'downloadBackup') $controller->downloadBackup();\n        else if ($action === 'updateOrganization') $controller->updateOrganization();\n        else if ($action === 'deleteLogo') $controller->deleteLogo();\n        else if ($action === 'changePassword') $controller->changePassword();\n        else $controller->index();\n        break;\n    case 'payments':\n        $controller = new PaymentController();\n        if ($action === 'create') $controller->create();\n        else if ($action === 'store') $controller->store();\n        else if ($action === 'edit') $controller->edit($_GET['id']);\n        else if ($action === 'update') $controller->update($_GET['id']);\n        else if ($action === 'delete') $controller->delete($_GET['id']);\n        else $controller->index();\n        break;\n    case 'reports':\n        require_once __DIR__ . '/../src/Controllers/ReportController.php';\n        $controller = new ReportController();\n        if ($action === 'dashboard_events') $controller->eventsDashboard();\n        else if ($action === 'export_members') $controller->exportMembers();\n        else if ($action === 'export_donors') $controller->exportDonors();\n        else if ($action === 'export_movements') $controller->exportMovements();\n        else $controller->eventsDashboard();\n        break;\n    case 'search':\n        $controller = new SearchController();\n        $controller->search();\n        break;\n    case 'export':\n        $controller = new ExportController($db);\n        if ($action === 'members_excel') $controller->exportMembersExcel();\n        else if ($action === 'members_pdf') $controller->exportMembersPDF();\n        else if ($action === 'donations_excel') $controller->exportDonationsExcel();\n        else if ($action === 'events_excel') $controller->exportEventsExcel();\n        else if ($action === 'payments_excel') $controller->exportPaymentsExcel();\n        else header('Location: index.php?page=dashboard');\n        break;\n    case 'documents':\n        $controller = new DocumentController($db);\n        if ($action === 'create') $controller->create();\n        else if ($action === 'store') $controller->store();\n        else if ($action === 'bulk_upload') $controller->bulkUpload();\n        else if ($action === 'bulk_store') $controller->bulkStore();\n        else if ($action === 'edit') $controller->edit();\n        else if ($action === 'update') $controller->update();\n        else if ($action === 'delete') $controller->delete();\n        else if ($action === 'download') $controller->download();\n        else if ($action === 'trash') $controller->trash();\n        else if ($action === 'restore') $controller->restore();\n        else if ($action === 'permanent_delete') $controller->permanentDelete();\n        else if ($action === 'versions') $controller->versions();\n        else if ($action === 'upload_version') $controller->uploadVersion();\n        else if ($action === 'favorite') $controller->toggleFavorite();\n        else if ($action === 'favorites') $controller->favorites();\n        else if ($action === 'preview') $controller->preview();\n        else if ($action === 'dashboard') $controller->dashboard();\n        else if ($action === 'generate_public') $controller->generatePublic();\n        else if ($action === 'revoke_public') $controller->revokePublic();\n        else if ($action === 'public_links') $controller->publicLinks();\n        else if ($action === 'public_stats') $controller->publicStats();\n        else $controller->index();\n        break;\n    case 'document_folders':\n        require_once __DIR__ . '/../src/Controllers/DocumentFolderController.php';\n        $controller = new DocumentFolderController($db);\n        if ($action === 'create') $controller->create();\n        else if ($action === 'store') $controller->store();\n        else if ($action === 'edit') $controller->edit();\n        else if ($action === 'update') $controller->update();\n        else if ($action === 'delete') $controller->delete();\n        else $controller->index();\n        break;\n    case 'document_tags':\n        require_once __DIR__ . '/../src/Controllers/DocumentTagController.php';\n        $controller = new DocumentTagController($db);\n        if ($action === 'create') $controller->create();\n        else if ($action === 'store') $controller->store();\n        else if ($action === 'edit') $controller->edit();\n        else if ($action === 'update') $controller->update();\n        else if ($action === 'delete') $controller->delete();\n        else $controller->index();\n        break;\n    case 'ad_prices':\n        require_once __DIR__ . '/../src/Controllers/AdPriceController.php';\n        $controller = new AdPriceController();\n        if ($action === 'store') {\n            $controller->store();\n        } else {\n            $controller->index();\n        }\n        break;\n    case 'gallery':\n        require_once __DIR__ . '/../src/Controllers/GalleryController.php';\n        $controller = new GalleryController();\n        $controller->index();\n        break;\n    case 'polls':\n        $controller = new PollController($db);\n        if ($action === 'create') $controller->create();\n        else if ($action === 'store') $controller->store();\n        else if ($action === 'view') $controller->view();\n        else if ($action === 'vote') $controller->vote();\n        else if ($action === 'close') $controller->close();\n        else if ($action === 'delete') $controller->delete();\n        else $controller->index();\n        break;\n    case 'messages':\n        $controller = new MessageController($db);\n        if ($action === 'create') $controller->create();\n        else if ($action === 'store') $controller->store();\n        else if ($action === 'view') $controller->view();\n        else if ($action === 'send') $controller->send();\n        else if ($action === 'poll') $controller->poll();\n        else if ($action === 'startDirect') $controller->startDirect();\n        else $controller->index();\n        break;\n    case 'language':\n        $controller = new LanguageController();\n        if ($action === 'change') $controller->change();\n        else header('Location: index.php?page=dashboard');\n        break;\n    case 'api':\n        $controller = new ApiController();\n        $controller->index();\n        break;\n    case 'tasks':\n        $controller = new TaskController($db);\n        if ($action === 'create') $controller->create();\n        else if ($action === 'edit') $controller->edit();\n        else if ($action === 'view') $controller->view();\n        else if ($action === 'delete') $controller->delete();\n        else if ($action === 'complete') $controller->complete();\n        else if ($action === 'addComment') $controller->addComment();\n        else $controller->index();\n        break;\n    case 'map':\n        $controller = new MapController();\n        if ($action === 'getLocations') $controller->getLocations();\n        else $controller->index();\n        break;\n    case 'geo':\n        $controller = new GeoController();\n        if ($action === 'reverse') $controller->reverse();\n        else {\n            http_response_code(404);\n            echo json_encode(['error' => 'Invalid action']);\n        }\n        break;\n    case 'audit_log':\n        require_once __DIR__ . '/../src/Controllers/AuditLogController.php';\n        $controller = new AuditLogController($db ?? null);\n        if ($action === 'export_excel') $controller->export_excel();\n        else if ($action === 'export_pdf') $controller->export_pdf();\n        else $controller->index();\n        break;\n    case 'settings':\n        $controller = new SettingsController();\n        if ($action === 'updateGeneral') $controller->updateGeneral();\n        else if ($action === 'updateDatabase') $controller->updateDatabase();\n        else if ($action === 'resetAdminPassword') $controller->resetAdminPassword();\n        else if ($action === 'updateOrganization') $controller->updateOrganization();\n        else if ($action === 'deleteLogo') $controller->deleteLogo();\n        else if ($action === 'changePassword') $controller->changePassword();\n        else if ($action === 'save_notifications') $controller->save_notifications();\n        else if ($action === 'downloadBackup') $controller->downloadBackup();\n        else if ($action === 'updateSocialMedia') $controller->updateSocialMedia();\n        else if ($action === 'updatePasswordPolicy') $controller->updatePasswordPolicy();\n        else $controller->index();\n        break;\n    case 'social_media':\n        $controller = new SocialMediaController();\n        $controller->handleRequest();\n        break;\n    case 'accounting':\n        $controller = new AccountingController();\n        if ($action === 'accounts') $controller->accounts();\n        else if ($action === 'createAccount') $controller->createAccount();\n        else if ($action === 'storeAccount') $controller->storeAccount();\n        else if ($action === 'editAccount') $controller->editAccount();\n        else if ($action === 'updateAccount') $controller->updateAccount();\n        else if ($action === 'entries') $controller->entries();\n        else if ($action === 'createEntry') $controller->createEntry();\n        else if ($action === 'storeEntry') $controller->storeEntry();\n        else if ($action === 'viewEntry') $controller->viewEntry();\n        else if ($action === 'postEntry') $controller->postEntry();\n        else if ($action === 'generalLedger') $controller->generalLedger();\n        else if ($action === 'trialBalance') $controller->trialBalance();\n        else if ($action === 'periods') $controller->periods();\n        else if ($action === 'createPeriod') $controller->createPeriod();\n        else if ($action === 'storePeriod') $controller->storePeriod();\n        else if ($action === 'editPeriod') $controller->editPeriod();\n        else if ($action === 'updatePeriod') $controller->updatePeriod();\n        else if ($action === 'closePeriod') $controller->closePeriod();\n        else if ($action === 'balanceSheet') $controller->balanceSheet();\n        else if ($action === 'incomeStatement') $controller->incomeStatement();\n        else if ($action === 'exportReport') $controller->exportReport();\n        else $controller->dashboard();\n        break;\n    case 'budget':\n        $controller = new BudgetController();\n        if ($action === 'create') $controller->create();\n        else if ($action === 'store') $controller->store();\n        else if ($action === 'edit') $controller->edit();\n        else if ($action === 'update') $controller->update();\n        else if ($action === 'delete') $controller->delete();\n        else if ($action === 'report') $controller->report();\n        else $controller->index();\n        break;\n    default:\n        echo \"404 Not Found\";\n        break;\n}\n","epoch":36,"telemetryInfo":{}}],["file:///root/Documentos/github/GestionSocios/src/Controllers/SupplierController.php::request_9a87398a-cd2f-45b9-8818-0e0a5f6d2c26",{"uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Controllers/SupplierController.php","external":"file:///root/Documentos/github/GestionSocios/src/Controllers/SupplierController.php","path":"/root/Documentos/github/GestionSocios/src/Controllers/SupplierController.php","scheme":"file"},"requestId":"request_9a87398a-cd2f-45b9-8818-0e0a5f6d2c26","content":"<?php\n\nrequire_once __DIR__ . '/../Models/Supplier.php';\nrequire_once __DIR__ . '/../Models/SupplierInvoice.php';\nrequire_once __DIR__ . '/../Helpers/CsrfHelper.php';\n\nclass SupplierController {\n    private $db;\n    private $supplier;\n    private $invoice;\n\n    public function __construct() {\n        $database = new Database();\n        $this->db = $database->getConnection();\n        $this->supplier = new Supplier($this->db);\n        $this->invoice = new SupplierInvoice($this->db);\n    }\n\n    public function index() {\n        $stmt = $this->supplier->readAll();\n        $suppliers = $stmt->fetchAll(PDO::FETCH_ASSOC);\n        require __DIR__ . '/../Views/suppliers/index.php';\n    }\n\n    public function create() {\n        require __DIR__ . '/../Views/suppliers/create.php';\n    }\n\n    public function store() {\n        CsrfHelper::validateRequest();\n\n        if ($_SERVER['REQUEST_METHOD'] === 'POST') {\n            $this->supplier->name = $_POST['name'] ?? '';\n            $this->supplier->cif_nif = $_POST['cif_nif'] ?? '';\n            $this->supplier->email = $_POST['email'] ?? '';\n            $this->supplier->phone = $_POST['phone'] ?? '';\n            $this->supplier->address = $_POST['address'] ?? '';\n            $this->supplier->website = $_POST['website'] ?? '';\n            $this->supplier->notes = $_POST['notes'] ?? '';\n\n            // Handle Logo Upload\n            if (isset($_FILES['logo']) && $_FILES['logo']['error'] === UPLOAD_ERR_OK) {\n                try {\n                    // Validate file size (5MB maximum)\n                    if ($_FILES['logo']['size'] > 5 * 1024 * 1024) {\n                        throw new Exception('El archivo es demasiado grande. Máximo 5MB permitido.');\n                    }\n\n                    $uploadDir = 'public/uploads/suppliers/logos/';\n                    if (!file_exists($uploadDir)) {\n                        mkdir($uploadDir, 0755, true);\n                    }\n                    \n                    $fileInfo = pathinfo($_FILES['logo']['name']);\n                    $extension = strtolower($fileInfo['extension']);\n                    $allowedExtensions = ['jpg', 'jpeg', 'png', 'webp'];\n                    \n                    if (!in_array($extension, $allowedExtensions)) {\n                        throw new Exception('Formato de imagen no válido');\n                    }\n\n                    // Validate MIME type using finfo\n                    $finfo = finfo_open(FILEINFO_MIME_TYPE);\n                    $mimeType = finfo_file($finfo, $_FILES['logo']['tmp_name']);\n                    finfo_close($finfo);\n                    \n                    $allowedMimes = ['image/jpeg', 'image/png', 'image/webp'];\n                    if (!in_array($mimeType, $allowedMimes)) {\n                        throw new Exception('Tipo de archivo no permitido.');\n                    }\n\n                    $fileName = uniqid() . '_' . bin2hex(random_bytes(8)) . '.' . $extension;\n                    $targetPath = $uploadDir . $fileName;\n\n                    if (move_uploaded_file($_FILES['logo']['tmp_name'], $targetPath)) {\n                        $this->supplier->logo_path = $targetPath;\n                    }\n                } catch (Exception $e) {\n                    $_SESSION['error'] = \"Error al subir logo: \" . $e->getMessage();\n                }\n            }\n\n            if ($this->supplier->create()) {\n                // Create specific folder for this supplier's documents\n                $supplierDir = 'public/uploads/suppliers/' . $this->supplier->id . '/';\n                if (!file_exists($supplierDir)) {\n                    mkdir($supplierDir, 0755, true);\n                }\n\n                $_SESSION['success'] = \"Proveedor creado correctamente.\";\n                header(\"Location: index.php?page=suppliers\");\n            } else {\n                $_SESSION['error'] = \"No se pudo crear el proveedor.\";\n                header(\"Location: index.php?page=suppliers&action=create\");\n            }\n            exit;\n        }\n    }\n\n    public function show() {\n        $id = isset($_GET['id']) ? intval($_GET['id']) : die('ERROR: ID no encontrado.');\n        $this->supplier->id = $id;\n        $this->supplier->readOne();\n\n        $stmt = $this->invoice->getBySupplierId($id);\n        $invoices = $stmt->fetchAll(PDO::FETCH_ASSOC);\n\n        require __DIR__ . '/../Views/suppliers/show.php';\n    }\n\n    public function edit() {\n        $id = isset($_GET['id']) ? intval($_GET['id']) : die('ERROR: ID no encontrado.');\n        $this->supplier->id = $id;\n        $this->supplier->readOne();\n        require __DIR__ . '/../Views/suppliers/edit.php';\n    }\n\n    public function update() {\n        CsrfHelper::validateRequest();\n\n        if ($_SERVER['REQUEST_METHOD'] === 'POST') {\n            $this->supplier->id = $_POST['id'];\n            $this->supplier->name = $_POST['name'];\n            $this->supplier->cif_nif = $_POST['cif_nif'];\n            $this->supplier->email = $_POST['email'];\n            $this->supplier->phone = $_POST['phone'];\n            $this->supplier->address = $_POST['address'];\n            $this->supplier->website = $_POST['website'];\n            $this->supplier->notes = $_POST['notes'];\n\n            // Handle Logo Update\n            if (isset($_FILES['logo']) && $_FILES['logo']['error'] === UPLOAD_ERR_OK) {\n                try {\n                    // Validate file size (5MB maximum)\n                    if ($_FILES['logo']['size'] > 5 * 1024 * 1024) {\n                        throw new Exception('El archivo es demasiado grande. Máximo 5MB permitido.');\n                    }\n\n                    $uploadDir = 'public/uploads/suppliers/logos/';\n                    if (!file_exists($uploadDir)) {\n                        mkdir($uploadDir, 0755, true);\n                    }\n                    \n                    $extension = strtolower(pathinfo($_FILES['logo']['name'], PATHINFO_EXTENSION));\n                    $allowedExtensions = ['jpg', 'jpeg', 'png', 'webp'];\n                    \n                    if (!in_array($extension, $allowedExtensions)) {\n                        throw new Exception('Formato de imagen no válido');\n                    }\n\n                    // Validate MIME type\n                    $finfo = finfo_open(FILEINFO_MIME_TYPE);\n                    $mimeType = finfo_file($finfo, $_FILES['logo']['tmp_name']);\n                    finfo_close($finfo);\n                    \n                    $allowedMimes = ['image/jpeg', 'image/png', 'image/webp'];\n                    if (!in_array($mimeType, $allowedMimes)) {\n                        throw new Exception('Tipo de archivo no permitido.');\n                    }\n\n                    $fileName = uniqid() . '_' . bin2hex(random_bytes(8)) . '.' . $extension;\n                    $targetPath = $uploadDir . $fileName;\n                    \n                    if (move_uploaded_file($_FILES['logo']['tmp_name'], $targetPath)) {\n                        $this->supplier->logo_path = $targetPath;\n                    }\n                } catch (Exception $e) {\n                    $_SESSION['error'] = \"Error al subir logo: \" . $e->getMessage();\n                }\n            } else {\n                // Keep existing logo if not updated\n                $currentSupplier = new Supplier($this->db);\n                $currentSupplier->id = $this->supplier->id;\n                $currentSupplier->readOne();\n                $this->supplier->logo_path = $currentSupplier->logo_path;\n            }\n\n            if ($this->supplier->update()) {\n                $_SESSION['success'] = \"Proveedor actualizado.\";\n                header(\"Location: index.php?page=suppliers\");\n            } else {\n                $_SESSION['error'] = \"Error al actualizar.\";\n                header(\"Location: index.php?page=suppliers&action=edit&id=\" . $this->supplier->id);\n            }\n            exit;\n        }\n    }\n\n    public function delete() {\n        CsrfHelper::validateRequest();\n        \n        $id = isset($_GET['id']) ? intval($_GET['id']) : 0;\n        if ($id <= 0) {\n            $_SESSION['error'] = \"ID inválido.\";\n            header(\"Location: index.php?page=suppliers\");\n            exit;\n        }\n        \n        $this->supplier->id = $id;\n        if ($this->supplier->delete()) {\n            $_SESSION['success'] = \"Proveedor eliminado.\";\n        } else {\n            $_SESSION['error'] = \"No se pudo eliminar.\";\n        }\n        header(\"Location: index.php?page=suppliers\");\n        exit;\n    }\n\n    public function uploadInvoice() {\n        CsrfHelper::validateRequest();\n\n        if ($_SERVER['REQUEST_METHOD'] === 'POST') {\n            $supplierId = $_POST['supplier_id'];\n            $invoiceNumber = $_POST['invoice_number'];\n            \n            // Basic validation\n            if (empty($invoiceNumber) || empty($_FILES['invoice_file']['name'])) {\n                $_SESSION['error'] = \"Número de factura y archivo son obligatorios.\";\n                header(\"Location: index.php?page=suppliers&action=show&id=\" . $supplierId);\n                exit;\n            }\n\n            $this->invoice->supplier_id = $supplierId;\n            $this->invoice->invoice_number = $invoiceNumber;\n            $this->invoice->invoice_date = $_POST['invoice_date'];\n            $this->invoice->amount = $_POST['amount'];\n            $this->invoice->status = $_POST['status'];\n            $this->invoice->notes = $_POST['notes'];\n\n            // File Upload Logic\n            if (isset($_FILES['invoice_file']) && $_FILES['invoice_file']['error'] === UPLOAD_ERR_OK) {\n                try {\n                    // Validate file size (10MB maximum for invoices)\n                    if ($_FILES['invoice_file']['size'] > 10 * 1024 * 1024) {\n                        throw new Exception('El archivo es demasiado grande. Máximo 10MB permitido.');\n                    }\n\n                    $supplierDir = 'public/uploads/suppliers/' . intval($supplierId) . '/';\n                    if (!file_exists($supplierDir)) {\n                        mkdir($supplierDir, 0755, true);\n                    }\n\n                    $fileInfo = pathinfo($_FILES['invoice_file']['name']);\n                    $extension = strtolower($fileInfo['extension']);\n                    \n                    // Validate extension (allow pdf, images, maybe doc)\n                    $allowedExtensions = ['pdf', 'jpg', 'jpeg', 'png', 'doc', 'docx'];\n                    if (!in_array($extension, $allowedExtensions)) {\n                        throw new Exception('Tipo de archivo no permitido.');\n                    }\n\n                    // Validate MIME type\n                    $finfo = finfo_open(FILEINFO_MIME_TYPE);\n                    $mimeType = finfo_file($finfo, $_FILES['invoice_file']['tmp_name']);\n                    finfo_close($finfo);\n                    \n                    // Allow PDF and Images MIME types\n                    $allowedMimes = ['application/pdf', 'image/jpeg', 'image/png', 'application/msword', 'application/vnd.openxmlformats-officedocument.wordprocessingml.document'];\n                     if (!in_array($mimeType, $allowedMimes)) {\n                        throw new Exception('Tipo MIME no permitido: ' . $mimeType);\n                    }\n\n                    // Rename file using invoice number\n                    // Sanitize invoice number for filename\n                    $safeInvoiceNum = preg_replace('/[^a-zA-Z0-9_-]/', '_', $invoiceNumber);\n                    $fileName = $safeInvoiceNum . '.' . $extension;\n                    $targetPath = $supplierDir . $fileName;\n\n                    // Handle duplicate filenames? Overwrite or append?\n                    // User asked: \"los ficheros se guardarian con el numero de factura o recibo como nombre\"\n                    // Assuming overwrite or unique per invoice number.\n                    \n                    if (move_uploaded_file($_FILES['invoice_file']['tmp_name'], $targetPath)) {\n                        $this->invoice->file_path = $targetPath;\n                    } else {\n                        throw new Exception('Error al mover el archivo subido.');\n                    }\n\n                    if ($this->invoice->create()) {\n                        $invoiceId = $this->db->lastInsertId();\n                        $_SESSION['success'] = \"Factura subida correctamente.\";\n                        \n                        // Crear asiento contable automático\n                        require_once __DIR__ . '/../Helpers/AccountingHelper.php';\n                        $paymentDate = ($this->invoice->status === 'paid') ? date('Y-m-d') : null;\n                        $accountingCreated = AccountingHelper::createEntryFromSupplierInvoice(\n                            $this->db,\n                            $invoiceId,\n                            $this->invoice->amount,\n                            'Factura ' . $invoiceNumber . ' - Proveedor',\n                            $this->invoice->invoice_date,\n                            $paymentDate,\n                            'transfer'\n                        );\n                        \n                        if (!$accountingCreated) {\n                            error_log(\"No se pudo crear el asiento contable para la factura #$invoiceId\");\n                        }\n                    } else {\n                        // If DB insert fails, maybe delete the file?\n                        unlink($targetPath);\n                        $_SESSION['error'] = \"Error al guardar la factura en base de datos.\";\n                    }\n\n                } catch (Exception $e) {\n                    $_SESSION['error'] = \"Error: \" . $e->getMessage();\n                }\n            }\n\n            header(\"Location: index.php?page=suppliers&action=show&id=\" . $supplierId);\n            exit;\n        }\n    }\n    \n    public function deleteInvoice() {\n        CsrfHelper::validateRequest();\n        \n        $id = isset($_GET['id']) ? intval($_GET['id']) : 0;\n        if ($id <= 0) {\n            $_SESSION['error'] = \"ID inválido.\";\n            header(\"Location: index.php?page=suppliers\");\n            exit;\n        }\n        \n        $this->invoice->id = $id;\n        $this->invoice->readOne();\n        \n        $supplierId = $this->invoice->supplier_id;\n        $filePath = $this->invoice->file_path;\n        \n        if ($this->invoice->delete()) {\n            if (file_exists($filePath)) {\n                unlink($filePath);\n            }\n            $_SESSION['success'] = \"Factura eliminada.\";\n        } else {\n            $_SESSION['error'] = \"Error al eliminar factura.\";\n        }\n        \n        header(\"Location: index.php?page=suppliers&action=show&id=\" . $supplierId);\n        exit;\n    }\n\n    public function updateInvoiceStatus() {\n        CsrfHelper::validateRequest();\n        \n        $id = isset($_GET['id']) ? intval($_GET['id']) : 0;\n        $status = isset($_GET['status']) ? $_GET['status'] : '';\n        \n        if ($id <= 0 || !in_array($status, ['paid', 'pending', 'cancelled'])) {\n            $_SESSION['error'] = \"Parámetros inválidos.\";\n            header(\"Location: index.php?page=suppliers\");\n            exit;\n        }\n        \n        $this->invoice->id = $id;\n        $this->invoice->readOne();\n        \n        $supplierId = $this->invoice->supplier_id;\n        $previousStatus = $this->invoice->status;\n        \n        // Actualizar estado\n        $query = \"UPDATE supplier_invoices SET status = :status WHERE id = :id\";\n        $stmt = $this->db->prepare($query);\n        $stmt->bindParam(':status', $status);\n        $stmt->bindParam(':id', $id);\n        \n        if ($stmt->execute()) {\n            // Si se marca como pagada, crear asiento contable\n            if ($previousStatus !== 'paid' && $status === 'paid') {\n                require_once __DIR__ . '/../Helpers/AccountingHelper.php';\n                $accountingCreated = AccountingHelper::createEntryFromSupplierInvoice(\n                    $this->db,\n                    $id,\n                    $this->invoice->amount,\n                    'Factura ' . $this->invoice->invoice_number . ' - ' . $this->supplier->name,\n                    $this->invoice->invoice_date,\n                    date('Y-m-d'), // Fecha de pago = hoy\n                    'transfer'\n                );\n                \n                if (!$accountingCreated) {\n                    error_log(\"No se pudo crear el asiento contable para la factura #$id\");\n                }\n                \n                $_SESSION['success'] = \"Factura marcada como pagada\" . ($accountingCreated ? \" y registrada en contabilidad\" : \"\") . \".\";\n            } else {\n                $_SESSION['success'] = \"Estado de factura actualizado.\";\n            }\n        } else {\n            $_SESSION['error'] = \"Error al actualizar el estado.\";\n        }\n        \n        header(\"Location: index.php?page=suppliers&action=show&id=\" . $supplierId);\n        exit;\n    }\n\n    public function dashboard() {\n        $year = isset($_GET['year']) ? intval($_GET['year']) : date('Y');\n        \n        // Fetch stats\n        $totalAmount = $this->invoice->getTotalAmount($year);\n        $pendingAmount = $this->invoice->getPendingAmount();\n        $topSuppliers = $this->invoice->getTopSuppliers(5, $year);\n        $monthlyStats = $this->invoice->getMonthlyStats($year);\n        $recentInvoices = $this->invoice->getRecentInvoices(5);\n        \n        // Total suppliers count\n        $stmt = $this->supplier->readAll();\n        $totalSuppliers = $stmt->rowCount();\n        \n        require __DIR__ . '/../Views/suppliers/dashboard.php';\n    }\n}\n?>\n","epoch":40,"telemetryInfo":{}}],["file:///root/Documentos/github/GestionSocios/src/Controllers/PaymentController.php::request_73b8f7ce-229c-46a5-9f3b-926190494f6d",{"uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Controllers/PaymentController.php","external":"file:///root/Documentos/github/GestionSocios/src/Controllers/PaymentController.php","path":"/root/Documentos/github/GestionSocios/src/Controllers/PaymentController.php","scheme":"file"},"requestId":"request_73b8f7ce-229c-46a5-9f3b-926190494f6d","content":"<?php\n\nclass PaymentController {\n    private $db;\n    private $payment;\n    private $member;\n\n    public function __construct() {\n        $database = new Database();\n        $this->db = $database->getConnection();\n        $this->payment = new Payment($this->db);\n        $this->member = new Member($this->db);\n    }\n\n    private function checkAdmin() {\n        if (($_SESSION['role'] ?? '') !== 'admin') {\n            header('Location: index.php?page=payments');\n            exit;\n        }\n    }\n\n    public function index() {\n        $stmt = $this->payment->readAll();\n        $payments = $stmt->fetchAll(PDO::FETCH_ASSOC);\n        require __DIR__ . '/../Views/payments/list.php';\n    }\n\n    public function create() {\n        $this->checkAdmin();\n        \n        // Load Members with their category info\n        $query = \"SELECT m.id, m.first_name, m.last_name, m.category_id\n                  FROM members m\n                  WHERE m.is_active = 1\n                  ORDER BY m.last_name, m.first_name\";\n        $stmt = $this->db->prepare($query);\n        $stmt->execute();\n        $members = $stmt->fetchAll(PDO::FETCH_ASSOC);\n        \n        // Load category fees by year (for current and previous years)\n        $currentYear = date('Y');\n        $queryFees = \"SELECT cfh.category_id, cfh.year, cfh.fee_amount,\n                             mc.name as category_name\n                      FROM category_fee_history cfh\n                      INNER JOIN member_categories mc ON cfh.category_id = mc.id\n                      WHERE cfh.year >= :year_start\n                      ORDER BY cfh.category_id, cfh.year DESC\";\n        $stmtFees = $this->db->prepare($queryFees);\n        $stmtFees->bindValue(':year_start', $currentYear - 2, PDO::PARAM_INT);\n        $stmtFees->execute();\n        $categoryFees = $stmtFees->fetchAll(PDO::FETCH_ASSOC);\n        \n        // Load Active Events\n        $eventModel = new Event($this->db);\n        $stmtEvents = $eventModel->readActive();\n        $events = $stmtEvents->fetchAll(PDO::FETCH_ASSOC);\n\n        // Load Annual Fees for auto-fill (fallback)\n        $feeModel = new Fee($this->db);\n        $stmtFees = $feeModel->readAll();\n        $fees = $stmtFees->fetchAll(PDO::FETCH_ASSOC);\n\n        require __DIR__ . '/../Views/payments/create.php';\n    }\n\n    public function store() {\n        $this->checkAdmin();\n        if ($_SERVER['REQUEST_METHOD'] === 'POST') {\n            // Validate CSRF token\n            require_once __DIR__ . '/../Helpers/CsrfHelper.php';\n            CsrfHelper::validateRequest();\n            \n            try {\n                $member_id = $_POST['member_id'];\n                $payment_type = $_POST['payment_type'] ?? 'fee';\n                $payment_date = $_POST['payment_date'];\n                // ...existing code...\n                if ($payment_type === 'fee') {\n                    $fee_year = date('Y', strtotime($payment_date));\n                    $checkStmt = $this->db->prepare(\n                        \"SELECT id FROM payments \n                         WHERE member_id = ? AND fee_year = ? AND payment_type = 'fee'\"\n                    );\n                    $checkStmt->execute([$member_id, $fee_year]);\n                    if ($checkStmt->fetch()) {\n                        header(\"Location: index.php?page=payments&action=create&error=duplicate_fee&year=$fee_year\");\n                        exit;\n                    }\n                    $this->payment->fee_year = $fee_year;\n                }\n                $this->payment->member_id = $member_id;\n                $this->payment->amount = $_POST['amount'];\n                $this->payment->payment_date = $payment_date;\n                $this->payment->concept = $_POST['concept'];\n                $this->payment->status = $_POST['status'];\n                $this->payment->payment_type = $payment_type;\n                $this->payment->event_id = !empty($_POST['event_id']) ? $_POST['event_id'] : null;\n\n                if ($this->payment->create()) {\n                    $lastId = $this->db->lastInsertId();\n                    \n                    // Audit log registro alta pago\n                    require_once __DIR__ . '/../Models/AuditLog.php';\n                    $auditLog = new AuditLog($this->db);\n                    $userId = $_SESSION['user_id'] ?? null;\n                    $details = json_encode([\n                        'member_id' => $member_id,\n                        'amount' => $_POST['amount'],\n                        'payment_type' => $payment_type,\n                        'payment_date' => $payment_date\n                    ]);\n                    $auditLog->create($userId, 'create', 'payment', $lastId, $details);\n\n                    // Crear asiento contable automático\n                    require_once __DIR__ . '/../Helpers/AccountingHelper.php';\n                    $accountingCreated = AccountingHelper::createEntryFromPayment(\n                        $this->db,\n                        $lastId,\n                        $_POST['amount'],\n                        $_POST['concept'],\n                        $payment_date,\n                        'transfer', // Por defecto, podría obtenerse del formulario\n                        $payment_type\n                    );\n                    \n                    if (!$accountingCreated) {\n                        error_log(\"No se pudo crear el asiento contable para el pago #$lastId\");\n                    }\n\n                    header('Location: index.php?page=payments&success=created');\n                    exit;\n                } else {\n                    throw new Exception(\"Error al crear el pago.\");\n                }\n            } catch (Exception $e) {\n                // ...existing code...\n            }\n        }\n    }\n\n    public function edit($id) {\n        $this->checkAdmin();\n        $this->payment->id = $id;\n        if ($this->payment->readOne()) {\n            $stmt = $this->member->readAll();\n            $members = $stmt->fetchAll(PDO::FETCH_ASSOC);\n            $payment = $this->payment;\n            require __DIR__ . '/../Views/payments/edit.php';\n        } else {\n            header('Location: index.php?page=payments');\n        }\n    }\n\n    public function update($id) {\n        $this->checkAdmin();\n        if ($_SERVER['REQUEST_METHOD'] === 'POST') {\n            // Validate CSRF token\n            require_once __DIR__ . '/../Helpers/CsrfHelper.php';\n            CsrfHelper::validateRequest();\n            \n            // Get previous status to check if it changed to 'paid'\n            $this->payment->id = $id;\n            $this->payment->readOne();\n            $previousStatus = $this->payment->status;\n            \n            $this->payment->member_id = $_POST['member_id'];\n            $this->payment->amount = $_POST['amount'];\n            $this->payment->payment_date = $_POST['payment_date'];\n            $this->payment->concept = $_POST['concept'];\n            $this->payment->status = $_POST['status'];\n\n            if ($this->payment->update()) {\n                // Audit log registro modificación pago\n                require_once __DIR__ . '/../Models/AuditLog.php';\n                $auditLog = new AuditLog($this->db);\n                $userId = $_SESSION['user_id'] ?? null;\n                $details = json_encode([\n                    'payment_id' => $id,\n                    'member_id' => $_POST['member_id'],\n                    'amount' => $_POST['amount'],\n                    'payment_date' => $_POST['payment_date']\n                ]);\n                $auditLog->create($userId, 'update', 'payment', $id, $details);\n                \n                // Si el pago cambió a 'paid', crear asiento contable\n                if ($previousStatus !== 'paid' && $_POST['status'] === 'paid') {\n                    require_once __DIR__ . '/../Helpers/AccountingHelper.php';\n                    \n                    // Determinar el tipo de pago\n                    $stmt = $this->db->prepare(\"SELECT payment_type FROM payments WHERE id = ?\");\n                    $stmt->execute([$id]);\n                    $row = $stmt->fetch(PDO::FETCH_ASSOC);\n                    $paymentType = $row['payment_type'] ?? 'fee';\n                    \n                    $accountingCreated = AccountingHelper::createEntryFromPayment(\n                        $this->db,\n                        $id,\n                        $_POST['amount'],\n                        $_POST['concept'],\n                        $_POST['payment_date'],\n                        'transfer',\n                        $paymentType\n                    );\n                    \n                    if (!$accountingCreated) {\n                        error_log(\"No se pudo crear el asiento contable para el pago #$id\");\n                    }\n                }\n\n                header('Location: index.php?page=payments');\n            } else {\n                // ...existing code...\n            }\n        }\n    }\n\n    public function delete($id) {\n        $this->checkAdmin();\n        $this->payment->id = $id;\n        if ($this->payment->delete()) {\n            // Audit log registro eliminación pago\n            require_once __DIR__ . '/../Models/AuditLog.php';\n            $auditLog = new AuditLog($this->db);\n            $userId = $_SESSION['user_id'] ?? null;\n            $details = json_encode(['payment_id' => $id]);\n            $auditLog->create($userId, 'delete', 'payment', $id, $details);\n\n            header('Location: index.php?page=payments');\n        } else {\n            header('Location: index.php?page=payments&error=delete_failed');\n        }\n    }\n}\n","epoch":46,"telemetryInfo":{}}],["file:///root/Documentos/github/GestionSocios/src/Controllers/BookAdController.php::request_73b8f7ce-229c-46a5-9f3b-926190494f6d",{"uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Controllers/BookAdController.php","external":"file:///root/Documentos/github/GestionSocios/src/Controllers/BookAdController.php","path":"/root/Documentos/github/GestionSocios/src/Controllers/BookAdController.php","scheme":"file"},"requestId":"request_73b8f7ce-229c-46a5-9f3b-926190494f6d","content":"<?php\n\nclass BookAdController {\n    private $db;\n    private $bookAd;\n    private $donor;\n\n    public function __construct() {\n        $database = new Database();\n        $this->db = $database->getConnection();\n        $this->bookAd = new BookAd($this->db);\n        $this->donor = new Donor($this->db);\n    }\n\n    private function checkAdmin() {\n        if (($_SESSION['role'] ?? '') !== 'admin') {\n            header('Location: index.php?page=book');\n            exit;\n        }\n    }\n\n    public function index() {\n        $year = $_GET['year'] ?? date('Y');\n        $stmt = $this->bookAd->readAllByYear($year);\n        $ads = $stmt->fetchAll(PDO::FETCH_ASSOC);\n        \n        // Calculate totals\n        $totalRevenue = 0;\n        foreach ($ads as $ad) {\n            $totalRevenue += $ad['amount'];\n        }\n\n        require __DIR__ . '/../Views/book/index.php';\n    }\n\n    public function create() {\n        $this->checkAdmin();\n        \n        $year = $_GET['year'] ?? date('Y');\n\n        // Get donors for the dropdown\n        require_once __DIR__ . '/../Models/Donor.php';\n        $donorModel = new Donor($this->db);\n        $donors = $donorModel->readAll();\n\n        // Get ad prices for current year\n        require_once __DIR__ . '/../Models/AdPrice.php';\n        $adPriceModel = new AdPrice($this->db);\n        $adPrices = $adPriceModel->getPricesByYear($year);\n        \n        require __DIR__ . '/../Views/book/create_ad.php';\n    }\n\n    public function store() {\n        $this->checkAdmin();\n        if ($_SERVER['REQUEST_METHOD'] === 'POST') {\n            $this->bookAd->donor_id = $_POST['donor_id'];\n            $this->bookAd->year = !empty($_POST['year']) ? $_POST['year'] : date('Y');\n            $this->bookAd->ad_type = $_POST['ad_type'];\n            $this->bookAd->amount = $_POST['amount'];\n            $this->bookAd->status = $_POST['status'];\n            $this->bookAd->image_url = ''; // Handle upload if needed later\n\n            // Validar que solo haya una portada y una contraportada por año\n            if ($this->bookAd->ad_type === 'cover' || $this->bookAd->ad_type === 'back_cover') {\n                $checkQuery = \"SELECT COUNT(*) as count FROM book_ads WHERE year = :year AND ad_type = :ad_type\";\n                $checkStmt = $this->db->prepare($checkQuery);\n                $checkStmt->bindParam(':year', $this->bookAd->year);\n                $checkStmt->bindParam(':ad_type', $this->bookAd->ad_type);\n                $checkStmt->execute();\n                $result = $checkStmt->fetch(PDO::FETCH_ASSOC);\n                \n                if ($result['count'] > 0) {\n                    $typeName = $this->bookAd->ad_type === 'cover' ? 'portada' : 'contraportada';\n                    $error = \"Ya existe una {$typeName} para el año {$this->bookAd->year}. Solo puede haber una {$typeName} por año.\";\n                    $year = $_POST['year'];\n                    require_once __DIR__ . '/../Models/Donor.php';\n                    $donorModel = new Donor($this->db);\n                    $donors = $donorModel->readAll();\n                    require_once __DIR__ . '/../Models/AdPrice.php';\n                    $adPriceModel = new AdPrice($this->db);\n                    $adPrices = $adPriceModel->getPricesByYear($year);\n                    require __DIR__ . '/../Views/book/create_ad.php';\n                    return;\n                }\n            }\n\n            if ($this->bookAd->create()) {\n                // Get the last inserted ID\n                $adId = $this->db->lastInsertId();\n                \n                // Create payment record immediately (pending or paid)\n                $this->syncPayment($adId);\n                \n                header('Location: index.php?page=book&year=' . $_POST['year']);\n            } else {\n                $error = \"Error creating ad.\";\n                $year = $_POST['year'];\n                // Re-fetch donors for the view\n                require_once __DIR__ . '/../Models/Donor.php';\n                $donorModel = new Donor($this->db);\n                $donors = $donorModel->readAll();\n                require __DIR__ . '/../Views/book/create_ad.php';\n            }\n        }\n    }\n\n    public function edit($id) {\n        $this->checkAdmin();\n        $this->bookAd->id = $id;\n        \n        if ($this->bookAd->readOne()) {\n            $bookAd = $this->bookAd;\n            \n            // Get donors for dropdown\n            require_once __DIR__ . '/../Models/Donor.php';\n            $donorModel = new Donor($this->db);\n            $donors = $donorModel->readAll();\n            \n            // Get ad prices for current year\n            require_once __DIR__ . '/../Models/AdPrice.php';\n            $adPriceModel = new AdPrice($this->db);\n            $adPrices = $adPriceModel->getPricesByYear($bookAd->year);\n            \n            require __DIR__ . '/../Views/book/edit_ad.php';\n        } else {\n            header('Location: index.php?page=book&error=1');\n        }\n    }\n    \n    public function update($id) {\n        $this->checkAdmin();\n        if ($_SERVER['REQUEST_METHOD'] === 'POST') {\n            $this->bookAd->id = $id;\n            $this->bookAd->donor_id = $_POST['donor_id'];\n            $this->bookAd->year = $_POST['year'];\n            $this->bookAd->ad_type = $_POST['ad_type'];\n            $this->bookAd->amount = !empty($_POST['amount']) ? floatval($_POST['amount']) : 0.00;\n            $this->bookAd->status = $_POST['status'];\n            $this->bookAd->image_url = ''; // Keep existing\n            \n            // Validar que solo haya una portada y una contraportada por año\n            if ($this->bookAd->ad_type === 'cover' || $this->bookAd->ad_type === 'back_cover') {\n                $checkQuery = \"SELECT COUNT(*) as count FROM book_ads WHERE year = :year AND ad_type = :ad_type AND id != :id\";\n                $checkStmt = $this->db->prepare($checkQuery);\n                $checkStmt->bindParam(':year', $this->bookAd->year);\n                $checkStmt->bindParam(':ad_type', $this->bookAd->ad_type);\n                $checkStmt->bindParam(':id', $id);\n                $checkStmt->execute();\n                $result = $checkStmt->fetch(PDO::FETCH_ASSOC);\n                \n                if ($result['count'] > 0) {\n                    $typeName = $this->bookAd->ad_type === 'cover' ? 'portada' : 'contraportada';\n                    $error = \"Ya existe una {$typeName} para el año {$this->bookAd->year}. Solo puede haber una {$typeName} por año.\";\n                    $bookAd = $this->bookAd;\n                    require_once __DIR__ . '/../Models/Donor.php';\n                    $donorModel = new Donor($this->db);\n                    $donors = $donorModel->readAll();\n                    require_once __DIR__ . '/../Models/AdPrice.php';\n                    $adPriceModel = new AdPrice($this->db);\n                    $adPrices = $adPriceModel->getPricesByYear($_POST['year']);\n                    require __DIR__ . '/../Views/book/edit_ad.php';\n                    return;\n                }\n            }\n            \n            if ($this->bookAd->update()) {\n                // Registrar en audit_log el cambio de anuncio (incluyendo imagen)\n                require_once __DIR__ . '/../Models/Donor.php';\n                $donorModel = new Donor($this->db);\n                $donorModel->id = $this->bookAd->donor_id;\n                $donorModel->readOne();\n                require_once __DIR__ . '/../Models/AuditLog.php';\n                $audit = new AuditLog($this->db);\n                $audit->create(\n                    $_SESSION['user_id'],\n                    'update',\n                    'bookad',\n                    $id,\n                    'Anuncio de donante modificado para: ' . $donorModel->name . ' (' . $donorModel->email . ') por el usuario ' . ($_SESSION['username'] ?? '')\n                );\n                // If marked as paid, create/update payment record\n                if ($_POST['status'] === 'paid') {\n                    $this->syncPayment($id);\n                }\n                header('Location: index.php?page=book&year=' . $_POST['year'] . '&msg=updated');\n                exit;\n            } else {\n                $error = \"Error actualizando anuncio.\";\n                $bookAd = $this->bookAd;\n                \n                // Re-fetch data for view\n                require_once __DIR__ . '/../Models/Donor.php';\n                $donorModel = new Donor($this->db);\n                $donors = $donorModel->readAll();\n                \n                require_once __DIR__ . '/../Models/AdPrice.php';\n                $adPriceModel = new AdPrice($this->db);\n                $adPrices = $adPriceModel->getPricesByYear($_POST['year']);\n                \n                require __DIR__ . '/../Views/book/edit_ad.php';\n            }\n        }\n    }\n    \n    public function markPaid($id) {\n        $this->checkAdmin();\n        $this->bookAd->id = $id;\n        \n        if ($this->bookAd->readOne()) {\n            $year = $this->bookAd->year;\n            $this->bookAd->status = 'paid';\n            \n            if ($this->bookAd->update()) {\n                // Create payment record\n                $this->syncPayment($id);\n                // Registrar en audit_log\n                require_once __DIR__ . '/../Models/AuditLog.php';\n                $audit = new AuditLog($this->db);\n                // Obtener datos del donante\n                require_once __DIR__ . '/../Models/Donor.php';\n                $donorModel = new Donor($this->db);\n                $donorModel->id = $this->bookAd->donor_id;\n                $donorModel->readOne();\n                $audit->create(\n                    $_SESSION['user_id'],\n                    'markPaid',\n                    'bookad_payment',\n                    $id,\n                    'Pago de anuncio de libro marcado como realizado para: ' . $donorModel->name . ' (' . $donorModel->email . ') por el usuario ' . ($_SESSION['username'] ?? '')\n                );\n                header('Location: index.php?page=book&year=' . $year . '&msg=marked_paid');\n                exit;\n            }\n        }\n        header('Location: index.php?page=book&error=1');\n    }\n    \n    private function syncPayment($adId) {\n        // Sync book ad payment with payments table\n        $this->bookAd->id = $adId;\n        $this->bookAd->readOne();\n        \n        // Get donor info\n        require_once __DIR__ . '/../Models/Donor.php';\n        $donorModel = new Donor($this->db);\n        $donorModel->id = $this->bookAd->donor_id;\n        $donorModel->readOne();\n        \n        // Check if payment already exists\n        $checkStmt = $this->db->prepare(\"SELECT id FROM payments WHERE payment_type = 'book_ad' AND book_ad_id = ?\");\n        $checkStmt->execute([$adId]);\n        $existingPayment = $checkStmt->fetch(PDO::FETCH_ASSOC);\n        \n        $paymentId = null;\n        $isPaid = $this->bookAd->status === 'paid';\n        \n        if ($existingPayment) {\n            // Update existing payment\n            $paymentStatus = $isPaid ? 'paid' : 'pending';\n            $paymentDate = $isPaid ? date('Y-m-d') : NULL;\n            $updateStmt = $this->db->prepare(\"UPDATE payments SET amount = ?, payment_date = ?, status = ? WHERE id = ?\");\n            $updateStmt->execute([\n                $this->bookAd->amount,\n                $paymentDate,\n                $paymentStatus,\n                $existingPayment['id']\n            ]);\n            $paymentId = $existingPayment['id'];\n        } else {\n            // Create new payment record (pending or paid)\n            $paymentStatus = $isPaid ? 'paid' : 'pending';\n            $paymentDate = $isPaid ? date('Y-m-d') : NULL;\n            $insertStmt = $this->db->prepare(\"INSERT INTO payments (member_id, amount, payment_date, concept, status, fee_year, payment_type, book_ad_id) VALUES (?, ?, ?, ?, ?, ?, 'book_ad', ?)\");\n            $insertStmt->execute([\n                $this->bookAd->donor_id,\n                $this->bookAd->amount,\n                $paymentDate,\n                'Anuncio Libro Fiestas ' . $this->bookAd->year . ' - ' . $donorModel->name,\n                $paymentStatus,\n                $this->bookAd->year,\n                $adId\n            ]);\n            $paymentId = $this->db->lastInsertId();\n        }\n        \n        // Si el pago está marcado como pagado, crear asiento contable\n        if ($isPaid && $paymentId) {\n            require_once __DIR__ . '/../Helpers/AccountingHelper.php';\n            $accountingCreated = AccountingHelper::createEntryFromBookAd(\n                $this->db,\n                $adId,\n                $this->bookAd->amount,\n                'Anuncio Libro Fiestas ' . $this->bookAd->year . ' - ' . $donorModel->name,\n                $paymentDate ?? date('Y-m-d'),\n                'transfer'\n            );\n            \n            if (!$accountingCreated) {\n                error_log(\"No se pudo crear el asiento contable para el anuncio #$adId\");\n            }\n        }\n    }\n\n    public function delete($id) {\n        $this->checkAdmin();\n        $this->bookAd->id = $id;\n        if ($this->bookAd->readOne()) {\n            $year = $this->bookAd->year;\n            \n            // Delete associated payment if exists\n            $deletePaymentStmt = $this->db->prepare(\"DELETE FROM payments WHERE payment_type = 'book_ad' AND book_ad_id = ?\");\n            $deletePaymentStmt->execute([$id]);\n            \n            if ($this->bookAd->delete()) {\n                header('Location: index.php?page=book&year=' . $year . '&msg=deleted');\n                exit;\n            }\n        }\n        header('Location: index.php?page=book&error=1');\n    }\n}\n?>\n","epoch":47,"telemetryInfo":{}}],["file:///root/Documentos/github/GestionSocios/src/Controllers/SupplierController.php::request_73b8f7ce-229c-46a5-9f3b-926190494f6d",{"uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Controllers/SupplierController.php","external":"file:///root/Documentos/github/GestionSocios/src/Controllers/SupplierController.php","path":"/root/Documentos/github/GestionSocios/src/Controllers/SupplierController.php","scheme":"file"},"requestId":"request_73b8f7ce-229c-46a5-9f3b-926190494f6d","content":"<?php\n\nrequire_once __DIR__ . '/../Models/Supplier.php';\nrequire_once __DIR__ . '/../Models/SupplierInvoice.php';\nrequire_once __DIR__ . '/../Helpers/CsrfHelper.php';\n\nclass SupplierController {\n    private $db;\n    private $supplier;\n    private $invoice;\n\n    public function __construct() {\n        $database = new Database();\n        $this->db = $database->getConnection();\n        $this->supplier = new Supplier($this->db);\n        $this->invoice = new SupplierInvoice($this->db);\n    }\n\n    public function index() {\n        $stmt = $this->supplier->readAll();\n        $suppliers = $stmt->fetchAll(PDO::FETCH_ASSOC);\n        require __DIR__ . '/../Views/suppliers/index.php';\n    }\n\n    public function create() {\n        require __DIR__ . '/../Views/suppliers/create.php';\n    }\n\n    public function store() {\n        CsrfHelper::validateRequest();\n\n        if ($_SERVER['REQUEST_METHOD'] === 'POST') {\n            $this->supplier->name = $_POST['name'] ?? '';\n            $this->supplier->cif_nif = $_POST['cif_nif'] ?? '';\n            $this->supplier->email = $_POST['email'] ?? '';\n            $this->supplier->phone = $_POST['phone'] ?? '';\n            $this->supplier->address = $_POST['address'] ?? '';\n            $this->supplier->website = $_POST['website'] ?? '';\n            $this->supplier->notes = $_POST['notes'] ?? '';\n\n            // Handle Logo Upload\n            if (isset($_FILES['logo']) && $_FILES['logo']['error'] === UPLOAD_ERR_OK) {\n                try {\n                    // Validate file size (5MB maximum)\n                    if ($_FILES['logo']['size'] > 5 * 1024 * 1024) {\n                        throw new Exception('El archivo es demasiado grande. Máximo 5MB permitido.');\n                    }\n\n                    $uploadDir = 'public/uploads/suppliers/logos/';\n                    if (!file_exists($uploadDir)) {\n                        mkdir($uploadDir, 0755, true);\n                    }\n                    \n                    $fileInfo = pathinfo($_FILES['logo']['name']);\n                    $extension = strtolower($fileInfo['extension']);\n                    $allowedExtensions = ['jpg', 'jpeg', 'png', 'webp'];\n                    \n                    if (!in_array($extension, $allowedExtensions)) {\n                        throw new Exception('Formato de imagen no válido');\n                    }\n\n                    // Validate MIME type using finfo\n                    $finfo = finfo_open(FILEINFO_MIME_TYPE);\n                    $mimeType = finfo_file($finfo, $_FILES['logo']['tmp_name']);\n                    finfo_close($finfo);\n                    \n                    $allowedMimes = ['image/jpeg', 'image/png', 'image/webp'];\n                    if (!in_array($mimeType, $allowedMimes)) {\n                        throw new Exception('Tipo de archivo no permitido.');\n                    }\n\n                    $fileName = uniqid() . '_' . bin2hex(random_bytes(8)) . '.' . $extension;\n                    $targetPath = $uploadDir . $fileName;\n\n                    if (move_uploaded_file($_FILES['logo']['tmp_name'], $targetPath)) {\n                        $this->supplier->logo_path = $targetPath;\n                    }\n                } catch (Exception $e) {\n                    $_SESSION['error'] = \"Error al subir logo: \" . $e->getMessage();\n                }\n            }\n\n            if ($this->supplier->create()) {\n                // Create specific folder for this supplier's documents\n                $supplierDir = 'public/uploads/suppliers/' . $this->supplier->id . '/';\n                if (!file_exists($supplierDir)) {\n                    mkdir($supplierDir, 0755, true);\n                }\n\n                $_SESSION['success'] = \"Proveedor creado correctamente.\";\n                header(\"Location: index.php?page=suppliers\");\n            } else {\n                $_SESSION['error'] = \"No se pudo crear el proveedor.\";\n                header(\"Location: index.php?page=suppliers&action=create\");\n            }\n            exit;\n        }\n    }\n\n    public function show() {\n        $id = isset($_GET['id']) ? intval($_GET['id']) : die('ERROR: ID no encontrado.');\n        $this->supplier->id = $id;\n        $this->supplier->readOne();\n\n        $stmt = $this->invoice->getBySupplierId($id);\n        $invoices = $stmt->fetchAll(PDO::FETCH_ASSOC);\n\n        require __DIR__ . '/../Views/suppliers/show.php';\n    }\n\n    public function edit() {\n        $id = isset($_GET['id']) ? intval($_GET['id']) : die('ERROR: ID no encontrado.');\n        $this->supplier->id = $id;\n        $this->supplier->readOne();\n        require __DIR__ . '/../Views/suppliers/edit.php';\n    }\n\n    public function update() {\n        CsrfHelper::validateRequest();\n\n        if ($_SERVER['REQUEST_METHOD'] === 'POST') {\n            $this->supplier->id = $_POST['id'];\n            $this->supplier->name = $_POST['name'];\n            $this->supplier->cif_nif = $_POST['cif_nif'];\n            $this->supplier->email = $_POST['email'];\n            $this->supplier->phone = $_POST['phone'];\n            $this->supplier->address = $_POST['address'];\n            $this->supplier->website = $_POST['website'];\n            $this->supplier->notes = $_POST['notes'];\n\n            // Handle Logo Update\n            if (isset($_FILES['logo']) && $_FILES['logo']['error'] === UPLOAD_ERR_OK) {\n                try {\n                    // Validate file size (5MB maximum)\n                    if ($_FILES['logo']['size'] > 5 * 1024 * 1024) {\n                        throw new Exception('El archivo es demasiado grande. Máximo 5MB permitido.');\n                    }\n\n                    $uploadDir = 'public/uploads/suppliers/logos/';\n                    if (!file_exists($uploadDir)) {\n                        mkdir($uploadDir, 0755, true);\n                    }\n                    \n                    $extension = strtolower(pathinfo($_FILES['logo']['name'], PATHINFO_EXTENSION));\n                    $allowedExtensions = ['jpg', 'jpeg', 'png', 'webp'];\n                    \n                    if (!in_array($extension, $allowedExtensions)) {\n                        throw new Exception('Formato de imagen no válido');\n                    }\n\n                    // Validate MIME type\n                    $finfo = finfo_open(FILEINFO_MIME_TYPE);\n                    $mimeType = finfo_file($finfo, $_FILES['logo']['tmp_name']);\n                    finfo_close($finfo);\n                    \n                    $allowedMimes = ['image/jpeg', 'image/png', 'image/webp'];\n                    if (!in_array($mimeType, $allowedMimes)) {\n                        throw new Exception('Tipo de archivo no permitido.');\n                    }\n\n                    $fileName = uniqid() . '_' . bin2hex(random_bytes(8)) . '.' . $extension;\n                    $targetPath = $uploadDir . $fileName;\n                    \n                    if (move_uploaded_file($_FILES['logo']['tmp_name'], $targetPath)) {\n                        $this->supplier->logo_path = $targetPath;\n                    }\n                } catch (Exception $e) {\n                    $_SESSION['error'] = \"Error al subir logo: \" . $e->getMessage();\n                }\n            } else {\n                // Keep existing logo if not updated\n                $currentSupplier = new Supplier($this->db);\n                $currentSupplier->id = $this->supplier->id;\n                $currentSupplier->readOne();\n                $this->supplier->logo_path = $currentSupplier->logo_path;\n            }\n\n            if ($this->supplier->update()) {\n                $_SESSION['success'] = \"Proveedor actualizado.\";\n                header(\"Location: index.php?page=suppliers\");\n            } else {\n                $_SESSION['error'] = \"Error al actualizar.\";\n                header(\"Location: index.php?page=suppliers&action=edit&id=\" . $this->supplier->id);\n            }\n            exit;\n        }\n    }\n\n    public function delete() {\n        CsrfHelper::validateRequest();\n        \n        $id = isset($_GET['id']) ? intval($_GET['id']) : 0;\n        if ($id <= 0) {\n            $_SESSION['error'] = \"ID inválido.\";\n            header(\"Location: index.php?page=suppliers\");\n            exit;\n        }\n        \n        $this->supplier->id = $id;\n        if ($this->supplier->delete()) {\n            $_SESSION['success'] = \"Proveedor eliminado.\";\n        } else {\n            $_SESSION['error'] = \"No se pudo eliminar.\";\n        }\n        header(\"Location: index.php?page=suppliers\");\n        exit;\n    }\n\n    public function uploadInvoice() {\n        CsrfHelper::validateRequest();\n\n        if ($_SERVER['REQUEST_METHOD'] === 'POST') {\n            $supplierId = $_POST['supplier_id'];\n            $invoiceNumber = $_POST['invoice_number'];\n            \n            // Basic validation\n            if (empty($invoiceNumber) || empty($_FILES['invoice_file']['name'])) {\n                $_SESSION['error'] = \"Número de factura y archivo son obligatorios.\";\n                header(\"Location: index.php?page=suppliers&action=show&id=\" . $supplierId);\n                exit;\n            }\n\n            $this->invoice->supplier_id = $supplierId;\n            $this->invoice->invoice_number = $invoiceNumber;\n            $this->invoice->invoice_date = $_POST['invoice_date'];\n            $this->invoice->amount = $_POST['amount'];\n            $this->invoice->status = $_POST['status'];\n            $this->invoice->notes = $_POST['notes'];\n\n            // File Upload Logic\n            if (isset($_FILES['invoice_file']) && $_FILES['invoice_file']['error'] === UPLOAD_ERR_OK) {\n                try {\n                    // Validate file size (10MB maximum for invoices)\n                    if ($_FILES['invoice_file']['size'] > 10 * 1024 * 1024) {\n                        throw new Exception('El archivo es demasiado grande. Máximo 10MB permitido.');\n                    }\n\n                    $supplierDir = 'public/uploads/suppliers/' . intval($supplierId) . '/';\n                    if (!file_exists($supplierDir)) {\n                        mkdir($supplierDir, 0755, true);\n                    }\n\n                    $fileInfo = pathinfo($_FILES['invoice_file']['name']);\n                    $extension = strtolower($fileInfo['extension']);\n                    \n                    // Validate extension (allow pdf, images, maybe doc)\n                    $allowedExtensions = ['pdf', 'jpg', 'jpeg', 'png', 'doc', 'docx'];\n                    if (!in_array($extension, $allowedExtensions)) {\n                        throw new Exception('Tipo de archivo no permitido.');\n                    }\n\n                    // Validate MIME type\n                    $finfo = finfo_open(FILEINFO_MIME_TYPE);\n                    $mimeType = finfo_file($finfo, $_FILES['invoice_file']['tmp_name']);\n                    finfo_close($finfo);\n                    \n                    // Allow PDF and Images MIME types\n                    $allowedMimes = ['application/pdf', 'image/jpeg', 'image/png', 'application/msword', 'application/vnd.openxmlformats-officedocument.wordprocessingml.document'];\n                     if (!in_array($mimeType, $allowedMimes)) {\n                        throw new Exception('Tipo MIME no permitido: ' . $mimeType);\n                    }\n\n                    // Rename file using invoice number\n                    // Sanitize invoice number for filename\n                    $safeInvoiceNum = preg_replace('/[^a-zA-Z0-9_-]/', '_', $invoiceNumber);\n                    $fileName = $safeInvoiceNum . '.' . $extension;\n                    $targetPath = $supplierDir . $fileName;\n\n                    // Handle duplicate filenames? Overwrite or append?\n                    // User asked: \"los ficheros se guardarian con el numero de factura o recibo como nombre\"\n                    // Assuming overwrite or unique per invoice number.\n                    \n                    if (move_uploaded_file($_FILES['invoice_file']['tmp_name'], $targetPath)) {\n                        $this->invoice->file_path = $targetPath;\n                    } else {\n                        throw new Exception('Error al mover el archivo subido.');\n                    }\n\n                    if ($this->invoice->create()) {\n                        $invoiceId = $this->db->lastInsertId();\n                        $_SESSION['success'] = \"Factura subida correctamente.\";\n                        \n                        // Crear asiento contable automático\n                        require_once __DIR__ . '/../Helpers/AccountingHelper.php';\n                        $paymentDate = ($this->invoice->status === 'paid') ? date('Y-m-d') : null;\n                        $accountingCreated = AccountingHelper::createEntryFromSupplierInvoice(\n                            $this->db,\n                            $invoiceId,\n                            $this->invoice->amount,\n                            'Factura ' . $invoiceNumber . ' - Proveedor',\n                            $this->invoice->invoice_date,\n                            $paymentDate,\n                            'transfer'\n                        );\n                        \n                        if (!$accountingCreated) {\n                            error_log(\"No se pudo crear el asiento contable para la factura #$invoiceId\");\n                        }\n                    } else {\n                        // If DB insert fails, maybe delete the file?\n                        unlink($targetPath);\n                        $_SESSION['error'] = \"Error al guardar la factura en base de datos.\";\n                    }\n\n                } catch (Exception $e) {\n                    $_SESSION['error'] = \"Error: \" . $e->getMessage();\n                }\n            }\n\n            header(\"Location: index.php?page=suppliers&action=show&id=\" . $supplierId);\n            exit;\n        }\n    }\n    \n    public function deleteInvoice() {\n        CsrfHelper::validateRequest();\n        \n        $id = isset($_GET['id']) ? intval($_GET['id']) : 0;\n        if ($id <= 0) {\n            $_SESSION['error'] = \"ID inválido.\";\n            header(\"Location: index.php?page=suppliers\");\n            exit;\n        }\n        \n        $this->invoice->id = $id;\n        $this->invoice->readOne();\n        \n        $supplierId = $this->invoice->supplier_id;\n        $filePath = $this->invoice->file_path;\n        \n        if ($this->invoice->delete()) {\n            if (file_exists($filePath)) {\n                unlink($filePath);\n            }\n            $_SESSION['success'] = \"Factura eliminada.\";\n        } else {\n            $_SESSION['error'] = \"Error al eliminar factura.\";\n        }\n        \n        header(\"Location: index.php?page=suppliers&action=show&id=\" . $supplierId);\n        exit;\n    }\n\n    public function updateInvoiceStatus() {\n        CsrfHelper::validateRequest();\n        \n        $id = isset($_GET['id']) ? intval($_GET['id']) : 0;\n        $status = isset($_GET['status']) ? $_GET['status'] : '';\n        \n        if ($id <= 0 || !in_array($status, ['paid', 'pending', 'cancelled'])) {\n            $_SESSION['error'] = \"Parámetros inválidos.\";\n            header(\"Location: index.php?page=suppliers\");\n            exit;\n        }\n        \n        $this->invoice->id = $id;\n        $this->invoice->readOne();\n        \n        $supplierId = $this->invoice->supplier_id;\n        $previousStatus = $this->invoice->status;\n        \n        // Cargar datos del proveedor\n        $this->supplier->id = $supplierId;\n        $this->supplier->readOne();\n        \n        // Actualizar estado\n        $query = \"UPDATE supplier_invoices SET status = :status WHERE id = :id\";\n        $stmt = $this->db->prepare($query);\n        $stmt->bindParam(':status', $status);\n        $stmt->bindParam(':id', $id);\n        \n        if ($stmt->execute()) {\n            // Si se marca como pagada, crear asiento contable\n            if ($previousStatus !== 'paid' && $status === 'paid') {\n                require_once __DIR__ . '/../Helpers/AccountingHelper.php';\n                $accountingCreated = AccountingHelper::createEntryFromSupplierInvoice(\n                    $this->db,\n                    $id,\n                    $this->invoice->amount,\n                    'Factura ' . $this->invoice->invoice_number . ' - ' . $this->supplier->name,\n                    $this->invoice->invoice_date,\n                    date('Y-m-d'), // Fecha de pago = hoy\n                    'transfer'\n                );\n                \n                if (!$accountingCreated) {\n                    error_log(\"No se pudo crear el asiento contable para la factura #$id\");\n                }\n                \n                $_SESSION['success'] = \"Factura marcada como pagada\" . ($accountingCreated ? \" y registrada en contabilidad\" : \"\") . \".\";\n            } else {\n                $_SESSION['success'] = \"Estado de factura actualizado.\";\n            }\n        } else {\n            $_SESSION['error'] = \"Error al actualizar el estado.\";\n        }\n        \n        header(\"Location: index.php?page=suppliers&action=show&id=\" . $supplierId);\n        exit;\n    }\n\n    public function dashboard() {\n        $year = isset($_GET['year']) ? intval($_GET['year']) : date('Y');\n        \n        // Fetch stats\n        $totalAmount = $this->invoice->getTotalAmount($year);\n        $pendingAmount = $this->invoice->getPendingAmount();\n        $topSuppliers = $this->invoice->getTopSuppliers(5, $year);\n        $monthlyStats = $this->invoice->getMonthlyStats($year);\n        $recentInvoices = $this->invoice->getRecentInvoices(5);\n        \n        // Total suppliers count\n        $stmt = $this->supplier->readAll();\n        $totalSuppliers = $stmt->rowCount();\n        \n        require __DIR__ . '/../Views/suppliers/dashboard.php';\n    }\n}\n?>\n","epoch":51,"telemetryInfo":{}}],["file:///root/Documentos/github/GestionSocios/src/Controllers/MapController.php::request_38140dc0-13e5-4b19-ad26-6aba426d5e9c",{"uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Controllers/MapController.php","external":"file:///root/Documentos/github/GestionSocios/src/Controllers/MapController.php","path":"/root/Documentos/github/GestionSocios/src/Controllers/MapController.php","scheme":"file"},"requestId":"request_38140dc0-13e5-4b19-ad26-6aba426d5e9c","content":"<?php\nrequire_once __DIR__ . '/../Config/database.php';\nrequire_once __DIR__ . '/../Models/Member.php';\nrequire_once __DIR__ . '/../Models/Donor.php';\n\nclass MapController {\n    private $db;\n\n    public function __construct() {\n        $this->db = (new Database())->getConnection();\n    }\n\n    public function index() {\n        // Set page title for layout\n        $pageTitle = 'Mapa Global';\n        // Content will be loaded in layout\n        require __DIR__ . '/../Views/map/index.php';\n    }\n\n    public function getLocations() {\n        header('Content-Type: application/json');\n        \n        try {\n            // Fetch active members with coordinates\n            $stmtMembers = $this->db->prepare(\"SELECT id, first_name, last_name, latitude, longitude, address FROM members WHERE status = 'active' AND latitude IS NOT NULL AND longitude IS NOT NULL\");\n            $stmtMembers->execute();\n            $members = $stmtMembers->fetchAll(PDO::FETCH_ASSOC);\n\n            // Fetch donors with coordinates\n            $stmtDonors = $this->db->prepare(\"SELECT id, name, latitude, longitude, address FROM donors WHERE latitude IS NOT NULL AND longitude IS NOT NULL\");\n            $stmtDonors->execute();\n            $donors = $stmtDonors->fetchAll(PDO::FETCH_ASSOC);\n\n            $locations = [];\n\n            foreach ($members as $member) {\n                $locations[] = [\n                    'type' => 'member',\n                    'id' => $member['id'],\n                    'name' => $member['first_name'] . ' ' . $member['last_name'],\n                    'lat' => $member['latitude'],\n                    'lng' => $member['longitude'],\n                    'address' => $member['address']\n                ];\n            }\n\n            foreach ($donors as $donor) {\n                $locations[] = [\n                    'type' => 'donor',\n                    'id' => $donor['id'],\n                    'name' => $donor['name'],\n                    'lat' => $donor['latitude'],\n                    'lng' => $donor['longitude'],\n                    'address' => $donor['address']\n                ];\n            }\n\n            echo json_encode($locations);\n        } catch (Exception $e) {\n            http_response_code(500);\n            echo json_encode(['error' => $e->getMessage()]);\n        }\n    }\n}\n","epoch":55,"telemetryInfo":{}}],["file:///root/Documentos/github/GestionSocios/src/Views/map/index.php::request_38140dc0-13e5-4b19-ad26-6aba426d5e9c",{"uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Views/map/index.php","external":"file:///root/Documentos/github/GestionSocios/src/Views/map/index.php","path":"/root/Documentos/github/GestionSocios/src/Views/map/index.php","scheme":"file"},"requestId":"request_38140dc0-13e5-4b19-ad26-6aba426d5e9c","content":"<?php\n// This view will be wrapped by layout.php\n$content = '\n<div class=\"map-container\">\n    <div class=\"map-controls card\">\n        <h2><i class=\"fas fa-map-marked-alt\"></i> Mapa Global</h2>\n        <div class=\"filter-buttons\">\n            <button class=\"btn btn-primary active\" id=\"filterAll\" onclick=\"filterMarkers(\\'all\\')\">\n                <i class=\"fas fa-globe\"></i> Todos\n            </button>\n            <button class=\"btn btn-secondary\" id=\"filterMembers\" onclick=\"filterMarkers(\\'member\\')\">\n                <i class=\"fas fa-users\"></i> Solo Socios\n            </button>\n            <button class=\"btn btn-secondary\" id=\"filterDonors\" onclick=\"filterMarkers(\\'donor\\')\">\n                <i class=\"fas fa-hand-holding-heart\"></i> Solo Donantes\n            </button>\n        </div>\n        <div class=\"map-stats\">\n            <span class=\"stat-badge\" id=\"memberCount\">Socios: 0</span>\n            <span class=\"stat-badge\" id=\"donorCount\">Donantes: 0</span>\n        </div>\n    </div>\n    <div id=\"map\" style=\"height: calc(100vh - 200px); width: 100%; border-radius: var(--radius-lg); overflow: hidden;\"></div>\n</div>\n\n<style>\n.map-container {\n    padding: 1rem;\n}\n\n.map-controls {\n    margin-bottom: 1.5rem;\n    padding: 1.5rem;\n}\n\n.map-controls h2 {\n    margin-bottom: 1rem;\n    color: var(--primary-600);\n}\n\n.filter-buttons {\n    display: flex;\n    gap: 0.5rem;\n    margin-bottom: 1rem;\n    flex-wrap: wrap;\n}\n\n.filter-buttons .btn {\n    flex: 1;\n    min-width: 150px;\n}\n\n.map-stats {\n    display: flex;\n    gap: 1rem;\n    flex-wrap: wrap;\n}\n\n.stat-badge {\n    background: var(--primary-50);\n    color: var(--primary-700);\n    padding: 0.5rem 1rem;\n    border-radius: var(--radius-md);\n    font-weight: 600;\n    font-size: 0.9rem;\n}\n\n.leaflet-popup-content {\n    font-family: \\'Inter\\', sans-serif;\n}\n\n.popup-content h3 {\n    margin: 0 0 0.5rem 0;\n    color: var(--primary-600);\n    font-size: 1.1rem;\n}\n\n.popup-content p {\n    margin: 0.25rem 0;\n    font-size: 0.9rem;\n}\n\n.popup-content .type-badge {\n    display: inline-block;\n    padding: 0.25rem 0.5rem;\n    border-radius: var(--radius-md);\n    font-size: 0.75rem;\n    font-weight: 600;\n    margin-bottom: 0.5rem;\n}\n\n.popup-content .type-badge.member {\n    background: #3b82f6;\n    color: white;\n}\n\n.popup-content .type-badge.donor {\n    background: #ef4444;\n    color: white;\n}\n\n/* Marker labels that appear on zoom */\n.marker-label {\n    background: rgba(255, 255, 255, 0.95);\n    border: 1px solid var(--border-light);\n    border-radius: var(--radius-md);\n    padding: 0.25rem 0.5rem;\n    font-size: 0.75rem;\n    font-weight: 600;\n    color: var(--text-main);\n    box-shadow: 0 2px 4px rgba(0,0,0,0.1);\n    white-space: nowrap;\n}\n\n.marker-label::before {\n    display: none;\n}\n</style>\n\n<link rel=\"stylesheet\" href=\"https://unpkg.com/leaflet@1.9.4/dist/leaflet.css\" />\n<script src=\"https://unpkg.com/leaflet@1.9.4/dist/leaflet.js\"></script>\n\n<script>\nlet map;\nlet markers = [];\nlet allLocations = [];\nlet currentFilter = \\'all\\';\n\n// Initialize map\ndocument.addEventListener(\\'DOMContentLoaded\\', function() {\n    // Create map centered on Spain\n    map = L.map(\\'map\\').setView([40.4168, -3.7038], 6);\n    \n    // Define base layers\n    const streetMap = L.tileLayer(\\'https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\\', {\n        attribution: \\'&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors\\',\n        maxZoom: 19\n    });\n    \n    const satelliteMap = L.tileLayer(\\'https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}\\', {\n        attribution: \\'Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community\\',\n        maxZoom: 19\n    });\n    \n    const hybridBase = L.tileLayer(\\'https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}\\', {\n        maxZoom: 19\n    });\n    \n    const labels = L.tileLayer(\\'https://{s}.basemaps.cartocdn.com/light_only_labels/{z}/{x}/{y}.png\\', {\n        maxZoom: 19,\n        pane: \\'shadowPane\\'\n    });\n    \n    // Add default layer (street map)\n    streetMap.addTo(map);\n    \n    // Create layer control\n    const baseMaps = {\n        \"🗺️ Mapa de calles\": streetMap,\n        \"🛰️ Satélite\": satelliteMap,\n        \"🌍 Híbrido\": L.layerGroup([hybridBase, labels])\n    };\n    \n    L.control.layers(baseMaps).addTo(map);\n    \n    // Load locations\n    loadLocations();\n    \n    // Listen to zoom and move changes to update label visibility\n    map.on(\\'zoomend moveend\\', updateLabelVisibility);\n});\n\nfunction loadLocations() {\n    fetch(\\'index.php?page=map&action=getLocations\\')\n        .then(response => response.json())\n        .then(data => {\n            allLocations = data;\n            displayMarkers(data);\n            updateStats();\n        })\n        .catch(error => {\n            console.error(\\'Error loading locations:\\', error);\n            alert(\\'Error al cargar las ubicaciones\\');\n        });\n}\n\nfunction displayMarkers(locations) {\n    // Clear existing markers\n    markers.forEach(marker => map.removeLayer(marker));\n    markers = [];\n    \n    if (locations.length === 0) {\n        return;\n    }\n    \n    // Create bounds to fit all markers\n    let bounds = [];\n    \n    locations.forEach(location => {\n        const lat = parseFloat(location.lat);\n        const lng = parseFloat(location.lng);\n        \n        if (isNaN(lat) || isNaN(lng)) return;\n        \n        // Choose icon color based on type\n        const iconColor = location.type === \\'member\\' ? \\'blue\\' : \\'red\\';\n        const icon = L.divIcon({\n            className: \\'custom-marker\\',\n            html: `<div style=\"background-color: ${iconColor}; width: 25px; height: 25px; border-radius: 50%; border: 3px solid white; box-shadow: 0 2px 5px rgba(0,0,0,0.3);\"></div>`,\n            iconSize: [25, 25],\n            iconAnchor: [12, 12]\n        });\n        \n        const marker = L.marker([lat, lng], { icon: icon })\n            .bindPopup(`\n                <div class=\"popup-content\">\n                    <span class=\"type-badge ${location.type}\">\n                        ${location.type === \\'member\\' ? \\'Socio\\' : \\'Donante\\'}\n                    </span>\n                    <h3>${location.name}</h3>\n                    ${location.address ? `<p><i class=\"fas fa-map-marker-alt\"></i> ${location.address}</p>` : \\'\\'}\n                    <p><a href=\"index.php?page=${location.type === \\'member\\' ? \\'members\\' : \\'donors\\'}&action=edit&id=${location.id}\" class=\"btn btn-sm btn-primary\" style=\"margin-top: 0.5rem;\">\n                        <i class=\"fas fa-edit\"></i> Ver detalles\n                    </a></p>\n                </div>\n            `);\n        \n        marker.locationData = location;\n        marker.addTo(map);\n        markers.push(marker);\n        bounds.push([lat, lng]);\n    });\n    \n    // Fit map to show all markers\n    if (bounds.length > 0) {\n        map.fitBounds(bounds, { padding: [50, 50] });\n    }\n}\n\n// Optimized function to show/hide labels only for visible markers\nfunction updateLabelVisibility() {\n    const zoom = map.getZoom();\n    const showLabels = zoom >= 14; // Show labels at zoom level 14 and above\n    \n    if (!showLabels) {\n        // Remove all tooltips when zoom is too low\n        markers.forEach(marker => {\n            if (marker.getTooltip()) {\n                marker.unbindTooltip();\n            }\n        });\n        return;\n    }\n    \n    // Get map bounds\n    const bounds = map.getBounds();\n    \n    // Only process visible markers\n    markers.forEach(marker => {\n        const markerLatLng = marker.getLatLng();\n        const isVisible = bounds.contains(markerLatLng);\n        \n        if (isVisible) {\n            // Add tooltip if it doesn\\'t exist\n            if (!marker.getTooltip()) {\n                marker.bindTooltip(marker.locationData.name, {\n                    permanent: true,\n                    direction: \\'top\\',\n                    className: \\'marker-label\\',\n                    offset: [0, -15]\n                });\n                marker.openTooltip();\n            }\n        } else {\n            // Remove tooltip if marker is not visible\n            if (marker.getTooltip()) {\n                marker.unbindTooltip();\n            }\n        }\n    });\n}\n\nfunction filterMarkers(type) {\n    currentFilter = type;\n    \n    // Update button states\n    document.querySelectorAll(\\'.filter-buttons .btn\\').forEach(btn => {\n        btn.classList.remove(\\'active\\');\n        btn.classList.add(\\'btn-secondary\\');\n        btn.classList.remove(\\'btn-primary\\');\n    });\n    \n    const activeBtn = type === \\'all\\' ? \\'filterAll\\' : (type === \\'member\\' ? \\'filterMembers\\' : \\'filterDonors\\');\n    document.getElementById(activeBtn).classList.add(\\'active\\');\n    document.getElementById(activeBtn).classList.add(\\'btn-primary\\');\n    document.getElementById(activeBtn).classList.remove(\\'btn-secondary\\');\n    \n    // Filter locations\n    const filteredLocations = type === \\'all\\' \n        ? allLocations \n        : allLocations.filter(loc => loc.type === type);\n    \n    displayMarkers(filteredLocations);\n}\n\nfunction updateStats() {\n    const memberCount = allLocations.filter(loc => loc.type === \\'member\\').length;\n    const donorCount = allLocations.filter(loc => loc.type === \\'donor\\').length;\n    \n    document.getElementById(\\'memberCount\\').textContent = `Socios: ${memberCount}`;\n    document.getElementById(\\'donorCount\\').textContent = `Donantes: ${donorCount}`;\n}\n</script>\n';\n\nrequire __DIR__ . '/../layout.php';\n?>\n","epoch":58,"telemetryInfo":{}}],["file:///root/Documentos/github/GestionSocios/database/schema.sql::request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356",{"uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/schema.sql","external":"file:///root/Documentos/github/GestionSocios/database/schema.sql","path":"/root/Documentos/github/GestionSocios/database/schema.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","content":"-- ============================================\n-- Schema para Sistema de Gestión de Socios\n-- ============================================\n-- IMPORTANTE: Las tablas están ordenadas por dependencias\n-- Las tablas independientes se crean primero\n\n-- Tabla de categorías de gastos\nCREATE TABLE IF NOT EXISTS expense_categories (\n    id INT AUTO_INCREMENT PRIMARY KEY,\n    name VARCHAR(100) NOT NULL,\n    description TEXT,\n    color VARCHAR(20) DEFAULT NULL,\n    is_active BOOLEAN DEFAULT 1,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;\n\n-- Tabla de configuración de la organización\nCREATE TABLE IF NOT EXISTS organization_settings (\n    id INT AUTO_INCREMENT PRIMARY KEY,\n    category VARCHAR(100) NOT NULL,\n    description TEXT,\n    setting_key VARCHAR(100) NOT NULL,\n    setting_value TEXT,\n    setting_type VARCHAR(50) DEFAULT NULL,\n    password_min_length INT DEFAULT 8,\n    password_require_uppercase BOOLEAN DEFAULT 0,\n    password_require_lowercase BOOLEAN DEFAULT 1,\n    password_require_numbers BOOLEAN DEFAULT 1,\n    password_require_special BOOLEAN DEFAULT 0,\n    login_max_attempts INT DEFAULT 5,\n    login_lockout_duration INT DEFAULT 15,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;\n\n-- Tabla de configuración general\nCREATE TABLE IF NOT EXISTS settings (\n    setting_key VARCHAR(50) PRIMARY KEY,\n    setting_value TEXT,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;\n\n-- Tabla de roles\nCREATE TABLE IF NOT EXISTS roles (\n    id INT AUTO_INCREMENT PRIMARY KEY,\n    name VARCHAR(50) NOT NULL,\n    display_name VARCHAR(100),\n    description TEXT,\n    is_active TINYINT(1) DEFAULT 1,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;\n\n-- Tabla de usuarios\nCREATE TABLE IF NOT EXISTS users (\n    id INT AUTO_INCREMENT PRIMARY KEY,\n    email VARCHAR(255) NOT NULL UNIQUE,\n    name VARCHAR(200) NOT NULL,\n    password VARCHAR(255) NOT NULL,\n    role ENUM('admin', 'member') DEFAULT 'member',\n    active TINYINT(1) DEFAULT 1,\n    status ENUM('active', 'inactive') DEFAULT 'active',\n    locked_until DATETIME NULL,\n    failed_attempts INT DEFAULT 0,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;\n\n-- Tabla de categorías de socios\nCREATE TABLE IF NOT EXISTS member_categories (\n    id INT AUTO_INCREMENT PRIMARY KEY,\n    name VARCHAR(100) NOT NULL,\n    description TEXT,\n    color VARCHAR(30) DEFAULT NULL,\n    is_active TINYINT(1) DEFAULT 1,\n    display_order INT DEFAULT 0,\n    default_fee DECIMAL(10,2) DEFAULT 0.00,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;\n\nCREATE TABLE IF NOT EXISTS members (\n    id INT(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n    first_name VARCHAR(100) NOT NULL,\n    last_name VARCHAR(100) NOT NULL,\n    dni VARCHAR(20),\n    email VARCHAR(150),\n    phone VARCHAR(20),\n    address TEXT,\n    latitude DECIMAL(9,6) DEFAULT NULL,\n    longitude DECIMAL(9,6) DEFAULT NULL,\n    category_id INT DEFAULT NULL,\n    status ENUM('active', 'inactive') DEFAULT 'active',\n    photo_url VARCHAR(255) DEFAULT NULL,\n    join_date DATE DEFAULT NULL,\n    deactivated_at DATE DEFAULT NULL,\n    amount DECIMAL(10, 2) NOT NULL DEFAULT 0.00,\n    is_active TINYINT(1) DEFAULT 1,\n    member_number INT(11) DEFAULT NULL,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (category_id) REFERENCES member_categories(id) ON DELETE SET NULL\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;\n\n-- Tabla de historial de cuotas por categoría\nCREATE TABLE IF NOT EXISTS category_fee_history (\n    id INT AUTO_INCREMENT PRIMARY KEY,\n    category_id INT NOT NULL,\n    year INT NOT NULL,\n    fee_amount DECIMAL(10,2) NOT NULL,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (category_id) REFERENCES member_categories(id) ON DELETE CASCADE,\n    INDEX idx_year (year),\n    INDEX idx_category_id (category_id)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;\n\n-- Tabla de eventos\nCREATE TABLE IF NOT EXISTS events (\n    id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(255) NOT NULL,\n    description TEXT,\n    event_date DATETIME NOT NULL,\n    location VARCHAR(255),\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    discarded TINYINT(1) DEFAULT 0,\n    price DECIMAL(10,2) DEFAULT 0.00\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;\n\n-- Tabla de estados de asistencia a eventos\nCREATE TABLE IF NOT EXISTS event_attendance_statuses (\n    id INT AUTO_INCREMENT PRIMARY KEY,\n    status_key VARCHAR(32) NOT NULL UNIQUE,\n    status_name VARCHAR(64) NOT NULL\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;\n\n-- Tabla de asistencias a eventos\nCREATE TABLE IF NOT EXISTS event_attendance (\n    id INT(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n    event_id INT(11) NOT NULL,\n    member_id INT(11) NOT NULL,\n    status ENUM('registered','confirmed','attended','cancelled') NOT NULL,\n    attended TINYINT(1) DEFAULT 0,\n    attended_at DATETIME DEFAULT NULL,\n    registered_at DATETIME DEFAULT NULL,\n    registration_date DATETIME DEFAULT NULL,\n    notes TEXT DEFAULT NULL,\n    FOREIGN KEY (event_id) REFERENCES events(id) ON DELETE CASCADE,\n    FOREIGN KEY (member_id) REFERENCES members(id) ON DELETE CASCADE,\n    INDEX idx_event_id (event_id),\n    INDEX idx_member_id (member_id)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;\n\n-- Tabla de donantes\nCREATE TABLE IF NOT EXISTS donors (\n    id INT UNSIGNED AUTO_INCREMENT PRIMARY KEY,\n    name VARCHAR(150) NOT NULL,\n    contact_person VARCHAR(100),\n    phone VARCHAR(20),\n    email VARCHAR(150),\n    address TEXT,\n    latitude DECIMAL(9,6) DEFAULT NULL,\n    longitude DECIMAL(9,6) DEFAULT NULL,\n    logo_url VARCHAR(255) DEFAULT NULL,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;\n\n-- Tabla de anuncios del libro de fiestas\nCREATE TABLE IF NOT EXISTS book_ads (\n    id INT AUTO_INCREMENT PRIMARY KEY,\n    donor_id INT UNSIGNED NOT NULL,\n    year YEAR NOT NULL,\n    ad_type ENUM('media', 'full', 'cover', 'back_cover') NOT NULL,\n    amount DECIMAL(10, 2) NOT NULL,\n    status ENUM('paid', 'pending') DEFAULT 'pending',\n    image_url VARCHAR(255),\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    CONSTRAINT fk_book_ads_donor FOREIGN KEY (donor_id) REFERENCES donors(id) ON DELETE CASCADE\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;\n\n-- Tabla de donaciones\nCREATE TABLE IF NOT EXISTS donations (\n    id INT AUTO_INCREMENT PRIMARY KEY,\n    donor_id INT UNSIGNED DEFAULT NULL,\n    amount DECIMAL(10,2) NOT NULL,\n    donation_date DATE NOT NULL,\n    type VARCHAR(50) DEFAULT NULL,\n    year INT DEFAULT NULL,\n    method VARCHAR(50) DEFAULT NULL,\n    notes TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (donor_id) REFERENCES donors(id) ON DELETE SET NULL\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;\n\nCREATE TABLE IF NOT EXISTS ad_prices (\n    id INT AUTO_INCREMENT PRIMARY KEY,\n    year YEAR NOT NULL,\n    type ENUM('media', 'full', 'cover', 'back_cover') NOT NULL,\n    amount DECIMAL(10, 2) NOT NULL,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    UNIQUE KEY unique_year_type (year, type)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;\n\n-- Tabla de pagos\nCREATE TABLE IF NOT EXISTS payments (\n    id INT AUTO_INCREMENT PRIMARY KEY,\n    amount DECIMAL(10, 2) NOT NULL,\n    payment_date DATE NULL,\n    payment_type VARCHAR(20),\n    concept TEXT,\n    status ENUM('paid', 'pending', 'cancelled') DEFAULT 'paid',\n    fee_year INT DEFAULT NULL,\n    member_id INT DEFAULT NULL,\n    event_id INT DEFAULT NULL,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(id) ON DELETE SET NULL,\n    FOREIGN KEY (event_id) REFERENCES events(id) ON DELETE SET NULL\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;\n\n-- Tabla de categorías de tareas\nCREATE TABLE IF NOT EXISTS task_categories (\n    id INT AUTO_INCREMENT PRIMARY KEY,\n    deactivated_at DATE DEFAULT NULL,\n    name VARCHAR(100) NOT NULL,\n    color VARCHAR(30),\n    icon VARCHAR(50) DEFAULT NULL,\n    description TEXT DEFAULT NULL,\n    is_active TINYINT(1) DEFAULT 1\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;\n\n-- Tabla de gastos\nCREATE TABLE IF NOT EXISTS expenses (\n    id INT AUTO_INCREMENT PRIMARY KEY,\n    category_id INT DEFAULT NULL,\n    description TEXT,\n    amount DECIMAL(10,2) NOT NULL,\n    expense_date DATE NOT NULL,\n    payment_method VARCHAR(50),\n    invoice_number VARCHAR(50),\n    provider VARCHAR(100),\n    notes TEXT,\n    receipt_file VARCHAR(255),\n    created_by INT NOT NULL,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (created_by) REFERENCES users(id) ON DELETE CASCADE\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;\n\n-- Tabla de notificaciones\nCREATE TABLE IF NOT EXISTS notifications (\n    id INT AUTO_INCREMENT PRIMARY KEY,\n    user_id INT NOT NULL,\n    title VARCHAR(255) NOT NULL,\n    message TEXT,\n    type VARCHAR(50) DEFAULT 'info',\n    link VARCHAR(255) DEFAULT NULL,\n    is_read TINYINT(1) DEFAULT 0,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;\n\n-- Tabla de conversaciones\nCREATE TABLE IF NOT EXISTS conversations (\n    id INT AUTO_INCREMENT PRIMARY KEY,\n    subject VARCHAR(255) DEFAULT NULL,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;\n\n-- Tabla de mensajes\nCREATE TABLE IF NOT EXISTS messages (\n    id INT AUTO_INCREMENT PRIMARY KEY,\n    conversation_id INT NOT NULL,\n    sender_id INT NOT NULL,\n    receiver_id INT NOT NULL,\n    subject VARCHAR(255),\n    body TEXT,\n    message TEXT,\n    is_read TINYINT(1) DEFAULT 0,\n    sent_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (conversation_id) REFERENCES conversations(id) ON DELETE CASCADE,\n    FOREIGN KEY (sender_id) REFERENCES users(id) ON DELETE CASCADE,\n    FOREIGN KEY (receiver_id) REFERENCES users(id) ON DELETE CASCADE\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;\n\n-- Tabla de participantes en conversaciones\nCREATE TABLE IF NOT EXISTS conversation_participants (\n    id INT AUTO_INCREMENT PRIMARY KEY,\n    conversation_id INT NOT NULL,\n    user_id INT NOT NULL,\n    member_id INT DEFAULT NULL,\n    joined_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    last_read_at DATETIME DEFAULT NULL,\n    FOREIGN KEY (conversation_id) REFERENCES conversations(id) ON DELETE CASCADE,\n    FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE,\n    FOREIGN KEY (member_id) REFERENCES members(id) ON DELETE SET NULL\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;\n\n-- Tabla de categorías de documentos\nCREATE TABLE IF NOT EXISTS document_categories (\n    id INT AUTO_INCREMENT PRIMARY KEY,\n    name VARCHAR(100) NOT NULL,\n    description TEXT,\n    color VARCHAR(20) DEFAULT NULL,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;\n\nCREATE TABLE IF NOT EXISTS documents (\n    id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(255) NOT NULL,\n    category_id INT DEFAULT NULL,\n    description TEXT,\n    file_name VARCHAR(255) NOT NULL,\n    file_path VARCHAR(500) NOT NULL,\n    file_size INT NOT NULL COMMENT 'Tamaño en bytes',\n    file_type VARCHAR(100) NOT NULL COMMENT 'MIME type',\n    uploaded_by INT NOT NULL,\n    is_public BOOLEAN DEFAULT TRUE COMMENT 'Si es visible para todos los socios',\n    downloads INT DEFAULT 0,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (uploaded_by) REFERENCES users(id) ON DELETE CASCADE,\n    FOREIGN KEY (category_id) REFERENCES document_categories(id) ON DELETE SET NULL\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;\n\n-- Tabla de permisos de documentos\nCREATE TABLE IF NOT EXISTS document_permissions (\n    id INT AUTO_INCREMENT PRIMARY KEY,\n    document_id INT NOT NULL,\n    member_id INT NOT NULL,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (document_id) REFERENCES documents(id) ON DELETE CASCADE,\n    FOREIGN KEY (member_id) REFERENCES members(id) ON DELETE CASCADE\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;\n\n-- Tabla relacional documentos-categorías (muchos a muchos)\nCREATE TABLE IF NOT EXISTS document_category_rel (\n    document_id INT NOT NULL,\n    category_id INT NOT NULL,\n    PRIMARY KEY (document_id, category_id),\n    FOREIGN KEY (document_id) REFERENCES documents(id) ON DELETE CASCADE,\n    FOREIGN KEY (category_id) REFERENCES document_categories(id) ON DELETE CASCADE\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;\n\n-- Tabla de encuestas\nCREATE TABLE IF NOT EXISTS polls (\n    id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(255) NOT NULL,\n    description TEXT,\n    created_by INT NOT NULL,\n    start_date DATE,\n    end_date DATE,\n    is_active TINYINT(1) DEFAULT 1,\n    allow_multiple_choices TINYINT(1) DEFAULT 0,\n    is_anonymous TINYINT(1) DEFAULT 1,\n    results_visible TINYINT(1) DEFAULT 1,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (created_by) REFERENCES users(id) ON DELETE CASCADE\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;\n\n-- Tabla de opciones de encuestas\nCREATE TABLE IF NOT EXISTS poll_options (\n    id INT AUTO_INCREMENT PRIMARY KEY,\n    poll_id INT NOT NULL,\n    option_text VARCHAR(255) NOT NULL,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (poll_id) REFERENCES polls(id) ON DELETE CASCADE\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;\n\n-- Tabla de libros de fiestas\nCREATE TABLE IF NOT EXISTS books (\n    id INT AUTO_INCREMENT PRIMARY KEY,\n    year YEAR NOT NULL,\n    title VARCHAR(255) NOT NULL,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;\n\n-- Tabla para guardar versiones del libro de fiestas\nCREATE TABLE IF NOT EXISTS book_versions (\n    id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    name VARCHAR(100) NOT NULL,\n    created_by INT DEFAULT NULL,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(id) ON DELETE CASCADE,\n    FOREIGN KEY (created_by) REFERENCES users(id) ON DELETE SET NULL\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;\n\n-- Tabla para páginas del libro de fiestas (con soporte de versiones y posición)\nCREATE TABLE IF NOT EXISTS book_pages (\n    id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    version_id INT DEFAULT NULL,\n    page_number INT NOT NULL,\n    position ENUM('full', 'top', 'bottom') DEFAULT 'full',\n    type VARCHAR(50) DEFAULT 'custom',\n    image_url VARCHAR(255) DEFAULT NULL,\n    content TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(id) ON DELETE CASCADE,\n    FOREIGN KEY (version_id) REFERENCES book_versions(id) ON DELETE CASCADE\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;\n\n-- Tabla de actividades del libro de fiestas\nCREATE TABLE IF NOT EXISTS book_activities (\n    id INT AUTO_INCREMENT PRIMARY KEY,\n    year YEAR NOT NULL,\n    title VARCHAR(255) NOT NULL,\n    description TEXT,\n    image_url VARCHAR(255),\n    page_number INT DEFAULT NULL,\n    display_order INT DEFAULT 0,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_year (year),\n    INDEX idx_order (year, display_order)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;\n\n-- Tabla de tipos de tareas\nCREATE TABLE IF NOT EXISTS task_types (\n    id INT AUTO_INCREMENT PRIMARY KEY,\n    name VARCHAR(100) NOT NULL,\n    icon VARCHAR(100) DEFAULT NULL,\n    description TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;\n\n-- Tabla de tareas\nCREATE TABLE IF NOT EXISTS tasks (\n    id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(255) NOT NULL,\n    description TEXT,\n    assigned_to INT DEFAULT NULL,\n    category_id INT DEFAULT NULL,\n    created_by INT DEFAULT NULL,\n    priority INT DEFAULT 0,\n    status ENUM('pending','in_progress','completed') DEFAULT 'pending',\n    due_date DATE DEFAULT NULL,\n    completed_at DATETIME DEFAULT NULL,\n    completed_by INT DEFAULT NULL,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (assigned_to) REFERENCES users(id) ON DELETE SET NULL,\n    FOREIGN KEY (category_id) REFERENCES task_categories(id) ON DELETE SET NULL,\n    FOREIGN KEY (created_by) REFERENCES users(id) ON DELETE SET NULL,\n    FOREIGN KEY (completed_by) REFERENCES users(id) ON DELETE SET NULL\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;\n\n-- Tabla de comentarios en tareas\nCREATE TABLE IF NOT EXISTS task_comments (\n    id INT AUTO_INCREMENT PRIMARY KEY,\n    task_id INT NOT NULL,\n    user_id INT DEFAULT NULL,\n    comment TEXT NOT NULL,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (task_id) REFERENCES tasks(id) ON DELETE CASCADE,\n    FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE SET NULL\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;\n\n-- Tabla de historial de imágenes de donantes\nCREATE TABLE IF NOT EXISTS donor_image_history (\n    id INT AUTO_INCREMENT PRIMARY KEY,\n    donor_id INT UNSIGNED NOT NULL,\n    image_url VARCHAR(255) NOT NULL,\n    is_current TINYINT(1) DEFAULT 1,\n    uploaded_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    uploaded_by INT DEFAULT NULL,\n    replaced_at TIMESTAMP NULL DEFAULT NULL,\n    FOREIGN KEY (donor_id) REFERENCES donors(id) ON DELETE CASCADE,\n    FOREIGN KEY (uploaded_by) REFERENCES users(id) ON DELETE SET NULL,\n    INDEX idx_donor_current (donor_id, is_current)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;\n\n-- Tabla de historial de imágenes de socios\nCREATE TABLE IF NOT EXISTS member_image_history (\n    id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id INT NOT NULL,\n    image_url VARCHAR(255) NOT NULL,\n    is_current TINYINT(1) DEFAULT 1,\n    uploaded_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    uploaded_by INT DEFAULT NULL,\n    replaced_at TIMESTAMP NULL DEFAULT NULL,\n    FOREIGN KEY (member_id) REFERENCES members(id) ON DELETE CASCADE,\n    FOREIGN KEY (uploaded_by) REFERENCES users(id) ON DELETE SET NULL,\n    INDEX idx_member_current (member_id, is_current)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;\n\n-- Tabla de registro de actividad (audit log)\nCREATE TABLE IF NOT EXISTS audit_log (\n    id INT AUTO_INCREMENT PRIMARY KEY,\n    user_id INT NULL,\n    action VARCHAR(50) NOT NULL,\n    entity_type VARCHAR(50) NOT NULL,\n    entity_id INT,\n    old_values JSON,\n    new_values JSON,\n    ip_address VARCHAR(45),\n    user_agent VARCHAR(255),\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE SET NULL\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;\n\nCREATE TABLE IF NOT EXISTS suppliers (\n    id INT AUTO_INCREMENT PRIMARY KEY,\n    name VARCHAR(255) NOT NULL,\n    cif_nif VARCHAR(20),\n    email VARCHAR(255),\n    phone VARCHAR(20),\n    address TEXT,\n    website VARCHAR(255),\n    logo_path VARCHAR(255),\n    notes TEXT,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;\n-- Tabla de cuotas anuales\nCREATE TABLE IF NOT EXISTS annual_fees (\n     year INT PRIMARY KEY,\n     amount DECIMAL(10,2) NOT NULL,\n     created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;\n\nCREATE TABLE IF NOT EXISTS supplier_invoices (\n    id INT AUTO_INCREMENT PRIMARY KEY,\n    supplier_id INT NOT NULL,\n    invoice_number VARCHAR(50) NOT NULL,\n    invoice_date DATE NOT NULL,\n    amount DECIMAL(10, 2),\n    status ENUM('paid', 'pending', 'cancelled') DEFAULT 'pending',\n    file_path VARCHAR(255),\n    notes TEXT,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (supplier_id) REFERENCES suppliers(id) ON DELETE CASCADE,\n    INDEX idx_supplier (supplier_id),\n    INDEX idx_invoice_number (invoice_number),\n    INDEX idx_invoice_date (invoice_date)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;\n\n-- Tabla de anuncios públicos\nCREATE TABLE IF NOT EXISTS public_announcements (\n    id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(255) NOT NULL,\n    content TEXT NOT NULL,\n    type ENUM('info', 'warning', 'success', 'danger') DEFAULT 'info',\n    is_active BOOLEAN DEFAULT 1,\n    priority INT DEFAULT 0,\n    created_by INT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    expires_at TIMESTAMP NULL,\n    FOREIGN KEY (created_by) REFERENCES users(id) ON DELETE SET NULL,\n    INDEX idx_active_priority (is_active, priority, created_at)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;\n\n-- Tabla de intentos de login\nCREATE TABLE IF NOT EXISTS login_attempts (\n    id INT AUTO_INCREMENT PRIMARY KEY,\n    username VARCHAR(100) NOT NULL,\n    ip_address VARCHAR(45) NOT NULL,\n    attempted_at DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,\n    success BOOLEAN DEFAULT 0,\n    INDEX idx_username (username),\n    INDEX idx_ip (ip_address),\n    INDEX idx_attempted_at (attempted_at)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;\n\n-- ============================================\n-- DATOS INICIALES\n-- ============================================\n\n-- Insertar configuración por defecto\nINSERT INTO settings (setting_key, setting_value) \nVALUES ('association_name', 'Mi Asociación') \nON DUPLICATE KEY UPDATE setting_key=setting_key;\n\n-- Insertar usuario administrador por defecto (username: admin, password: admin123)\nINSERT INTO users (email, name, password, role, active, status) \nVALUES ('admin@admin.com', 'admin', '$2y$10$BXk2d.oBMUer9kKl/acSTO0LP93AstPq1cMfNuxTOOmcIXaOJlBnS', 'admin', 1, 'active') \nON DUPLICATE KEY UPDATE id=id;\n\n-- Insertar categorías de documentos por defecto\nINSERT INTO document_categories (name, description, color) VALUES\n('Estatutos', 'Documentos legales y estatutos de la asociación', '#6366f1'),\n('Actas', 'Actas de reuniones y asambleas', '#10b981'),\n('Informes', 'Informes de gestión, económicos, etc.', '#f59e0b'),\n('Convocatorias', 'Convocatorias a reuniones y eventos', '#ef4444'),\n('Certificados', 'Certificados y acreditaciones', '#3b82f6'),\n('Comunicados', 'Comunicados oficiales y notas informativas', '#8b5cf6'),\n('Otros', 'Otros documentos relevantes', '#94a3b8')\nON DUPLICATE KEY UPDATE id=id;\n\n-- ============================================\n-- Advanced Accounting Module Migration\n-- ============================================\n-- This migration adds advanced accounting features including:\n-- - Chart of accounts\n-- - Double-entry bookkeeping (journal entries)\n-- - Accounting periods\n-- - Budget management\n-- ============================================\n\n-- Tabla de períodos contables\nCREATE TABLE IF NOT EXISTS accounting_periods (\n    id INT AUTO_INCREMENT PRIMARY KEY,\n    name VARCHAR(100) NOT NULL,\n    start_date DATE NOT NULL,\n    end_date DATE NOT NULL,\n    fiscal_year INT NOT NULL,\n    status ENUM('open', 'closed', 'locked') DEFAULT 'open',\n    created_by INT NOT NULL,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (created_by) REFERENCES users(id) ON DELETE CASCADE,\n    INDEX idx_fiscal_year (fiscal_year),\n    INDEX idx_status (status)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;\n\n-- Tabla de plan de cuentas (Chart of Accounts)\nCREATE TABLE IF NOT EXISTS accounting_accounts (\n    id INT AUTO_INCREMENT PRIMARY KEY,\n    code VARCHAR(20) NOT NULL UNIQUE,\n    name VARCHAR(200) NOT NULL,\n    description TEXT,\n    account_type ENUM('asset', 'liability', 'equity', 'income', 'expense') NOT NULL,\n    parent_id INT DEFAULT NULL,\n    level INT DEFAULT 0,\n    balance_type ENUM('debit', 'credit') NOT NULL,\n    is_active BOOLEAN DEFAULT 1,\n    is_system BOOLEAN DEFAULT 0,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (parent_id) REFERENCES accounting_accounts(id) ON DELETE SET NULL,\n    INDEX idx_code (code),\n    INDEX idx_type (account_type),\n    INDEX idx_parent (parent_id)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;\n\n-- Tabla de asientos contables (Journal Entries)\nCREATE TABLE IF NOT EXISTS accounting_entries (\n    id INT AUTO_INCREMENT PRIMARY KEY,\n    entry_number VARCHAR(50) NOT NULL,\n    entry_date DATE NOT NULL,\n    period_id INT NOT NULL,\n    description TEXT NOT NULL,\n    reference VARCHAR(100),\n    entry_type ENUM('manual', 'automatic') DEFAULT 'manual',\n    source_type ENUM('expense', 'payment', 'donation', 'manual') DEFAULT 'manual',\n    source_id INT DEFAULT NULL,\n    status ENUM('draft', 'posted', 'cancelled') DEFAULT 'draft',\n    created_by INT NOT NULL,\n    posted_by INT DEFAULT NULL,\n    posted_at DATETIME DEFAULT NULL,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (period_id) REFERENCES accounting_periods(id) ON DELETE CASCADE,\n    FOREIGN KEY (created_by) REFERENCES users(id) ON DELETE CASCADE,\n    FOREIGN KEY (posted_by) REFERENCES users(id) ON DELETE SET NULL,\n    INDEX idx_entry_number (entry_number),\n    INDEX idx_entry_date (entry_date),\n    INDEX idx_period (period_id),\n    INDEX idx_status (status),\n    INDEX idx_source (source_type, source_id)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;\n\n-- Tabla de líneas de asiento (Entry Lines - double entry)\nCREATE TABLE IF NOT EXISTS accounting_entry_lines (\n    id INT AUTO_INCREMENT PRIMARY KEY,\n    entry_id INT NOT NULL,\n    account_id INT NOT NULL,\n    description TEXT,\n    debit DECIMAL(10,2) DEFAULT 0.00,\n    credit DECIMAL(10,2) DEFAULT 0.00,\n    line_order INT DEFAULT 0,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (entry_id) REFERENCES accounting_entries(id) ON DELETE CASCADE,\n    FOREIGN KEY (account_id) REFERENCES accounting_accounts(id) ON DELETE CASCADE,\n    INDEX idx_entry (entry_id),\n    INDEX idx_account (account_id)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;\n\n-- Tabla de presupuestos\nCREATE TABLE IF NOT EXISTS budgets (\n    id INT AUTO_INCREMENT PRIMARY KEY,\n    name VARCHAR(200) NOT NULL,\n    description TEXT,\n    fiscal_year INT NOT NULL,\n    account_id INT NOT NULL,\n    amount DECIMAL(10,2) NOT NULL DEFAULT 0.00,\n    period_type ENUM('yearly', 'monthly', 'quarterly') DEFAULT 'yearly',\n    period_number INT DEFAULT NULL,\n    status ENUM('draft', 'approved', 'active', 'closed') DEFAULT 'draft',\n    created_by INT NOT NULL,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (account_id) REFERENCES accounting_accounts(id) ON DELETE CASCADE,\n    FOREIGN KEY (created_by) REFERENCES users(id) ON DELETE CASCADE,\n    INDEX idx_fiscal_year (fiscal_year),\n    INDEX idx_account (account_id),\n    INDEX idx_status (status)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;\n\n-- Insertar plan de cuentas básico (Spanish Chart of Accounts - PGC simplified)\nINSERT INTO accounting_accounts (code, name, account_type, balance_type, level, is_system) VALUES\n-- ACTIVO (Assets)\n('100', 'Capital Social', 'equity', 'credit', 0, 1),\n('129', 'Resultados del Ejercicio', 'equity', 'credit', 0, 1),\n('430', 'Clientes', 'asset', 'debit', 0, 1),\n('440', 'Deudores', 'asset', 'debit', 0, 1),\n('470', 'Hacienda Pública, Deudora', 'asset', 'debit', 0, 1),\n('570', 'Caja', 'asset', 'debit', 0, 1),\n('572', 'Bancos e Instituciones de Crédito', 'asset', 'debit', 0, 1),\n\n-- PASIVO (Liabilities)\n('400', 'Proveedores', 'liability', 'credit', 0, 1),\n('410', 'Acreedores', 'liability', 'credit', 0, 1),\n('475', 'Hacienda Pública, Acreedora', 'liability', 'credit', 0, 1),\n\n-- INGRESOS (Income)\n('700', 'Ventas de Mercaderías', 'income', 'credit', 0, 1),\n('705', 'Prestaciones de Servicios', 'income', 'credit', 0, 1),\n('720', 'Cuotas de Socios', 'income', 'credit', 0, 1),\n('721', 'Subvenciones', 'income', 'credit', 0, 1),\n('722', 'Donaciones', 'income', 'credit', 0, 1),\n('759', 'Otros Ingresos', 'income', 'credit', 0, 1),\n\n-- GASTOS (Expenses)\n('600', 'Compras', 'expense', 'debit', 0, 1),\n('621', 'Arrendamientos', 'expense', 'debit', 0, 1),\n('622', 'Reparaciones y Conservación', 'expense', 'debit', 0, 1),\n('623', 'Servicios de Profesionales Independientes', 'expense', 'debit', 0, 1),\n('624', 'Transportes', 'expense', 'debit', 0, 1),\n('625', 'Primas de Seguros', 'expense', 'debit', 0, 1),\n('626', 'Servicios Bancarios', 'expense', 'debit', 0, 1),\n('627', 'Publicidad y Propaganda', 'expense', 'debit', 0, 1),\n('628', 'Suministros', 'expense', 'debit', 0, 1),\n('629', 'Otros Servicios', 'expense', 'debit', 0, 1),\n('640', 'Sueldos y Salarios', 'expense', 'debit', 0, 1),\n('642', 'Seguridad Social a cargo de la Empresa', 'expense', 'debit', 0, 1),\n('649', 'Otros Gastos Sociales', 'expense', 'debit', 0, 1),\n('678', 'Gastos Excepcionales', 'expense', 'debit', 0, 1);\n\n-- Insertar período contable por defecto para año actual\n-- Solo si existe al menos un usuario en el sistema\nINSERT IGNORE INTO accounting_periods (name, start_date, end_date, fiscal_year, status, created_by) \nSELECT \n    CONCAT('Ejercicio ', YEAR(CURDATE())), \n    CONCAT(YEAR(CURDATE()), '-01-01'), \n    CONCAT(YEAR(CURDATE()), '-12-31'),\n    YEAR(CURDATE()),\n    'open',\n    MIN(id)\nFROM users\nWHERE EXISTS (SELECT 1 FROM users LIMIT 1);\n\n-- ============================================================================\n-- Social Media Sharing Integration\n-- ============================================================================\nINSERT INTO organization_settings (category, setting_key, setting_value, setting_type, description) VALUES\n('social_media', 'facebook_enabled', '0', 'boolean', 'Habilitar compartir en Facebook'),\n('social_media', 'facebook_app_id', '', 'text', 'Facebook App ID para compartir contenido'),\n('social_media', 'twitter_enabled', '0', 'boolean', 'Habilitar compartir en Twitter/X'),\n('social_media', 'linkedin_enabled', '0', 'boolean', 'Habilitar compartir en LinkedIn'),\n('social_media', 'instagram_enabled', '0', 'boolean', 'Habilitar compartir en Instagram'),\n('social_media', 'share_default_image', '', 'text', 'URL de imagen por defecto para compartir'),\n('social_media', 'share_site_name', '', 'text', 'Nombre del sitio para metadatos Open Graph'),\n('social_media', 'share_description', '', 'text', 'Descripción por defecto para compartir')\nON DUPLICATE KEY UPDATE setting_key=setting_key;\n\n-- ============================================================================\n-- MÓDULO DE DOCUMENTOS MEJORADO\n-- ============================================================================\n-- Mejoras: Versionado, Carpetas, Tags, Metadatos, Comentarios,\n--          Soft Delete, Compartir por enlace y Auditoría completa\n-- ============================================================================\n\n-- Modificaciones a la tabla documents existente\nALTER TABLE `documents`\nADD COLUMN IF NOT EXISTS `version` INT DEFAULT 1 AFTER `downloads`,\nADD COLUMN IF NOT EXISTS `parent_document_id` INT DEFAULT NULL AFTER `version`,\nADD COLUMN IF NOT EXISTS `is_latest_version` BOOLEAN DEFAULT TRUE AFTER `parent_document_id`,\nADD COLUMN IF NOT EXISTS `deleted_at` DATETIME NULL AFTER `updated_at`,\nADD COLUMN IF NOT EXISTS `deleted_by` INT NULL AFTER `deleted_at`,\nADD COLUMN IF NOT EXISTS `folder_id` INT DEFAULT NULL AFTER `category_id`,\nADD COLUMN IF NOT EXISTS `file_extension` VARCHAR(10) AFTER `file_type`,\nADD COLUMN IF NOT EXISTS `mime_type_verified` VARCHAR(100) AFTER `file_extension`,\nADD COLUMN IF NOT EXISTS `public_token` VARCHAR(64) UNIQUE DEFAULT NULL AFTER `is_public`,\nADD COLUMN IF NOT EXISTS `token_expires_at` DATETIME NULL AFTER `public_token`,\nADD COLUMN IF NOT EXISTS `public_download_limit` INT NULL COMMENT 'Límite de descargas públicas (NULL = ilimitado)' AFTER `token_expires_at`,\nADD COLUMN IF NOT EXISTS `public_downloads` INT DEFAULT 0 COMMENT 'Contador de descargas públicas' AFTER `public_download_limit`,\nADD COLUMN IF NOT EXISTS `public_enabled` BOOLEAN DEFAULT FALSE COMMENT 'Si el enlace público está activo' AFTER `public_downloads`,\nADD COLUMN IF NOT EXISTS `public_created_at` DATETIME NULL COMMENT 'Fecha de creación del enlace público' AFTER `public_enabled`,\nADD COLUMN IF NOT EXISTS `public_created_by` INT NULL COMMENT 'Usuario que creó el enlace público' AFTER `public_created_at`,\nADD COLUMN IF NOT EXISTS `public_last_access` DATETIME NULL COMMENT 'Última vez que se accedió al enlace' AFTER `public_created_by`,\nADD COLUMN IF NOT EXISTS `status` ENUM('draft', 'published', 'archived') DEFAULT 'published' AFTER `is_public`,\nADD COLUMN IF NOT EXISTS `extracted_text` LONGTEXT AFTER `description`;\n\n-- Agregar índices para optimizar consultas\nSET @exist := (SELECT COUNT(*) FROM information_schema.statistics WHERE table_schema = DATABASE() AND table_name = 'documents' AND index_name = 'idx_folder');\nSET @sqlstmt := IF(@exist = 0, 'ALTER TABLE documents ADD INDEX idx_folder (folder_id)', 'SELECT \"Index already exists\"');\nPREPARE stmt FROM @sqlstmt; EXECUTE stmt; DEALLOCATE PREPARE stmt;\n\nSET @exist := (SELECT COUNT(*) FROM information_schema.statistics WHERE table_schema = DATABASE() AND table_name = 'documents' AND index_name = 'idx_parent');\nSET @sqlstmt := IF(@exist = 0, 'ALTER TABLE documents ADD INDEX idx_parent (parent_document_id)', 'SELECT \"Index already exists\"');\nPREPARE stmt FROM @sqlstmt; EXECUTE stmt; DEALLOCATE PREPARE stmt;\n\nSET @exist := (SELECT COUNT(*) FROM information_schema.statistics WHERE table_schema = DATABASE() AND table_name = 'documents' AND index_name = 'idx_deleted');\nSET @sqlstmt := IF(@exist = 0, 'ALTER TABLE documents ADD INDEX idx_deleted (deleted_at)', 'SELECT \"Index already exists\"');\nPREPARE stmt FROM @sqlstmt; EXECUTE stmt; DEALLOCATE PREPARE stmt;\n\nSET @exist := (SELECT COUNT(*) FROM information_schema.statistics WHERE table_schema = DATABASE() AND table_name = 'documents' AND index_name = 'idx_status');\nSET @sqlstmt := IF(@exist = 0, 'ALTER TABLE documents ADD INDEX idx_status (status)', 'SELECT \"Index already exists\"');\nPREPARE stmt FROM @sqlstmt; EXECUTE stmt; DEALLOCATE PREPARE stmt;\n\nSET @exist := (SELECT COUNT(*) FROM information_schema.statistics WHERE table_schema = DATABASE() AND table_name = 'documents' AND index_name = 'idx_version');\nSET @sqlstmt := IF(@exist = 0, 'ALTER TABLE documents ADD INDEX idx_version (version, is_latest_version)', 'SELECT \"Index already exists\"');\nPREPARE stmt FROM @sqlstmt; EXECUTE stmt; DEALLOCATE PREPARE stmt;\n\nSET @exist := (SELECT COUNT(*) FROM information_schema.statistics WHERE table_schema = DATABASE() AND table_name = 'documents' AND index_name = 'idx_public_token');\nSET @sqlstmt := IF(@exist = 0, 'ALTER TABLE documents ADD INDEX idx_public_token (public_token)', 'SELECT \"Index already exists\"');\nPREPARE stmt FROM @sqlstmt; EXECUTE stmt; DEALLOCATE PREPARE stmt;\n\nSET @exist := (SELECT COUNT(*) FROM information_schema.statistics WHERE table_schema = DATABASE() AND table_name = 'documents' AND index_name = 'idx_public_enabled');\nSET @sqlstmt := IF(@exist = 0, 'ALTER TABLE documents ADD INDEX idx_public_enabled (public_enabled)', 'SELECT \"Index already exists\"');\nPREPARE stmt FROM @sqlstmt; EXECUTE stmt; DEALLOCATE PREPARE stmt;\n\nSET @exist := (SELECT COUNT(*) FROM information_schema.statistics WHERE table_schema = DATABASE() AND table_name = 'documents' AND index_name = 'idx_token_expires');\nSET @sqlstmt := IF(@exist = 0, 'ALTER TABLE documents ADD INDEX idx_token_expires (token_expires_at)', 'SELECT \"Index already exists\"');\nPREPARE stmt FROM @sqlstmt; EXECUTE stmt; DEALLOCATE PREPARE stmt;\n\n-- Tabla de historial de versiones\nCREATE TABLE IF NOT EXISTS `document_versions` (\n    `id` INT AUTO_INCREMENT PRIMARY KEY,\n    `document_id` INT NOT NULL COMMENT 'ID del documento padre',\n    `version_number` INT NOT NULL COMMENT 'Número de versión',\n    `file_name` VARCHAR(255) NOT NULL COMMENT 'Nombre original del archivo',\n    `file_path` VARCHAR(500) NOT NULL COMMENT 'Ruta del archivo en servidor',\n    `file_size` INT NOT NULL COMMENT 'Tamaño en bytes',\n    `file_type` VARCHAR(100) NOT NULL COMMENT 'MIME type',\n    `uploaded_by` INT NOT NULL COMMENT 'Usuario que subió esta versión',\n    `change_notes` TEXT COMMENT 'Notas sobre los cambios en esta versión',\n    `created_at` TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (`document_id`) REFERENCES `documents`(`id`) ON DELETE CASCADE,\n    FOREIGN KEY (`uploaded_by`) REFERENCES `users`(`id`) ON DELETE CASCADE,\n    INDEX `idx_document_version` (`document_id`, `version_number`),\n    INDEX `idx_created` (`created_at`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='Historial de versiones de documentos';\n\n-- Tabla de carpetas jerárquicas\nCREATE TABLE IF NOT EXISTS `document_folders` (\n    `id` INT AUTO_INCREMENT PRIMARY KEY,\n    `name` VARCHAR(100) NOT NULL COMMENT 'Nombre de la carpeta',\n    `description` TEXT COMMENT 'Descripción de la carpeta',\n    `parent_id` INT DEFAULT NULL COMMENT 'ID de la carpeta padre (NULL = raíz)',\n    `path` VARCHAR(500) COMMENT 'Ruta completa ej: /Estatutos/2024',\n    `level` INT DEFAULT 0 COMMENT 'Nivel de profundidad (0 = raíz)',\n    `color` VARCHAR(20) DEFAULT '#6366f1' COMMENT 'Color para UI',\n    `icon` VARCHAR(50) DEFAULT 'fa-folder' COMMENT 'Icono FontAwesome',\n    `created_by` INT NOT NULL COMMENT 'Usuario que creó la carpeta',\n    `created_at` TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    `updated_at` TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (`parent_id`) REFERENCES `document_folders`(`id`) ON DELETE CASCADE,\n    FOREIGN KEY (`created_by`) REFERENCES `users`(`id`) ON DELETE CASCADE,\n    INDEX `idx_parent` (`parent_id`),\n    INDEX `idx_path` (`path`),\n    INDEX `idx_level` (`level`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='Carpetas para organizar documentos';\n\n-- Tabla de etiquetas libres\nCREATE TABLE IF NOT EXISTS `document_tags` (\n    `id` INT AUTO_INCREMENT PRIMARY KEY,\n    `name` VARCHAR(50) NOT NULL UNIQUE COMMENT 'Nombre de la etiqueta',\n    `slug` VARCHAR(50) NOT NULL UNIQUE COMMENT 'Slug para URLs',\n    `color` VARCHAR(20) DEFAULT '#6366f1' COMMENT 'Color hex para UI',\n    `description` TEXT COMMENT 'Descripción de la etiqueta',\n    `usage_count` INT DEFAULT 0 COMMENT 'Contador de uso',\n    `created_at` TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    `updated_at` TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX `idx_slug` (`slug`),\n    INDEX `idx_usage` (`usage_count`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='Etiquetas para clasificar documentos';\n\n-- Tabla relacional muchos a muchos: documentos ↔ tags\nCREATE TABLE IF NOT EXISTS `document_tag_rel` (\n    `document_id` INT NOT NULL,\n    `tag_id` INT NOT NULL,\n    `created_at` TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    PRIMARY KEY (`document_id`, `tag_id`),\n    FOREIGN KEY (`document_id`) REFERENCES `documents`(`id`) ON DELETE CASCADE,\n    FOREIGN KEY (`tag_id`) REFERENCES `document_tags`(`id`) ON DELETE CASCADE,\n    INDEX `idx_tag` (`tag_id`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='Relación documentos-etiquetas';\n\n-- Tabla de campos personalizados\nCREATE TABLE IF NOT EXISTS `document_metadata` (\n    `id` INT AUTO_INCREMENT PRIMARY KEY,\n    `document_id` INT NOT NULL COMMENT 'ID del documento',\n    `meta_key` VARCHAR(100) NOT NULL COMMENT 'Clave del metadato (ej: autor, expediente)',\n    `meta_value` TEXT COMMENT 'Valor del metadato',\n    `created_at` TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    `updated_at` TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (`document_id`) REFERENCES `documents`(`id`) ON DELETE CASCADE,\n    INDEX `idx_document_key` (`document_id`, `meta_key`),\n    INDEX `idx_meta_key` (`meta_key`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='Metadatos personalizados de documentos';\n\n-- Tabla de comentarios en documentos\nCREATE TABLE IF NOT EXISTS `document_comments` (\n    `id` INT AUTO_INCREMENT PRIMARY KEY,\n    `document_id` INT NOT NULL COMMENT 'ID del documento comentado',\n    `user_id` INT NOT NULL COMMENT 'Usuario que comentó',\n    `comment` TEXT NOT NULL COMMENT 'Texto del comentario',\n    `parent_comment_id` INT DEFAULT NULL COMMENT 'ID del comentario padre (para respuestas)',\n    `created_at` TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    `updated_at` TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (`document_id`) REFERENCES `documents`(`id`) ON DELETE CASCADE,\n    FOREIGN KEY (`user_id`) REFERENCES `users`(`id`) ON DELETE CASCADE,\n    FOREIGN KEY (`parent_comment_id`) REFERENCES `document_comments`(`id`) ON DELETE CASCADE,\n    INDEX `idx_document` (`document_id`),\n    INDEX `idx_user` (`user_id`),\n    INDEX `idx_parent` (`parent_comment_id`),\n    INDEX `idx_created` (`created_at`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='Comentarios en documentos';\n\n-- Tabla de compartir por enlace público\nCREATE TABLE IF NOT EXISTS `document_shares` (\n    `id` INT AUTO_INCREMENT PRIMARY KEY,\n    `document_id` INT NOT NULL COMMENT 'ID del documento compartido',\n    `token` VARCHAR(64) UNIQUE NOT NULL COMMENT 'Token único para acceso',\n    `password_hash` VARCHAR(255) DEFAULT NULL COMMENT 'Hash de contraseña opcional',\n    `expires_at` DATETIME DEFAULT NULL COMMENT 'Fecha de expiración del enlace',\n    `max_downloads` INT DEFAULT NULL COMMENT 'Máximo de descargas permitidas',\n    `download_count` INT DEFAULT 0 COMMENT 'Contador de descargas realizadas',\n    `is_active` BOOLEAN DEFAULT TRUE COMMENT 'Si el enlace está activo',\n    `created_by` INT NOT NULL COMMENT 'Usuario que compartió',\n    `created_at` TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    `last_accessed_at` DATETIME NULL COMMENT 'Última vez que se accedió',\n    FOREIGN KEY (`document_id`) REFERENCES `documents`(`id`) ON DELETE CASCADE,\n    FOREIGN KEY (`created_by`) REFERENCES `users`(`id`) ON DELETE CASCADE,\n    INDEX `idx_token` (`token`),\n    INDEX `idx_expires` (`expires_at`),\n    INDEX `idx_active` (`is_active`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='Enlaces públicos para compartir documentos';\n\n-- Tabla de log de actividad detallado\nCREATE TABLE IF NOT EXISTS `document_activity_log` (\n    `id` INT AUTO_INCREMENT PRIMARY KEY,\n    `document_id` INT NOT NULL COMMENT 'ID del documento',\n    `user_id` INT DEFAULT NULL COMMENT 'Usuario que realizó la acción',\n    `action` ENUM('view','download','edit','delete','restore','share','comment','upload_version','uploaded','created','updated','moved','copied','favorited','unfavorited','previewed','public_link_created','public_link_revoked','trashed') NOT NULL COMMENT 'Tipo de acción',\n    `ip_address` VARCHAR(45) DEFAULT NULL COMMENT 'IP del usuario',\n    `user_agent` TEXT DEFAULT NULL COMMENT 'User agent del navegador',\n    `details` TEXT COMMENT 'Detalles adicionales en JSON',\n    `created_at` TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (`document_id`) REFERENCES `documents`(`id`) ON DELETE CASCADE,\n    FOREIGN KEY (`user_id`) REFERENCES `users`(`id`) ON DELETE SET NULL,\n    INDEX `idx_document` (`document_id`),\n    INDEX `idx_user` (`user_id`),\n    INDEX `idx_action` (`action`),\n    INDEX `idx_created` (`created_at`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='Log detallado de actividad en documentos';\n\n-- Tabla de documentos favoritos por usuario\nCREATE TABLE IF NOT EXISTS `document_favorites` (\n    `user_id` INT NOT NULL COMMENT 'Usuario',\n    `document_id` INT NOT NULL COMMENT 'Documento marcado como favorito',\n    `created_at` TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    PRIMARY KEY (`user_id`, `document_id`),\n    FOREIGN KEY (`user_id`) REFERENCES `users`(`id`) ON DELETE CASCADE,\n    FOREIGN KEY (`document_id`) REFERENCES `documents`(`id`) ON DELETE CASCADE,\n    INDEX `idx_document` (`document_id`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='Documentos favoritos de usuarios';\n\n-- Tabla de log de accesos públicos\nCREATE TABLE IF NOT EXISTS `document_public_access_log` (\n    `id` INT AUTO_INCREMENT PRIMARY KEY,\n    `document_id` INT NOT NULL,\n    `access_token` VARCHAR(64) NOT NULL,\n    `ip_address` VARCHAR(45) NOT NULL,\n    `user_agent` TEXT NULL,\n    `referer` VARCHAR(255) NULL,\n    `downloaded` BOOLEAN DEFAULT FALSE,\n    `access_date` DATETIME DEFAULT CURRENT_TIMESTAMP,\n    INDEX `idx_document_id` (`document_id`),\n    INDEX `idx_access_token` (`access_token`),\n    INDEX `idx_access_date` (`access_date`),\n    FOREIGN KEY (`document_id`) REFERENCES `documents`(`id`) ON DELETE CASCADE\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;\n\n-- Insertar carpetas por defecto\nINSERT IGNORE INTO `document_folders` (`name`, `description`, `parent_id`, `path`, `level`, `color`, `icon`, `created_by`) VALUES\n('Estatutos', 'Estatutos y normativas de la asociación', NULL, '/Estatutos', 0, '#6366f1', 'fa-balance-scale', 1),\n('Actas', 'Actas de reuniones y asambleas', NULL, '/Actas', 0, '#10b981', 'fa-file-signature', 1),\n('Informes', 'Informes y reportes', NULL, '/Informes', 0, '#f59e0b', 'fa-chart-line', 1),\n('Convocatorias', 'Convocatorias de eventos y reuniones', NULL, '/Convocatorias', 0, '#ef4444', 'fa-bell', 1),\n('Certificados', 'Certificados emitidos', NULL, '/Certificados', 0, '#3b82f6', 'fa-certificate', 1),\n('Contratos', 'Contratos y acuerdos', NULL, '/Contratos', 0, '#8b5cf6', 'fa-file-contract', 1),\n('Facturas', 'Facturas y documentos fiscales', NULL, '/Facturas', 0, '#ec4899', 'fa-file-invoice', 1),\n('General', 'Documentos generales', NULL, '/General', 0, '#94a3b8', 'fa-folder', 1);\n\n-- Insertar tags por defecto\nINSERT IGNORE INTO `document_tags` (`name`, `slug`, `color`, `description`) VALUES\n('Urgente', 'urgente', '#ef4444', 'Documentos que requieren atención inmediata'),\n('Importante', 'importante', '#f59e0b', 'Documentos de alta prioridad'),\n('Revisión', 'revision', '#3b82f6', 'Documentos pendientes de revisión'),\n('Aprobado', 'aprobado', '#10b981', 'Documentos aprobados'),\n('Borrador', 'borrador', '#6b7280', 'Documentos en borrador'),\n('Confidencial', 'confidencial', '#7c3aed', 'Documentos confidenciales'),\n('Público', 'publico', '#06b6d4', 'Documentos de acceso público'),\n('Archivo', 'archivo', '#64748b', 'Documentos archivados');\n\n-- ============================================================================\n-- VISTAS, TRIGGERS Y PROCEDIMIENTOS ALMACENADOS\n-- ============================================================================\n\n-- Vista de documentos activos (no eliminados)\nCREATE OR REPLACE VIEW `v_documents_active` AS\nSELECT \n    d.*,\n    u.name as uploaded_by_name,\n    u.email as uploaded_by_email,\n    f.name as folder_name,\n    f.path as folder_path,\n    GROUP_CONCAT(DISTINCT dc.name SEPARATOR ', ') as category_names,\n    GROUP_CONCAT(DISTINCT dt.name SEPARATOR ', ') as tag_names,\n    COUNT(DISTINCT comm.id) as comment_count,\n    COUNT(DISTINCT dv.id) as version_count\nFROM documents d\nLEFT JOIN users u ON d.uploaded_by = u.id\nLEFT JOIN document_folders f ON d.folder_id = f.id\nLEFT JOIN document_category_rel dcr ON d.id = dcr.document_id\nLEFT JOIN document_categories dc ON dcr.category_id = dc.id\nLEFT JOIN document_tag_rel dtr ON d.id = dtr.document_id\nLEFT JOIN document_tags dt ON dtr.tag_id = dt.id\nLEFT JOIN document_comments comm ON d.id = comm.document_id\nLEFT JOIN document_versions dv ON d.id = dv.document_id\nWHERE d.deleted_at IS NULL\nGROUP BY d.id;\n\n-- Vista de documentos más descargados\nCREATE OR REPLACE VIEW `v_documents_most_downloaded` AS\nSELECT \n    d.id,\n    d.title,\n    d.downloads,\n    d.file_name,\n    d.created_at,\n    u.name as uploaded_by,\n    GROUP_CONCAT(DISTINCT dc.name SEPARATOR ', ') as categories\nFROM documents d\nLEFT JOIN users u ON d.uploaded_by = u.id\nLEFT JOIN document_category_rel dcr ON d.id = dcr.document_id\nLEFT JOIN document_categories dc ON dcr.category_id = dc.id\nWHERE d.deleted_at IS NULL\nGROUP BY d.id\nORDER BY d.downloads DESC\nLIMIT 20;\n\n-- Vista de actividad reciente\nCREATE OR REPLACE VIEW `v_document_recent_activity` AS\nSELECT \n    dal.id,\n    dal.document_id,\n    d.title as document_title,\n    dal.user_id,\n    u.name as username,\n    dal.action,\n    dal.created_at,\n    dal.details\nFROM document_activity_log dal\nLEFT JOIN documents d ON dal.document_id = d.id\nLEFT JOIN users u ON dal.user_id = u.id\nORDER BY dal.created_at DESC\nLIMIT 100;\n\n-- Vista de documentos públicos activos\nCREATE OR REPLACE VIEW `v_public_documents_active` AS\nSELECT \n    d.id,\n    d.title,\n    d.file_name,\n    d.file_size,\n    d.public_token,\n    d.token_expires_at,\n    d.public_download_limit,\n    d.public_downloads,\n    d.public_created_at,\n    d.public_last_access,\n    u.name as created_by_name,\n    CASE \n        WHEN d.public_download_limit IS NOT NULL AND d.public_downloads >= d.public_download_limit THEN 'limit_reached'\n        WHEN d.token_expires_at IS NOT NULL AND d.token_expires_at < NOW() THEN 'expired'\n        ELSE 'active'\n    END as status,\n    CASE \n        WHEN d.public_download_limit IS NOT NULL \n        THEN CONCAT(d.public_downloads, '/', d.public_download_limit)\n        ELSE CONCAT(d.public_downloads, '/∞')\n    END as download_stats\nFROM documents d\nLEFT JOIN users u ON d.public_created_by = u.id\nWHERE d.public_enabled = TRUE\n    AND d.deleted_at IS NULL;\n\n-- Triggers para mantener contadores actualizados\nDELIMITER //\n\nDROP TRIGGER IF EXISTS `after_document_tag_insert`//\nCREATE TRIGGER `after_document_tag_insert` AFTER INSERT ON `document_tag_rel`\nFOR EACH ROW\nBEGIN\n    UPDATE document_tags SET usage_count = usage_count + 1 WHERE id = NEW.tag_id;\nEND//\n\nDROP TRIGGER IF EXISTS `after_document_tag_delete`//\nCREATE TRIGGER `after_document_tag_delete` AFTER DELETE ON `document_tag_rel`\nFOR EACH ROW\nBEGIN\n    UPDATE document_tags SET usage_count = usage_count - 1 WHERE id = OLD.tag_id;\nEND//\n\n-- Procedimiento para limpiar enlaces compartidos expirados\nDROP PROCEDURE IF EXISTS `sp_cleanup_expired_shares`//\nCREATE PROCEDURE `sp_cleanup_expired_shares`()\nBEGIN\n    UPDATE document_shares \n    SET is_active = FALSE \n    WHERE expires_at IS NOT NULL \n    AND expires_at < NOW() \n    AND is_active = TRUE;\n    \n    -- También desactivar los tokens públicos expirados\n    UPDATE documents \n    SET public_enabled = FALSE\n    WHERE public_enabled = TRUE\n        AND token_expires_at IS NOT NULL\n        AND token_expires_at < NOW();\n    \n    SELECT ROW_COUNT() as cleaned_shares;\nEND//\n\n-- Procedimiento para mover documento a papelera\nDROP PROCEDURE IF EXISTS `sp_trash_document`//\nCREATE PROCEDURE `sp_trash_document`(IN doc_id INT, IN user_id INT)\nBEGIN\n    UPDATE documents \n    SET deleted_at = NOW(), deleted_by = user_id \n    WHERE id = doc_id AND deleted_at IS NULL;\n    \n    INSERT INTO document_activity_log (document_id, user_id, action, details)\n    VALUES (doc_id, user_id, 'trashed', 'Documento movido a papelera');\n    \n    SELECT ROW_COUNT() > 0 as success;\nEND//\n\n-- Procedimiento para restaurar documento de papelera\nDROP PROCEDURE IF EXISTS `sp_restore_document`//\nCREATE PROCEDURE `sp_restore_document`(IN doc_id INT, IN user_id INT)\nBEGIN\n    UPDATE documents \n    SET deleted_at = NULL, deleted_by = NULL \n    WHERE id = doc_id AND deleted_at IS NOT NULL;\n    \n    INSERT INTO document_activity_log (document_id, user_id, action, details)\n    VALUES (doc_id, user_id, 'restore', 'Documento restaurado de papelera');\n    \n    SELECT ROW_COUNT() > 0 as success;\nEND//\n\n-- Procedimiento para generar token público\nDROP PROCEDURE IF EXISTS `sp_generate_public_token`//\nCREATE PROCEDURE `sp_generate_public_token`(\n    IN p_document_id INT,\n    IN p_user_id INT,\n    IN p_expires_at DATETIME,\n    IN p_download_limit INT,\n    OUT p_token VARCHAR(64)\n)\nBEGIN\n    DECLARE v_token VARCHAR(64);\n    DECLARE v_exists INT;\n    \n    -- Generar token único\n    REPEAT\n        SET v_token = SHA2(CONCAT(p_document_id, NOW(), RAND(), UUID()), 256);\n        SELECT COUNT(*) INTO v_exists FROM documents WHERE public_token = v_token;\n    UNTIL v_exists = 0 END REPEAT;\n    \n    -- Actualizar documento con el token\n    UPDATE documents \n    SET public_token = v_token,\n        token_expires_at = p_expires_at,\n        public_download_limit = p_download_limit,\n        public_downloads = 0,\n        public_enabled = TRUE,\n        public_created_at = NOW(),\n        public_created_by = p_user_id,\n        public_last_access = NULL\n    WHERE id = p_document_id;\n    \n    INSERT INTO document_activity_log (document_id, action, user_id, details)\n    VALUES (p_document_id, 'public_link_created', p_user_id, \n            JSON_OBJECT('expires_at', p_expires_at, 'download_limit', p_download_limit));\n    \n    SET p_token = v_token;\nEND//\n\n-- Procedimiento para revocar enlace público\nDROP PROCEDURE IF EXISTS `sp_revoke_public_token`//\nCREATE PROCEDURE `sp_revoke_public_token`(\n    IN p_document_id INT,\n    IN p_user_id INT\n)\nBEGIN\n    UPDATE documents \n    SET public_enabled = FALSE\n    WHERE id = p_document_id;\n    \n    INSERT INTO document_activity_log (document_id, action, user_id, details)\n    VALUES (p_document_id, 'public_link_revoked', p_user_id, NULL);\nEND//\n\n-- Función para verificar si un token público es válido\nDROP FUNCTION IF EXISTS `fn_is_public_token_valid`//\nCREATE FUNCTION `fn_is_public_token_valid`(\n    p_token VARCHAR(64)\n) RETURNS BOOLEAN\nDETERMINISTIC\nREADS SQL DATA\nBEGIN\n    DECLARE v_valid BOOLEAN DEFAULT FALSE;\n    \n    SELECT \n        (public_enabled = TRUE\n        AND deleted_at IS NULL\n        AND (token_expires_at IS NULL OR token_expires_at > NOW())\n        AND (public_download_limit IS NULL OR public_downloads < public_download_limit))\n    INTO v_valid\n    FROM documents\n    WHERE public_token = p_token;\n    \n    RETURN COALESCE(v_valid, FALSE);\nEND//\n\nDELIMITER ;\n","epoch":70,"telemetryInfo":{}}],["file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql::request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356",{"uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","content":"","epoch":73,"telemetryInfo":{}}],["file:///root/Documentos/github/GestionSocios/src/Models/Supplier.php::request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356",{"uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/Supplier.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/Supplier.php","path":"/root/Documentos/github/GestionSocios/src/Models/Supplier.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","content":"<?php\n\nclass Supplier {\n    private $conn;\n    private $table_name = \"suppliers\";\n\n    public $id;\n    public $name;\n    public $cif_nif;\n    public $email;\n    public $phone;\n    public $address;\n    public $website;\n    public $logo_path;\n    public $notes;\n    public $created_at;\n\n    public function __construct($db) {\n        $this->conn = $db;\n    }\n\n    public function create() {\n        $query = \"INSERT INTO \" . $this->table_name . \"\n                SET\n                    name = :name,\n                    cif_nif = :cif_nif,\n                    email = :email,\n                    phone = :phone,\n                    address = :address,\n                    website = :website,\n                    logo_path = :logo_path,\n                    notes = :notes\";\n\n        $stmt = $this->conn->prepare($query);\n\n        // Sanitize\n        $this->name = htmlspecialchars(strip_tags($this->name));\n        $this->cif_nif = htmlspecialchars(strip_tags($this->cif_nif));\n        $this->email = htmlspecialchars(strip_tags($this->email));\n        $this->phone = htmlspecialchars(strip_tags($this->phone));\n        $this->address = htmlspecialchars(strip_tags($this->address));\n        $this->website = htmlspecialchars(strip_tags($this->website));\n        $this->logo_path = htmlspecialchars(strip_tags($this->logo_path));\n        $this->notes = htmlspecialchars(strip_tags($this->notes));\n\n        // Bind values\n        $stmt->bindParam(\":name\", $this->name);\n        $stmt->bindParam(\":cif_nif\", $this->cif_nif);\n        $stmt->bindParam(\":email\", $this->email);\n        $stmt->bindParam(\":phone\", $this->phone);\n        $stmt->bindParam(\":address\", $this->address);\n        $stmt->bindParam(\":website\", $this->website);\n        $stmt->bindParam(\":logo_path\", $this->logo_path);\n        $stmt->bindParam(\":notes\", $this->notes);\n\n        if ($stmt->execute()) {\n            $this->id = $this->conn->lastInsertId();\n            return true;\n        }\n\n        return false;\n    }\n\n    public function readAll() {\n        $query = \"SELECT * FROM \" . $this->table_name . \" ORDER BY name ASC\";\n        $stmt = $this->conn->prepare($query);\n        $stmt->execute();\n        return $stmt;\n    }\n\n    public function readOne() {\n        $query = \"SELECT * FROM \" . $this->table_name . \" WHERE id = ? LIMIT 0,1\";\n        $stmt = $this->conn->prepare($query);\n        $stmt->bindParam(1, $this->id);\n        $stmt->execute();\n\n        $row = $stmt->fetch(PDO::FETCH_ASSOC);\n\n        if ($row) {\n            $this->name = $row['name'];\n            $this->cif_nif = $row['cif_nif'];\n            $this->email = $row['email'];\n            $this->phone = $row['phone'];\n            $this->address = $row['address'];\n            $this->website = $row['website'];\n            $this->logo_path = $row['logo_path'];\n            $this->notes = $row['notes'];\n            $this->created_at = $row['created_at'];\n            return true;\n        }\n\n        return false;\n    }\n\n    public function update() {\n        $query = \"UPDATE \" . $this->table_name . \"\n                SET\n                    name = :name,\n                    cif_nif = :cif_nif,\n                    email = :email,\n                    phone = :phone,\n                    address = :address,\n                    website = :website,\n                    logo_path = :logo_path,\n                    notes = :notes\n                WHERE id = :id\";\n\n        $stmt = $this->conn->prepare($query);\n\n        // Sanitize\n        $this->name = htmlspecialchars(strip_tags($this->name));\n        $this->cif_nif = htmlspecialchars(strip_tags($this->cif_nif));\n        $this->email = htmlspecialchars(strip_tags($this->email));\n        $this->phone = htmlspecialchars(strip_tags($this->phone));\n        $this->address = htmlspecialchars(strip_tags($this->address));\n        $this->website = htmlspecialchars(strip_tags($this->website));\n        $this->logo_path = htmlspecialchars(strip_tags($this->logo_path));\n        $this->notes = htmlspecialchars(strip_tags($this->notes));\n        $this->id = htmlspecialchars(strip_tags($this->id));\n\n        // Bind values\n        $stmt->bindParam(\":name\", $this->name);\n        $stmt->bindParam(\":cif_nif\", $this->cif_nif);\n        $stmt->bindParam(\":email\", $this->email);\n        $stmt->bindParam(\":phone\", $this->phone);\n        $stmt->bindParam(\":address\", $this->address);\n        $stmt->bindParam(\":website\", $this->website);\n        $stmt->bindParam(\":logo_path\", $this->logo_path);\n        $stmt->bindParam(\":notes\", $this->notes);\n        $stmt->bindParam(\":id\", $this->id);\n\n        if ($stmt->execute()) {\n            return true;\n        }\n\n        return false;\n    }\n\n    public function delete() {\n        $query = \"DELETE FROM \" . $this->table_name . \" WHERE id = ?\";\n        $stmt = $this->conn->prepare($query);\n        $this->id = htmlspecialchars(strip_tags($this->id));\n        $stmt->bindParam(1, $this->id);\n\n        if ($stmt->execute()) {\n            return true;\n        }\n\n        return false;\n    }\n}\n?>\n","epoch":231,"telemetryInfo":{}}],["file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php::request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356",{"uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","content":"","epoch":240,"telemetryInfo":{}}],["file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php::request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356",{"uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","content":"","epoch":419,"telemetryInfo":{}}],["file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php::request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356",{"uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","content":"","epoch":638,"telemetryInfo":{}}],["file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php::request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356",{"uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","content":"","epoch":929,"telemetryInfo":{}}],["file:///root/Documentos/github/GestionSocios/src/Models/SupplierInvoice.php::request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356",{"uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierInvoice.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierInvoice.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierInvoice.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","content":"<?php\n\nclass SupplierInvoice {\n    private $conn;\n    private $table_name = \"supplier_invoices\";\n\n    public $id;\n    public $supplier_id;\n    public $invoice_number;\n    public $invoice_date;\n    public $amount;\n    public $status;\n    public $file_path;\n    public $notes;\n    public $created_at;\n\n    public function __construct($db) {\n        $this->conn = $db;\n    }\n\n    public function create() {\n        $query = \"INSERT INTO \" . $this->table_name . \"\n                SET\n                    supplier_id = :supplier_id,\n                    invoice_number = :invoice_number,\n                    invoice_date = :invoice_date,\n                    amount = :amount,\n                    status = :status,\n                    file_path = :file_path,\n                    notes = :notes\";\n\n        $stmt = $this->conn->prepare($query);\n\n        // Sanitize\n        $this->supplier_id = htmlspecialchars(strip_tags($this->supplier_id));\n        $this->invoice_number = htmlspecialchars(strip_tags($this->invoice_number));\n        $this->invoice_date = htmlspecialchars(strip_tags($this->invoice_date));\n        $this->amount = htmlspecialchars(strip_tags($this->amount));\n        $this->status = htmlspecialchars(strip_tags($this->status));\n        $this->file_path = htmlspecialchars(strip_tags($this->file_path));\n        $this->notes = htmlspecialchars(strip_tags($this->notes));\n\n        // Bind values\n        $stmt->bindParam(\":supplier_id\", $this->supplier_id);\n        $stmt->bindParam(\":invoice_number\", $this->invoice_number);\n        $stmt->bindParam(\":invoice_date\", $this->invoice_date);\n        $stmt->bindParam(\":amount\", $this->amount);\n        $stmt->bindParam(\":status\", $this->status);\n        $stmt->bindParam(\":file_path\", $this->file_path);\n        $stmt->bindParam(\":notes\", $this->notes);\n\n        if ($stmt->execute()) {\n            $this->id = $this->conn->lastInsertId();\n            return true;\n        }\n\n        return false;\n    }\n\n    public function getBySupplierId($supplier_id) {\n        $query = \"SELECT * FROM \" . $this->table_name . \" WHERE supplier_id = ? ORDER BY invoice_date DESC\";\n        $stmt = $this->conn->prepare($query);\n        $stmt->bindParam(1, $supplier_id);\n        $stmt->execute();\n        return $stmt;\n    }\n\n    public function delete() {\n        $query = \"DELETE FROM \" . $this->table_name . \" WHERE id = ?\";\n        $stmt = $this->conn->prepare($query);\n        $this->id = htmlspecialchars(strip_tags($this->id));\n        $stmt->bindParam(1, $this->id);\n\n        if ($stmt->execute()) {\n            return true;\n        }\n\n        return false;\n    }\n    \n    public function readOne() {\n        $query = \"SELECT * FROM \" . $this->table_name . \" WHERE id = ? LIMIT 0,1\";\n        $stmt = $this->conn->prepare($query);\n        $stmt->bindParam(1, $this->id);\n        $stmt->execute();\n\n        $row = $stmt->fetch(PDO::FETCH_ASSOC);\n\n        if ($row) {\n            $this->supplier_id = $row['supplier_id'];\n            $this->invoice_number = $row['invoice_number'];\n            $this->invoice_date = $row['invoice_date'];\n            $this->amount = $row['amount'];\n            $this->status = $row['status'];\n            $this->file_path = $row['file_path'];\n            $this->notes = $row['notes'];\n            $this->created_at = $row['created_at'];\n            return true;\n        }\n\n        return false;\n    }\n\n    // Statistics Methods\n\n    public function getTotalAmount($year = null) {\n        $query = \"SELECT SUM(amount) as total FROM \" . $this->table_name;\n        if ($year) {\n            $query .= \" WHERE YEAR(invoice_date) = :year\";\n        }\n        \n        $stmt = $this->conn->prepare($query);\n        if ($year) {\n            $stmt->bindParam(':year', $year);\n        }\n        $stmt->execute();\n        $row = $stmt->fetch(PDO::FETCH_ASSOC);\n        return $row['total'] ?? 0;\n    }\n\n    public function getPendingAmount() {\n        $query = \"SELECT SUM(amount) as total FROM \" . $this->table_name . \" WHERE status = 'pending'\";\n        $stmt = $this->conn->prepare($query);\n        $stmt->execute();\n        $row = $stmt->fetch(PDO::FETCH_ASSOC);\n        return $row['total'] ?? 0;\n    }\n\n    public function getTopSuppliers($limit = 5, $year = null) {\n        $query = \"SELECT s.name, SUM(i.amount) as total_amount, COUNT(i.id) as invoice_count \n                  FROM \" . $this->table_name . \" i\n                  JOIN suppliers s ON i.supplier_id = s.id\";\n        \n        if ($year) {\n            $query .= \" WHERE YEAR(i.invoice_date) = :year\";\n        }\n        \n        $query .= \" GROUP BY s.id ORDER BY total_amount DESC LIMIT :limit\";\n        \n        $stmt = $this->conn->prepare($query);\n        if ($year) {\n            $stmt->bindParam(':year', $year);\n        }\n        $stmt->bindParam(':limit', $limit, PDO::PARAM_INT);\n        $stmt->execute();\n        return $stmt->fetchAll(PDO::FETCH_ASSOC);\n    }\n\n    public function getMonthlyStats($year) {\n        $query = \"SELECT MONTH(invoice_date) as month, SUM(amount) as total \n                  FROM \" . $this->table_name . \" \n                  WHERE YEAR(invoice_date) = :year \n                  GROUP BY MONTH(invoice_date) \n                  ORDER BY month ASC\";\n        \n        $stmt = $this->conn->prepare($query);\n        $stmt->bindParam(':year', $year);\n        $stmt->execute();\n        \n        $results = $stmt->fetchAll(PDO::FETCH_KEY_PAIR); // Returns [month => total]\n        \n        // Fill missing months with 0\n        $stats = [];\n        for ($i = 1; $i <= 12; $i++) {\n            $stats[$i] = $results[$i] ?? 0;\n        }\n        return $stats;\n    }\n\n    public function getRecentInvoices($limit = 5) {\n        $query = \"SELECT i.*, s.name as supplier_name \n                  FROM \" . $this->table_name . \" i\n                  JOIN suppliers s ON i.supplier_id = s.id\n                  ORDER BY i.created_at DESC LIMIT :limit\";\n        \n        $stmt = $this->conn->prepare($query);\n        $stmt->bindParam(':limit', $limit, PDO::PARAM_INT);\n        $stmt->execute();\n        return $stmt->fetchAll(PDO::FETCH_ASSOC);\n    }\n}\n?>\n","epoch":1111,"telemetryInfo":{}}],["file:///root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh::request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356",{"uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","external":"file:///root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","path":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","content":"","epoch":1118,"telemetryInfo":{}}],["file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md::request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356",{"uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","content":"","epoch":1230,"telemetryInfo":{}}],["file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md::request_27640887-3aed-4fe6-bf5f-ef087336aab4",{"uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","content":"","epoch":1777,"telemetryInfo":{}}],["file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md::request_27640887-3aed-4fe6-bf5f-ef087336aab4",{"uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","content":"","epoch":2161,"telemetryInfo":{}}],["file:///root/Documentos/github/GestionSocios/src/Views/members/list.php::request_fa5d389a-11a8-42ed-8260-fd2ccd840977",{"uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Views/members/list.php","external":"file:///root/Documentos/github/GestionSocios/src/Views/members/list.php","path":"/root/Documentos/github/GestionSocios/src/Views/members/list.php","scheme":"file"},"requestId":"request_fa5d389a-11a8-42ed-8260-fd2ccd840977","content":"<?php ob_start(); ?>\n\n<?php if (isset($_SESSION['success'])): ?>\n    <div class=\"alert alert-success\">\n        <i class=\"fas fa-check-circle\"></i>\n        <?php echo $_SESSION['success']; unset($_SESSION['success']); ?>\n    </div>\n<?php endif; ?>\n\n<?php if (isset($_SESSION['error'])): ?>\n    <div class=\"alert alert-error\">\n        <i class=\"fas fa-exclamation-circle\"></i>\n        <?php echo $_SESSION['error']; unset($_SESSION['error']); ?>\n    </div>\n<?php endif; ?>\n\n<?php if (isset($_GET['msg'])): ?>\n    <div class=\"alert alert-success\">\n        <i class=\"fas fa-check-circle\"></i>\n        <?php \n            if ($_GET['msg'] === 'deactivated') echo 'Socio dado de baja correctamente.';\n            else if ($_GET['msg'] === 'deleted') echo 'Socio eliminado correctamente.';\n            else if ($_GET['msg'] === 'marked_paid') echo 'Cuota marcada como pagada correctamente.';\n        ?>\n    </div>\n<?php endif; ?>\n\n<?php if (isset($_GET['error'])): ?>\n    <div class=\"alert alert-error\">\n        <i class=\"fas fa-exclamation-circle\"></i>\n        <?php\n            if ($_GET['error'] === 'no_fee') echo 'No hay cuota definida para el año actual. Por favor, defínela primero en la sección de Cuotas.';\n            else echo 'Error al procesar la operación.';\n        ?>\n    </div>\n<?php endif; ?>\n\n<?php\n// Obtener la cuota anual y concepto para el año actual (Optimización: Una sola consulta)\n$currentYear = date('Y');\n$feeAmount = 0;\n$feeConcept = 'Cuota Anual ' . $currentYear;\ntry {\n    $feeStmt = $GLOBALS['db']->prepare(\"SELECT amount FROM annual_fees WHERE year = ?\");\n    $feeStmt->execute([$currentYear]);\n    $feeRow = $feeStmt->fetch(PDO::FETCH_ASSOC);\n    if ($feeRow) {\n        $feeAmount = $feeRow['amount'];\n    }\n} catch (Exception $e) {}\n?>\n\n<!-- Advanced Filters -->\n<div class=\"card\" style=\"margin-bottom: 1.5rem;\">\n    <form method=\"GET\" action=\"index.php\" style=\"display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem; align-items: end;\">\n        <input type=\"hidden\" name=\"page\" value=\"members\">\n        \n        <div class=\"form-group\" style=\"margin: 0;\">\n            <label class=\"form-label\" style=\"font-size: 0.875rem;\">Buscar</label>\n            <input type=\"text\" name=\"search\" class=\"form-control\" placeholder=\"Nombre, email, teléfono...\" value=\"<?php echo htmlspecialchars($_GET['search'] ?? ''); ?>\">\n        </div>\n        \n        <div class=\"form-group\" style=\"margin: 0;\">\n            <label class=\"form-label\" style=\"font-size: 0.875rem;\">Estado</label>\n            <select name=\"status\" class=\"form-control\">\n                <option value=\"\">Todos</option>\n                <option value=\"active\" <?php echo ($_GET['status'] ?? '') === 'active' ? 'selected' : ''; ?>>Activos</option>\n                <option value=\"inactive\" <?php echo ($_GET['status'] ?? '') === 'inactive' ? 'selected' : ''; ?>>Inactivos</option>\n            </select>\n        </div>\n        \n        <div class=\"form-group\" style=\"margin: 0;\">\n            <label class=\"form-label\" style=\"font-size: 0.875rem;\">Categoría</label>\n            <select name=\"category_id\" class=\"form-control\">\n                <option value=\"\">Todas</option>\n                <option value=\"0\" <?php echo ($_GET['category_id'] ?? '') == '0' ? 'selected' : ''; ?>>Sin categoría</option>\n                <?php foreach ($categories as $cat): ?>\n                    <option value=\"<?php echo $cat['id']; ?>\" <?php echo ($_GET['category_id'] ?? '') == $cat['id'] ? 'selected' : ''; ?>>\n                        <?php echo htmlspecialchars($cat['name']); ?>\n                    </option>\n                <?php endforeach; ?>\n            </select>\n        </div>\n        \n        <div class=\"form-group\" style=\"margin: 0;\">\n            <label class=\"form-label\" style=\"font-size: 0.875rem;\">Estado de Pago</label>\n            <select name=\"payment_status\" class=\"form-control\">\n                <option value=\"\">Todos</option>\n                <option value=\"current\" <?php echo ($_GET['payment_status'] ?? '') === 'current' ? 'selected' : ''; ?>>Al Corriente</option>\n                <option value=\"delinquent\" <?php echo ($_GET['payment_status'] ?? '') === 'delinquent' ? 'selected' : ''; ?>>Pendientes</option>\n            </select>\n        </div>\n        \n        <div class=\"form-group\" style=\"margin: 0;\">\n            <label class=\"form-label\" style=\"font-size: 0.875rem;\">Año Alta (desde)</label>\n            <input type=\"number\" name=\"year_from\" class=\"form-control\" min=\"2000\" max=\"<?php echo date('Y'); ?>\" placeholder=\"Ej: 2020\" value=\"<?php echo htmlspecialchars($_GET['year_from'] ?? ''); ?>\">\n        </div>\n        \n        <div style=\"display: flex; gap: 0.5rem; align-items: end;\">\n            <button type=\"submit\" class=\"btn btn-primary\" style=\"flex: 1;\">\n                <i class=\"fas fa-filter\"></i> Filtrar\n            </button>\n            <a href=\"index.php?page=members\" class=\"btn btn-secondary\">\n                <i class=\"fas fa-times\"></i>\n            </a>\n        </div>\n    </form>\n</div>\n\n<!-- Results Summary -->\n<div style=\"display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem; padding: 0.75rem; background: var(--bg-body); border-radius: var(--radius-md);\">\n    <div style=\"font-size: 0.875rem; color: var(--text-muted);\">\n        <i class=\"fas fa-users\"></i> \n        <strong><?php echo count($members); ?></strong> socio(s) encontrado(s)\n        <?php if (!empty(array_filter($_GET, fn($v, $k) => $k !== 'page' && !empty($v), ARRAY_FILTER_USE_BOTH))): ?>\n            <span style=\"color: var(--primary-600);\">(filtrado)</span>\n        <?php endif; ?>\n    </div>\n</div>\n\n<div class=\"flex justify-between items-center mb-4\">\n    <h1>Listado de Socios</h1>\n    <div class=\"btn-group\">\n        <div class=\"dropdown\" style=\"display: inline-block; position: relative; margin-right: 0.5rem;\">\n            <button class=\"btn btn-secondary dropdown-toggle\" id=\"exportDropdown\" onclick=\"toggleExportDropdown()\">\n                <i class=\"fas fa-download\"></i> Exportar\n            </button>\n            <div class=\"dropdown-menu\" id=\"exportMenu\" style=\"display: none;\">\n                <a href=\"index.php?page=export&action=members_excel\" class=\"dropdown-item\">\n                    <i class=\"fas fa-file-excel\"></i> Excel (CSV)\n                </a>\n                <a href=\"index.php?page=export&action=members_pdf\" class=\"dropdown-item\" target=\"_blank\">\n                    <i class=\"fas fa-file-pdf\"></i> PDF (Imprimir)\n                </a>\n            </div>\n        </div>\n        <a href=\"index.php?page=members&action=create\" class=\"btn btn-primary\">\n            <i class=\"fas fa-plus\"></i> Nuevo Socio\n        </a>\n    </div>\n</div>\n\n<div class=\"card\" style=\"padding: 0; overflow: hidden;\">\n    <div class=\"table-container\" style=\"border: none; border-radius: 0;\">\n        <table class=\"table\">\n            <thead>\n                <tr>\n                    <th>Socio</th>\n                    <th>Contacto</th>\n                    <th>Categoría</th>\n                    <th>Estado</th>\n                    <th style=\"text-align: right;\">Acciones</th>\n                </tr>\n            </thead>\n            <tbody>\n                <?php if (empty($members)): ?>\n                    <tr>\n                        <td colspan=\"5\" style=\"text-align: center; padding: 2rem; color: var(--text-muted);\">No hay socios registrados.</td>\n                    </tr>\n                <?php else: ?>\n                    <?php foreach ($members as $row): ?>\n                        <tr>\n                            <td style=\"font-weight: 500; display: flex; align-items: center; gap: 1rem;\">\n                                <?php if (!empty($row['photo_url'])): ?>\n                                    <img src=\"/<?php echo htmlspecialchars($row['photo_url']); ?>\" alt=\"Foto\" style=\"width: 40px; height: 40px; object-fit: cover; border-radius: 50%;\">\n                                <?php else: ?>\n                                    <div style=\"width: 40px; height: 40px; background: var(--primary-100); color: var(--primary-700); border-radius: 50%; display: flex; align-items: center; justify-content: center;\">\n                                        <i class=\"fas fa-image\"></i>\n                                    </div>\n                                <?php endif; ?>\n                                <div>\n                                    <span style=\"font-size: 0.85rem; color: var(--text-muted);\">#<?php echo $row['id']; ?></span><br>\n                                    <?php echo htmlspecialchars($row['first_name'] . ' ' . $row['last_name']); ?>\n                                </div>\n                            </td>\n                            <td>\n                                <div style=\"font-size: 0.875rem;\">\n                                    <i class=\"fas fa-envelope\" style=\"color: var(--text-light); width: 20px;\"></i> <?php echo htmlspecialchars($row['email']); ?>\n                                </div>\n                                <div style=\"font-size: 0.875rem; margin-top: 0.25rem;\">\n                                    <i class=\"fas fa-phone\" style=\"color: var(--text-light); width: 20px;\"></i> <?php echo htmlspecialchars($row['phone']); ?>\n                                </div>\n                            </td>\n                            <td>\n                                <?php if (!empty($row['category_name'])): ?>\n                                    <span class=\"badge\" style=\"background-color: <?php echo htmlspecialchars($row['category_color'] ?? '#6b7280'); ?>; color: white;\">\n                                        <?php echo htmlspecialchars($row['category_name']); ?>\n                                    </span>\n                                <?php else: ?>\n                                    <span style=\"color: var(--text-muted); font-size: 0.875rem;\">Sin categoría</span>\n                                <?php endif; ?>\n                            </td>\n                            <td>\n                                <span class=\"badge <?php echo $row['status'] === 'active' ? 'badge-active' : 'badge-inactive'; ?>\">\n                                    <?php echo $row['status'] === 'active' ? 'Activo' : 'Inactivo'; ?>\n                                </span>\n                            </td>\n                            <td style=\"text-align: right;\">\n                                <a href=\"index.php?page=members&action=edit&id=<?php echo $row['id']; ?>\" class=\"btn btn-sm btn-warning\">\n                                    <i class=\"fas fa-edit\" title=\"Editar\"></i>\n                                </a>\n                                \n                                <?php if (!empty($row['latitude']) && !empty($row['longitude'])): ?>\n                                <a href=\"index.php?page=map#member-<?php echo $row['id']; ?>\" class=\"btn btn-sm btn-warning\" title=\"Ver en mapa\">\n                                    <i class=\"fas fa-map-marker-alt\"></i>\n                                </a>\n                                <?php endif; ?>\n                                \n                                <div style=\"display: inline-block; position: relative;\">\n                                    <button onclick=\"toggleCertMenu(<?php echo $row['id']; ?>)\" class=\"btn btn-sm btn-info\" style=\"background: #8b5cf6; border-color: #8b5cf6;\">\n                                        <i class=\"fas fa-award\" title=\"Certificados\"></i> <i class=\"fas fa-chevron-down\" style=\"font-size: 0.7rem;\"></i>\n                                    </button>\n                                    <div id=\"certMenu<?php echo $row['id']; ?>\" class=\"dropdown-menu\" style=\"display: none; position: absolute; right: 0; background: white; border: 1px solid var(--border-light); border-radius: 0.5rem; box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1); z-index: 1000; min-width: 200px; margin-top: 0.25rem;\">\n                                        <a href=\"index.php?page=certificates&action=membership&id=<?php echo $row['id']; ?>\" target=\"_blank\" class=\"dropdown-item\" style=\"display: block; padding: 0.5rem 1rem; color: var(--text-base); text-decoration: none; transition: background 0.2s;\">\n                                            <i class=\"fas fa-id-card\" style=\"width: 20px;\"></i> Certificado de Socio\n                                        </a>\n                                        <a href=\"index.php?page=certificates&action=payments&id=<?php echo $row['id']; ?>&year=<?php echo date('Y'); ?>\" target=\"_blank\" class=\"dropdown-item\" style=\"display: block; padding: 0.5rem 1rem; color: var(--text-base); text-decoration: none; transition: background 0.2s;\">\n                                            <i class=\"fas fa-hand-holding-heart\" style=\"width: 20px;\"></i> Certificado de Pagos <?php echo date('Y'); ?>\n                                        </a>\n                                        <a href=\"index.php?page=certificates&action=payments&id=<?php echo $row['id']; ?>&year=<?php echo date('Y') - 1; ?>\" target=\"_blank\" class=\"dropdown-item\" style=\"display: block; padding: 0.5rem 1rem; color: var(--text-base); text-decoration: none; transition: background 0.2s;\">\n                                            <i class=\"fas fa-hand-holding-heart\" style=\"width: 20px;\"></i> Certificado de Pagos <?php echo date('Y') - 1; ?>\n                                        </a>\n                                    </div>\n                                </div>\n                                \n                                <?php if (empty($row['has_paid_current_year'])): ?>\n                                <a href=\"index.php?page=members&action=markPaid&id=<?php echo $row['id']; ?>\"\n                                   class=\"btn btn-sm btn-primary\"\n                                   onclick=\"return confirm('¿Marcar la cuota de <?php echo $currentYear; ?> como pagada para este socio?\\nImporte: <?php echo number_format($feeAmount, 2); ?> €\\nConcepto: <?php echo $feeConcept; ?>');\">\n                                    <i class=\"fas fa-check\"></i> Marcar como Pagado\n                                </a>\n                                <?php else: ?>\n                                <span class=\"badge\" style=\"background: #10b981; color: white; padding: 0.5rem 1rem; font-size: 0.875rem;\">\n                                    <i class=\"fas fa-check-circle\"></i> Al día <?php echo date('Y'); ?>\n                                </span>\n                                <?php endif; ?>\n                                \n                                <?php if ($row['status'] === 'active'): ?>\n                                    <a href=\"index.php?page=members&action=deactivate&id=<?php echo $row['id']; ?>\" \n                                       class=\"btn btn-sm btn-warning\"\n                                       title=\"Dar de Baja\"\n                                       onclick=\"return confirm('¿Dar de baja a este socio?\\n\\nEl socio pasará a estado inactivo pero se conservarán todos sus datos.');\">\n                                        <i class=\"fas fa-user-slash\"></i>\n                                    </a>\n                                <?php endif; ?>\n                                \n                                <a href=\"index.php?page=members&action=delete&id=<?php echo $row['id']; ?>\" \n                                   class=\"btn btn-sm btn-danger\"\n                                   title=\"Eliminar\"\n                                   onclick=\"return confirm('⚠️ ¿ELIMINAR PERMANENTEMENTE a este socio?\\n\\nEsta acción NO se puede deshacer.\\nSe eliminará el socio pero se conservarán sus pagos asociados.');\">\n                                    <i class=\"fas fa-trash\"></i>\n                                </a>\n                            </td>\n                        </tr>\n                    <?php endforeach; ?>\n                <?php endif; ?>\n            </tbody>\n        </table>\n    </div>\n    </div>\n</div>\n\n<!-- Pagination -->\n<?php if (isset($totalPages) && $totalPages > 1): ?>\n<div style=\"display: flex; justify-content: space-between; align-items: center; margin-top: 1rem;\">\n    <div style=\"font-size: 0.875rem; color: var(--text-muted);\">\n        Mostrando <?php echo ($offset + 1); ?> - <?php echo min($offset + $limit, $totalRecords); ?> de <?php echo $totalRecords; ?> registros\n    </div>\n    <div style=\"display: flex; gap: 0.5rem;\">\n        <?php if ($page > 1): ?>\n            <a href=\"index.php?<?php echo http_build_query(array_merge($_GET, ['p' => $page - 1])); ?>\" class=\"btn btn-sm btn-secondary\">\n                <i class=\"fas fa-chevron-left\"></i> Anterior\n            </a>\n        <?php endif; ?>\n        \n        <div style=\"display: flex; gap: 0.25rem;\">\n            <?php \n            $startPage = max(1, $page - 2);\n            $endPage = min($totalPages, $page + 2);\n            \n            if ($startPage > 1) {\n                echo '<span style=\"padding: 0.25rem 0.5rem;\">...</span>';\n            }\n            \n            for ($i = $startPage; $i <= $endPage; $i++): ?>\n                <a href=\"index.php?<?php echo http_build_query(array_merge($_GET, ['p' => $i])); ?>\" \n                   class=\"btn btn-sm <?php echo $i === $page ? 'btn-primary' : 'btn-secondary'; ?>\"\n                   style=\"<?php echo $i === $page ? '' : 'background: white;'; ?>\">\n                    <?php echo $i; ?>\n                </a>\n            <?php endfor; \n            \n            if ($endPage < $totalPages) {\n                echo '<span style=\"padding: 0.25rem 0.5rem;\">...</span>';\n            }\n            ?>\n        </div>\n\n        <?php if ($page < $totalPages): ?>\n            <a href=\"index.php?<?php echo http_build_query(array_merge($_GET, ['p' => $page + 1])); ?>\" class=\"btn btn-sm btn-secondary\">\n                Siguiente <i class=\"fas fa-chevron-right\"></i>\n            </a>\n        <?php endif; ?>\n    </div>\n</div>\n<?php endif; ?>\n\n\n<script>\nfunction toggleExportDropdown() {\n    const menu = document.getElementById('exportMenu');\n    menu.style.display = menu.style.display === 'none' ? 'block' : 'none';\n}\n\nfunction toggleCertMenu(memberId) {\n    const menu = document.getElementById('certMenu' + memberId);\n    // Close all other cert menus first\n    document.querySelectorAll('[id^=\"certMenu\"]').forEach(m => {\n        if (m.id !== 'certMenu' + memberId) {\n            m.style.display = 'none';\n        }\n    });\n    menu.style.display = menu.style.display === 'none' ? 'block' : 'none';\n}\n\n// Close dropdown when clicking outside\ndocument.addEventListener('click', function(e) {\n    const dropdown = document.getElementById('exportDropdown');\n    const menu = document.getElementById('exportMenu');\n    \n    if (menu && dropdown && !dropdown.contains(e.target) && !menu.contains(e.target)) {\n        menu.style.display = 'none';\n    }\n    \n    // Close certificate menus when clicking outside\n    if (!e.target.closest('[onclick^=\"toggleCertMenu\"]') && !e.target.closest('[id^=\"certMenu\"]')) {\n        document.querySelectorAll('[id^=\"certMenu\"]').forEach(m => {\n            m.style.display = 'none';\n        });\n    }\n});\n</script>\n\n<?php \n$content = ob_get_clean(); \nrequire __DIR__ . '/../layout.php'; \n?>\n","epoch":2645,"telemetryInfo":{}}],["file:///root/Documentos/github/GestionSocios/src/Views/members/list.php::request_879e9a22-7b9b-4c1f-9488-b77d43ff55d5",{"uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Views/members/list.php","external":"file:///root/Documentos/github/GestionSocios/src/Views/members/list.php","path":"/root/Documentos/github/GestionSocios/src/Views/members/list.php","scheme":"file"},"requestId":"request_879e9a22-7b9b-4c1f-9488-b77d43ff55d5","content":"<?php ob_start(); ?>\n\n<?php if (isset($_SESSION['success'])): ?>\n    <div class=\"alert alert-success\">\n        <i class=\"fas fa-check-circle\"></i>\n        <?php echo $_SESSION['success']; unset($_SESSION['success']); ?>\n    </div>\n<?php endif; ?>\n\n<?php if (isset($_SESSION['error'])): ?>\n    <div class=\"alert alert-error\">\n        <i class=\"fas fa-exclamation-circle\"></i>\n        <?php echo $_SESSION['error']; unset($_SESSION['error']); ?>\n    </div>\n<?php endif; ?>\n\n<?php if (isset($_GET['msg'])): ?>\n    <div class=\"alert alert-success\">\n        <i class=\"fas fa-check-circle\"></i>\n        <?php \n            if ($_GET['msg'] === 'deactivated') echo 'Socio dado de baja correctamente.';\n            else if ($_GET['msg'] === 'deleted') echo 'Socio eliminado correctamente.';\n            else if ($_GET['msg'] === 'marked_paid') echo 'Cuota marcada como pagada correctamente.';\n        ?>\n    </div>\n<?php endif; ?>\n\n<?php if (isset($_GET['error'])): ?>\n    <div class=\"alert alert-error\">\n        <i class=\"fas fa-exclamation-circle\"></i>\n        <?php\n            if ($_GET['error'] === 'no_fee') echo 'No hay cuota definida para el año actual. Por favor, defínela primero en la sección de Cuotas.';\n            else echo 'Error al procesar la operación.';\n        ?>\n    </div>\n<?php endif; ?>\n\n<?php\n// Obtener la cuota anual y concepto para el año actual (Optimización: Una sola consulta)\n$currentYear = date('Y');\n$feeAmount = 0;\n$feeConcept = 'Cuota Anual ' . $currentYear;\ntry {\n    $feeStmt = $GLOBALS['db']->prepare(\"SELECT amount FROM annual_fees WHERE year = ?\");\n    $feeStmt->execute([$currentYear]);\n    $feeRow = $feeStmt->fetch(PDO::FETCH_ASSOC);\n    if ($feeRow) {\n        $feeAmount = $feeRow['amount'];\n    }\n} catch (Exception $e) {}\n?>\n\n<!-- Advanced Filters -->\n<div class=\"card\" style=\"margin-bottom: 1.5rem;\">\n    <form method=\"GET\" action=\"index.php\" style=\"display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem; align-items: end;\">\n        <input type=\"hidden\" name=\"page\" value=\"members\">\n        \n        <div class=\"form-group\" style=\"margin: 0;\">\n            <label class=\"form-label\" style=\"font-size: 0.875rem;\">Buscar</label>\n            <input type=\"text\" name=\"search\" class=\"form-control\" placeholder=\"Nombre, email, teléfono...\" value=\"<?php echo htmlspecialchars($_GET['search'] ?? ''); ?>\">\n        </div>\n        \n        <div class=\"form-group\" style=\"margin: 0;\">\n            <label class=\"form-label\" style=\"font-size: 0.875rem;\">Estado</label>\n            <select name=\"status\" class=\"form-control\">\n                <option value=\"\">Todos</option>\n                <option value=\"active\" <?php echo ($_GET['status'] ?? '') === 'active' ? 'selected' : ''; ?>>Activos</option>\n                <option value=\"inactive\" <?php echo ($_GET['status'] ?? '') === 'inactive' ? 'selected' : ''; ?>>Inactivos</option>\n            </select>\n        </div>\n        \n        <div class=\"form-group\" style=\"margin: 0;\">\n            <label class=\"form-label\" style=\"font-size: 0.875rem;\">Categoría</label>\n            <select name=\"category_id\" class=\"form-control\">\n                <option value=\"\">Todas</option>\n                <option value=\"0\" <?php echo ($_GET['category_id'] ?? '') == '0' ? 'selected' : ''; ?>>Sin categoría</option>\n                <?php foreach ($categories as $cat): ?>\n                    <option value=\"<?php echo $cat['id']; ?>\" <?php echo ($_GET['category_id'] ?? '') == $cat['id'] ? 'selected' : ''; ?>>\n                        <?php echo htmlspecialchars($cat['name']); ?>\n                    </option>\n                <?php endforeach; ?>\n            </select>\n        </div>\n        \n        <div class=\"form-group\" style=\"margin: 0;\">\n            <label class=\"form-label\" style=\"font-size: 0.875rem;\">Estado de Pago</label>\n            <select name=\"payment_status\" class=\"form-control\">\n                <option value=\"\">Todos</option>\n                <option value=\"current\" <?php echo ($_GET['payment_status'] ?? '') === 'current' ? 'selected' : ''; ?>>Al Corriente</option>\n                <option value=\"delinquent\" <?php echo ($_GET['payment_status'] ?? '') === 'delinquent' ? 'selected' : ''; ?>>Pendientes</option>\n            </select>\n        </div>\n        \n        <div class=\"form-group\" style=\"margin: 0;\">\n            <label class=\"form-label\" style=\"font-size: 0.875rem;\">Año Alta (desde)</label>\n            <input type=\"number\" name=\"year_from\" class=\"form-control\" min=\"2000\" max=\"<?php echo date('Y'); ?>\" placeholder=\"Ej: 2020\" value=\"<?php echo htmlspecialchars($_GET['year_from'] ?? ''); ?>\">\n        </div>\n        \n        <div style=\"display: flex; gap: 0.5rem; align-items: end;\">\n            <button type=\"submit\" class=\"btn btn-primary\" style=\"flex: 1;\">\n                <i class=\"fas fa-filter\"></i> Filtrar\n            </button>\n            <a href=\"index.php?page=members\" class=\"btn btn-secondary\">\n                <i class=\"fas fa-times\"></i>\n            </a>\n        </div>\n    </form>\n</div>\n\n<!-- Results Summary -->\n<div style=\"display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem; padding: 0.75rem; background: var(--bg-body); border-radius: var(--radius-md);\">\n    <div style=\"font-size: 0.875rem; color: var(--text-muted);\">\n        <i class=\"fas fa-users\"></i> \n        <strong><?php echo count($members); ?></strong> socio(s) encontrado(s)\n        <?php if (!empty(array_filter($_GET, fn($v, $k) => $k !== 'page' && !empty($v), ARRAY_FILTER_USE_BOTH))): ?>\n            <span style=\"color: var(--primary-600);\">(filtrado)</span>\n        <?php endif; ?>\n    </div>\n</div>\n\n<div class=\"flex justify-between items-center mb-4\">\n    <h1>Listado de Socios</h1>\n    <div class=\"btn-group\">\n        <div class=\"dropdown\" style=\"display: inline-block; position: relative; margin-right: 0.5rem;\">\n            <button class=\"btn btn-secondary dropdown-toggle\" id=\"exportDropdown\" onclick=\"toggleExportDropdown()\">\n                <i class=\"fas fa-download\"></i> Exportar\n            </button>\n            <div class=\"dropdown-menu\" id=\"exportMenu\" style=\"display: none;\">\n                <a href=\"index.php?page=export&action=members_excel\" class=\"dropdown-item\">\n                    <i class=\"fas fa-file-excel\"></i> Excel (CSV)\n                </a>\n                <a href=\"index.php?page=export&action=members_pdf\" class=\"dropdown-item\" target=\"_blank\">\n                    <i class=\"fas fa-file-pdf\"></i> PDF (Imprimir)\n                </a>\n            </div>\n        </div>\n        <a href=\"index.php?page=members&action=create\" class=\"btn btn-primary\">\n            <i class=\"fas fa-plus\"></i> Nuevo Socio\n        </a>\n    </div>\n</div>\n\n<div class=\"card\" style=\"padding: 0; overflow: hidden;\">\n    <div class=\"table-container\" style=\"border: none; border-radius: 0;\">\n        <table class=\"table\">\n            <thead>\n                <tr>\n                    <th>Socio</th>\n                    <th>Contacto</th>\n                    <th>Categoría</th>\n                    <th>Estado</th>\n                    <th style=\"text-align: right;\">Acciones</th>\n                </tr>\n            </thead>\n            <tbody>\n                <?php if (empty($members)): ?>\n                    <tr>\n                        <td colspan=\"5\" style=\"text-align: center; padding: 2rem; color: var(--text-muted);\">No hay socios registrados.</td>\n                    </tr>\n                <?php else: ?>\n                    <?php foreach ($members as $row): ?>\n                        <tr>\n                            <td style=\"font-weight: 500; display: flex; align-items: center; gap: 1rem;\">\n                                <?php if (!empty($row['photo_url'])): ?>\n                                    <img src=\"/<?php echo htmlspecialchars($row['photo_url']); ?>\" alt=\"Foto\" style=\"width: 40px; height: 40px; object-fit: cover; border-radius: 50%;\">\n                                <?php else: ?>\n                                    <div style=\"width: 40px; height: 40px; background: var(--primary-100); color: var(--primary-700); border-radius: 50%; display: flex; align-items: center; justify-content: center;\">\n                                        <i class=\"fas fa-image\"></i>\n                                    </div>\n                                <?php endif; ?>\n                                <div>\n                                    <span style=\"font-size: 0.85rem; color: var(--text-muted);\">#<?php echo $row['id']; ?></span><br>\n                                    <?php echo htmlspecialchars($row['first_name'] . ' ' . $row['last_name']); ?>\n                                </div>\n                            </td>\n                            <td>\n                                <div style=\"font-size: 0.875rem;\">\n                                    <i class=\"fas fa-envelope\" style=\"color: var(--text-light); width: 20px;\"></i> <?php echo htmlspecialchars($row['email']); ?>\n                                </div>\n                                <div style=\"font-size: 0.875rem; margin-top: 0.25rem;\">\n                                    <i class=\"fas fa-phone\" style=\"color: var(--text-light); width: 20px;\"></i> <?php echo htmlspecialchars($row['phone']); ?>\n                                </div>\n                            </td>\n                            <td>\n                                <?php if (!empty($row['category_name'])): ?>\n                                    <span class=\"badge\" style=\"background-color: <?php echo htmlspecialchars($row['category_color'] ?? '#6b7280'); ?>; color: white;\">\n                                        <?php echo htmlspecialchars($row['category_name']); ?>\n                                    </span>\n                                <?php else: ?>\n                                    <span style=\"color: var(--text-muted); font-size: 0.875rem;\">Sin categoría</span>\n                                <?php endif; ?>\n                            </td>\n                            <td>\n                                <span class=\"badge <?php echo $row['status'] === 'active' ? 'badge-active' : 'badge-inactive'; ?>\">\n                                    <?php echo $row['status'] === 'active' ? 'Activo' : 'Inactivo'; ?>\n                                </span>\n                            </td>\n                            <td style=\"text-align: right;\">\n                                <a href=\"index.php?page=members&action=edit&id=<?php echo $row['id']; ?>\" class=\"btn btn-sm btn-warning\">\n                                    <i class=\"fas fa-edit\" title=\"Editar\"></i>\n                                </a>\n                                \n                                <?php if (!empty($row['latitude']) && !empty($row['longitude'])): ?>\n                                <a href=\"index.php?page=map#member-<?php echo $row['id']; ?>\" class=\"btn btn-sm btn-warning\" title=\"Ver en mapa\">\n                                    <i class=\"fas fa-map-marker-alt\"></i>\n                                </a>\n                                <?php endif; ?>\n                                \n                                <div style=\"display: inline-block; position: relative;\">\n                                    <button onclick=\"toggleCertMenu(<?php echo $row['id']; ?>)\" class=\"btn btn-sm btn-info\" style=\"background: #8b5cf6; border-color: #8b5cf6;\">\n                                        <i class=\"fas fa-award\" title=\"Certificados\"></i> <i class=\"fas fa-chevron-down\" style=\"font-size: 0.7rem;\"></i>\n                                    </button>\n                                    <div id=\"certMenu<?php echo $row['id']; ?>\" class=\"dropdown-menu\" style=\"display: none; position: absolute; right: 0; background: white; border: 1px solid var(--border-light); border-radius: 0.5rem; box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1); z-index: 1000; min-width: 200px; margin-top: 0.25rem;\">\n                                        <a href=\"index.php?page=certificates&action=membership&id=<?php echo $row['id']; ?>\" target=\"_blank\" class=\"dropdown-item\" style=\"display: block; padding: 0.5rem 1rem; color: var(--text-base); text-decoration: none; transition: background 0.2s;\">\n                                            <i class=\"fas fa-id-card\" style=\"width: 20px;\"></i> Certificado de Socio\n                                        </a>\n                                        <a href=\"index.php?page=certificates&action=payments&id=<?php echo $row['id']; ?>&year=<?php echo date('Y'); ?>\" target=\"_blank\" class=\"dropdown-item\" style=\"display: block; padding: 0.5rem 1rem; color: var(--text-base); text-decoration: none; transition: background 0.2s;\">\n                                            <i class=\"fas fa-hand-holding-heart\" style=\"width: 20px;\"></i> Certificado de Pagos <?php echo date('Y'); ?>\n                                        </a>\n                                        <a href=\"index.php?page=certificates&action=payments&id=<?php echo $row['id']; ?>&year=<?php echo date('Y') - 1; ?>\" target=\"_blank\" class=\"dropdown-item\" style=\"display: block; padding: 0.5rem 1rem; color: var(--text-base); text-decoration: none; transition: background 0.2s;\">\n                                            <i class=\"fas fa-hand-holding-heart\" style=\"width: 20px;\"></i> Certificado de Pagos <?php echo date('Y') - 1; ?>\n                                        </a>\n                                    </div>\n                                </div>\n                                \n                                <?php if (empty($row['has_paid_current_year'])): ?>\n                                <?php\n                                // Obtener la cuota correcta para este socio según su categoría\n                                $memberFeeAmount = $feeAmount; // Default\n                                if (!empty($row['category_id'])) {\n                                    $feeStmt = $GLOBALS['db']->prepare(\"SELECT amount FROM category_fee_history WHERE category_id = ? AND year = ?\");\n                                    $feeStmt->execute([$row['category_id'], $currentYear]);\n                                    $categoryFee = $feeStmt->fetch(PDO::FETCH_ASSOC);\n                                    if ($categoryFee) {\n                                        $memberFeeAmount = $categoryFee['amount'];\n                                    }\n                                }\n                                ?>\n                                <a href=\"index.php?page=members&action=markPaid&id=<?php echo $row['id']; ?>\"\n                                   class=\"btn btn-sm btn-primary\"\n                                   onclick=\"return confirm('¿Marcar la cuota de <?php echo $currentYear; ?> como pagada para este socio?\\nImporte: <?php echo number_format($memberFeeAmount, 2); ?> €\\nConcepto: <?php echo $feeConcept; ?>');\">\n                                    <i class=\"fas fa-check\"></i> Marcar como Pagado\n                                </a>\n                                <?php else: ?>\n                                <span class=\"badge\" style=\"background: #10b981; color: white; padding: 0.5rem 1rem; font-size: 0.875rem;\">\n                                    <i class=\"fas fa-check-circle\"></i> Al día <?php echo date('Y'); ?>\n                                </span>\n                                <?php endif; ?>\n                                \n                                <?php if ($row['status'] === 'active'): ?>\n                                    <a href=\"index.php?page=members&action=deactivate&id=<?php echo $row['id']; ?>\" \n                                       class=\"btn btn-sm btn-warning\"\n                                       title=\"Dar de Baja\"\n                                       onclick=\"return confirm('¿Dar de baja a este socio?\\n\\nEl socio pasará a estado inactivo pero se conservarán todos sus datos.');\">\n                                        <i class=\"fas fa-user-slash\"></i>\n                                    </a>\n                                <?php endif; ?>\n                                \n                                <a href=\"index.php?page=members&action=delete&id=<?php echo $row['id']; ?>\" \n                                   class=\"btn btn-sm btn-danger\"\n                                   title=\"Eliminar\"\n                                   onclick=\"return confirm('⚠️ ¿ELIMINAR PERMANENTEMENTE a este socio?\\n\\nEsta acción NO se puede deshacer.\\nSe eliminará el socio pero se conservarán sus pagos asociados.');\">\n                                    <i class=\"fas fa-trash\"></i>\n                                </a>\n                            </td>\n                        </tr>\n                    <?php endforeach; ?>\n                <?php endif; ?>\n            </tbody>\n        </table>\n    </div>\n    </div>\n</div>\n\n<!-- Pagination -->\n<?php if (isset($totalPages) && $totalPages > 1): ?>\n<div style=\"display: flex; justify-content: space-between; align-items: center; margin-top: 1rem;\">\n    <div style=\"font-size: 0.875rem; color: var(--text-muted);\">\n        Mostrando <?php echo ($offset + 1); ?> - <?php echo min($offset + $limit, $totalRecords); ?> de <?php echo $totalRecords; ?> registros\n    </div>\n    <div style=\"display: flex; gap: 0.5rem;\">\n        <?php if ($page > 1): ?>\n            <a href=\"index.php?<?php echo http_build_query(array_merge($_GET, ['p' => $page - 1])); ?>\" class=\"btn btn-sm btn-secondary\">\n                <i class=\"fas fa-chevron-left\"></i> Anterior\n            </a>\n        <?php endif; ?>\n        \n        <div style=\"display: flex; gap: 0.25rem;\">\n            <?php \n            $startPage = max(1, $page - 2);\n            $endPage = min($totalPages, $page + 2);\n            \n            if ($startPage > 1) {\n                echo '<span style=\"padding: 0.25rem 0.5rem;\">...</span>';\n            }\n            \n            for ($i = $startPage; $i <= $endPage; $i++): ?>\n                <a href=\"index.php?<?php echo http_build_query(array_merge($_GET, ['p' => $i])); ?>\" \n                   class=\"btn btn-sm <?php echo $i === $page ? 'btn-primary' : 'btn-secondary'; ?>\"\n                   style=\"<?php echo $i === $page ? '' : 'background: white;'; ?>\">\n                    <?php echo $i; ?>\n                </a>\n            <?php endfor; \n            \n            if ($endPage < $totalPages) {\n                echo '<span style=\"padding: 0.25rem 0.5rem;\">...</span>';\n            }\n            ?>\n        </div>\n\n        <?php if ($page < $totalPages): ?>\n            <a href=\"index.php?<?php echo http_build_query(array_merge($_GET, ['p' => $page + 1])); ?>\" class=\"btn btn-sm btn-secondary\">\n                Siguiente <i class=\"fas fa-chevron-right\"></i>\n            </a>\n        <?php endif; ?>\n    </div>\n</div>\n<?php endif; ?>\n\n\n<script>\nfunction toggleExportDropdown() {\n    const menu = document.getElementById('exportMenu');\n    menu.style.display = menu.style.display === 'none' ? 'block' : 'none';\n}\n\nfunction toggleCertMenu(memberId) {\n    const menu = document.getElementById('certMenu' + memberId);\n    // Close all other cert menus first\n    document.querySelectorAll('[id^=\"certMenu\"]').forEach(m => {\n        if (m.id !== 'certMenu' + memberId) {\n            m.style.display = 'none';\n        }\n    });\n    menu.style.display = menu.style.display === 'none' ? 'block' : 'none';\n}\n\n// Close dropdown when clicking outside\ndocument.addEventListener('click', function(e) {\n    const dropdown = document.getElementById('exportDropdown');\n    const menu = document.getElementById('exportMenu');\n    \n    if (menu && dropdown && !dropdown.contains(e.target) && !menu.contains(e.target)) {\n        menu.style.display = 'none';\n    }\n    \n    // Close certificate menus when clicking outside\n    if (!e.target.closest('[onclick^=\"toggleCertMenu\"]') && !e.target.closest('[id^=\"certMenu\"]')) {\n        document.querySelectorAll('[id^=\"certMenu\"]').forEach(m => {\n            m.style.display = 'none';\n        });\n    }\n});\n</script>\n\n<?php \n$content = ob_get_clean(); \nrequire __DIR__ . '/../layout.php'; \n?>\n","epoch":2650,"telemetryInfo":{}}],["file:///root/Documentos/github/GestionSocios/src/Controllers/MemberController.php::request_c79809d6-e245-449c-aeec-2925f8368b5f",{"uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Controllers/MemberController.php","external":"file:///root/Documentos/github/GestionSocios/src/Controllers/MemberController.php","path":"/root/Documentos/github/GestionSocios/src/Controllers/MemberController.php","scheme":"file"},"requestId":"request_c79809d6-e245-449c-aeec-2925f8368b5f","content":"<?php\n\nclass MemberController {\n    private $db;\n    private $member;\n    private $imageHistory;\n\n    public function __construct() {\n        $database = new Database();\n        $this->db = $database->getConnection();\n        $this->member = new Member($this->db);\n        $this->imageHistory = new MemberImageHistory($this->db);\n    }\n\n    private function checkAdmin() {\n        if (($_SESSION['role'] ?? '') !== 'admin') {\n            header('Location: index.php?page=members');\n            exit;\n        }\n    }\n\n    public function index() {\n        // Build filters from GET parameters\n        $filters = [\n            'status' => $_GET['status'] ?? '',\n            'payment_status' => $_GET['payment_status'] ?? '',\n            'category_id' => $_GET['category_id'] ?? '',\n            'search' => $_GET['search'] ?? '',\n            'year_from' => $_GET['year_from'] ?? '',\n            'year_to' => $_GET['year_to'] ?? ''\n        ];\n        \n        // Pagination\n        $limit = 20;\n        $page = isset($_GET['p']) ? max(1, intval($_GET['p'])) : 1;\n        $offset = ($page - 1) * $limit;\n        \n        // Legacy filter support\n        $legacyFilter = $_GET['filter'] ?? 'all';\n        if ($legacyFilter === 'current') {\n            $filters['payment_status'] = 'current';\n        } elseif ($legacyFilter === 'delinquent') {\n            $filters['payment_status'] = 'delinquent';\n        }\n        \n        $members = $this->member->readFiltered($filters, $limit, $offset);\n        $totalRecords = $this->member->countFiltered($filters);\n        $totalPages = ceil($totalRecords / $limit);\n        \n        // Get categories for filter dropdown\n        $categoryModel = new MemberCategory($this->db);\n        $categories = $categoryModel->readAll();\n        \n        require __DIR__ . '/../Views/members/list.php';\n    }\n\n    public function create() {\n        $this->checkAdmin();\n        \n        // Get categories for dropdown\n        $categoryModel = new MemberCategory($this->db);\n        $categories = $categoryModel->readAll();\n        \n        require __DIR__ . '/../Views/members/create.php';\n    }\n\n    public function store() {\n        $this->checkAdmin();\n        if ($_SERVER['REQUEST_METHOD'] === 'POST') {\n            // Validate CSRF token\n            require_once __DIR__ . '/../Helpers/CsrfHelper.php';\n            CsrfHelper::validateRequest();\n            $this->member->first_name = $_POST['first_name'];\n            $this->member->last_name = $_POST['last_name'];\n            $this->member->dni = $_POST['dni'] ?? null;\n            $this->member->email = $_POST['email'];\n            $this->member->phone = $_POST['phone'];\n            $this->member->address = $_POST['address'];\n            $this->member->status = $_POST['status'] ?? 'active';\n            $this->member->category_id = !empty($_POST['category_id']) ? $_POST['category_id'] : null;\n            $this->member->photo_url = $this->handleUpload();\n\n            if ($this->member->create()) {\n                // Registrar en audit_log\n                require_once __DIR__ . '/../Models/AuditLog.php';\n                $audit = new AuditLog($this->db);\n                $lastId = $this->db->lastInsertId();\n                $audit->create(\n                    $_SESSION['user_id'],\n                    'create',\n                    'member',\n                    $lastId,\n                    'Alta de socio: ' . $this->member->first_name . ' ' . $this->member->last_name . ' (' . $this->member->email . ') por el usuario ' . ($_SESSION['username'] ?? '')\n                );\n                \n                // Enviar notificación de bienvenida al nuevo socio\n                try {\n                    require_once __DIR__ . '/../Helpers/NotificationHelper.php';\n                    $member_name = $this->member->first_name . ' ' . $this->member->last_name;\n                    NotificationHelper::sendWelcomeNotification(\n                        $this->db, \n                        $this->member->id, \n                        $member_name\n                    );\n                } catch (Exception $e) {\n                    // No fallar si la notificación no se puede enviar\n                    error_log(\"Error sending welcome notification: \" . $e->getMessage());\n                }\n                \n                header('Location: index.php?page=members');\n            } else {\n                $error = \"Error creating member.\";\n                require __DIR__ . '/../Views/members/create.php';\n            }\n        }\n    }\n\n    private function handleUpload() {\n        if (isset($_FILES['photo']) && $_FILES['photo']['error'] === UPLOAD_ERR_OK) {\n            // Validate file size (5MB maximum)\n            $maxSize = 5 * 1024 * 1024; // 5MB\n            if ($_FILES['photo']['size'] > $maxSize) {\n                throw new Exception('El archivo es demasiado grande. Máximo 5MB permitido.');\n            }\n            \n            // Validate MIME type\n            $allowedMimeTypes = ['image/jpeg', 'image/png', 'image/gif', 'image/webp'];\n            $finfo = finfo_open(FILEINFO_MIME_TYPE);\n            $mimeType = finfo_file($finfo, $_FILES['photo']['tmp_name']);\n            // finfo_close is deprecated and not needed in modern PHP\n            \n            if (!in_array($mimeType, $allowedMimeTypes)) {\n                throw new Exception('Tipo de archivo no permitido. Solo se permiten imágenes JPEG, PNG, GIF y WebP.');\n            }\n            \n            // Validate file extension\n            $allowedExtensions = ['jpg', 'jpeg', 'png', 'gif', 'webp'];\n            $extension = strtolower(pathinfo($_FILES['photo']['name'], PATHINFO_EXTENSION));\n            if (!in_array($extension, $allowedExtensions)) {\n                throw new Exception('Extensión de archivo no permitida.');\n            }\n            \n            $uploadDir = __DIR__ . '/../../public/uploads/members/';\n            if (!is_dir($uploadDir)) {\n                mkdir($uploadDir, 0755, true); // More restrictive permissions\n            }\n            \n            // Generate secure filename\n            $fileName = uniqid() . '_' . bin2hex(random_bytes(8)) . '.' . $extension;\n            $targetPath = $uploadDir . $fileName;\n            \n            if (move_uploaded_file($_FILES['photo']['tmp_name'], $targetPath)) {\n                return 'uploads/members/' . $fileName;\n            }\n        }\n        return null;\n    }\n\n    public function edit($id) {\n        $this->checkAdmin();\n        $this->member->id = $id;\n        if ($this->member->readOne()) {\n            $member = $this->member; // Pass object to view\n            \n            // Get categories for dropdown\n            $categoryModel = new MemberCategory($this->db);\n            $categories = $categoryModel->readAll();\n            \n            require __DIR__ . '/../Views/members/edit.php';\n        } else {\n            header('Location: index.php?page=members');\n        }\n    }\n\n    public function update($id) {\n        $this->checkAdmin();\n        if ($_SERVER['REQUEST_METHOD'] === 'POST') {\n            // Validate CSRF token\n            require_once __DIR__ . '/../Helpers/CsrfHelper.php';\n            CsrfHelper::validateRequest();\n            \n            $this->member->id = $id;\n            // Leer datos originales antes de modificar\n            $this->member->readOne();\n            $original = [\n                'first_name' => $this->member->first_name,\n                'last_name' => $this->member->last_name,\n                'dni' => $this->member->dni,\n                'email' => $this->member->email,\n                'phone' => $this->member->phone,\n                'address' => $this->member->address,\n                'latitude' => $this->member->latitude,\n                'longitude' => $this->member->longitude,\n                'status' => $this->member->status,\n                'category_id' => $this->member->category_id,\n                'photo_url' => $this->member->photo_url,\n                'created_at' => $this->member->created_at\n            ];\n            $currentPhoto = $this->member->photo_url;\n            // Asignar nuevos valores\n            $this->member->first_name = $_POST['first_name'];\n            $this->member->last_name = $_POST['last_name'];\n            $this->member->dni = $_POST['dni'] ?? null;\n            $this->member->email = $_POST['email'];\n            $this->member->phone = $_POST['phone'];\n            $this->member->address = $_POST['address'];\n            $this->member->latitude = $_POST['latitude'] ?? null;\n            $this->member->longitude = $_POST['longitude'] ?? null;\n            $this->member->status = $_POST['status'];\n            $this->member->category_id = !empty($_POST['category_id']) ? $_POST['category_id'] : null;\n            if (!empty($_POST['created_at'])) {\n                $this->member->created_at = $_POST['created_at'];\n            }\n            // Handle photo upload\n            $photoUrl = $currentPhoto; // Keep current photo by default\n            \n            // Check for upload errors first\n            if (isset($_FILES['photo']) && $_FILES['photo']['error'] !== UPLOAD_ERR_OK && $_FILES['photo']['error'] !== UPLOAD_ERR_NO_FILE) {\n                $uploadErrors = [\n                    UPLOAD_ERR_INI_SIZE => 'El archivo es demasiado grande. Tamaño máximo permitido: ' . ini_get('upload_max_filesize'),\n                    UPLOAD_ERR_FORM_SIZE => 'El archivo excede el tamaño máximo permitido por el formulario',\n                    UPLOAD_ERR_PARTIAL => 'El archivo solo se subió parcialmente',\n                    UPLOAD_ERR_NO_TMP_DIR => 'Falta la carpeta temporal en el servidor',\n                    UPLOAD_ERR_CANT_WRITE => 'Error al escribir el archivo en el disco',\n                    UPLOAD_ERR_EXTENSION => 'Una extensión de PHP detuvo la subida del archivo'\n                ];\n                \n                $error = $uploadErrors[$_FILES['photo']['error']] ?? 'Error desconocido al subir el archivo';\n                $member = $this->member;\n                require __DIR__ . '/../Views/members/edit.php';\n                return;\n            }\n            \n            // Check if a new photo is being uploaded and there's already a current photo\n            if (isset($_FILES['photo']) && $_FILES['photo']['error'] === UPLOAD_ERR_OK && $currentPhoto) {\n                \n                // Save the new image temporarily and redirect to comparison\n                $uploadDir = __DIR__ . '/../../public/uploads/members/temp/';\n                if (!is_dir($uploadDir)) {\n                    mkdir($uploadDir, 0777, true);\n                }\n\n                $allowedTypes = ['image/jpeg', 'image/png', 'image/gif', 'image/webp'];\n                $fileType = $_FILES['photo']['type'];\n\n                if (in_array($fileType, $allowedTypes)) {\n                    $extension = pathinfo($_FILES['photo']['name'], PATHINFO_EXTENSION);\n                    $tempFileName = 'temp_' . time() . '_' . uniqid() . '.' . $extension;\n                    $tempPath = $uploadDir . $tempFileName;\n\n                    if (move_uploaded_file($_FILES['photo']['tmp_name'], $tempPath)) {\n                        // Store data in session for comparison\n                        $_SESSION['image_comparison'] = [\n                            'member_id' => $id,\n                            'old_image' => $currentPhoto,\n                            'new_image_temp' => 'uploads/members/temp/' . $tempFileName,\n                            'member_data' => [\n                                'first_name' => $_POST['first_name'],\n                                'last_name' => $_POST['last_name'],\n                                'email' => $_POST['email'],\n                                'phone' => $_POST['phone'],\n                                'address' => $_POST['address'],\n                                'status' => $_POST['status']\n                            ]\n                        ];\n                        \n                        // Redirect to comparison view\n                        header('Location: index.php?page=members&action=compareImages');\n                        exit;\n                    }\n                }\n            } elseif (isset($_FILES['photo']) && $_FILES['photo']['error'] === UPLOAD_ERR_OK) {\n                // New photo upload (no existing photo)\n                $photoUrl = $this->handleUpload();\n                \n                // Add to history\n                if ($photoUrl) {\n                    $this->imageHistory->member_id = $id;\n                    $this->imageHistory->image_url = $photoUrl;\n                    $this->imageHistory->is_current = true;\n                    $this->imageHistory->uploaded_at = date('Y-m-d H:i:s');\n                    $this->imageHistory->replaced_at = null;\n                    $this->imageHistory->create();\n                }\n            }\n            \n            $this->member->photo_url = $photoUrl;\n\n            // Detectar campos modificados antes del update\n            $changedFields = [];\n            if ($original['first_name'] !== $_POST['first_name']) $changedFields[] = 'nombre';\n            if ($original['last_name'] !== $_POST['last_name']) $changedFields[] = 'apellidos';\n            if ($original['dni'] !== ($_POST['dni'] ?? null)) $changedFields[] = 'dni';\n            if ($original['email'] !== $_POST['email']) $changedFields[] = 'email';\n            if ($original['phone'] !== $_POST['phone']) $changedFields[] = 'teléfono';\n            if ($original['address'] !== $_POST['address']) $changedFields[] = 'dirección';\n            if ($original['latitude'] != ($_POST['latitude'] ?? null)) $changedFields[] = 'latitud';\n            if ($original['longitude'] != ($_POST['longitude'] ?? null)) $changedFields[] = 'longitud';\n            if ($original['status'] !== $_POST['status']) $changedFields[] = 'estado';\n            if ($original['category_id'] != (!empty($_POST['category_id']) ? $_POST['category_id'] : null)) $changedFields[] = 'categoría';\n            if ($photoUrl !== $original['photo_url']) $changedFields[] = 'imagen';\n            if (isset($_POST['created_at']) && $original['created_at'] !== $_POST['created_at']) $changedFields[] = 'fecha alta';\n            $detalle = 'Modificación de socio: ' . $original['first_name'] . ' ' . $original['last_name'] . ' (' . $original['email'] . ') por el usuario ' . ($_SESSION['username'] ?? '');\n            if ($changedFields) {\n                $detalle .= ' [Campos modificados: ' . implode(', ', $changedFields) . ']';\n                require_once __DIR__ . '/../Models/AuditLog.php';\n                $audit = new AuditLog($this->db);\n                $audit->create(\n                    $_SESSION['user_id'],\n                    'update',\n                    'member',\n                    $id,\n                    $detalle\n                );\n            }\n                if ($this->member->update()) {\n                    header('Location: index.php?page=members');\n                } else {\n                $error = \"Error updating member.\";\n                // Reload member data to show form again\n                $member = $this->member; \n                require __DIR__ . '/../Views/members/edit.php';\n            }\n        }\n    }\n\n    public function deactivate($id) {\n        $this->checkAdmin();\n        $this->member->id = $id;\n        if ($this->member->readOne()) {\n            $this->member->status = 'inactive';\n            $this->member->deactivated_at = date('Y-m-d H:i:s');\n            \n            if ($this->member->update()) {\n                // Registrar en audit_log\n                require_once __DIR__ . '/../Models/AuditLog.php';\n                $audit = new AuditLog($this->db);\n                $audit->create($_SESSION['user_id'], 'deactivate', 'member', $id, 'Baja de socio por el usuario ' . ($_SESSION['username'] ?? ''));\n                \n                header('Location: index.php?page=members&msg=deactivated');\n                exit;\n            }\n        }\n        header('Location: index.php?page=members&error=1');\n        exit;\n    }\n\n    public function delete($id) {\n        $this->checkAdmin();\n        $this->member->id = $id;\n        if ($this->member->delete()) {\n            // Registrar en audit_log\n            require_once __DIR__ . '/../Models/AuditLog.php';\n            $audit = new AuditLog($this->db);\n            $audit->create($_SESSION['user_id'], 'delete', 'member', $id, 'Borrado de socio por el usuario ' . ($_SESSION['username'] ?? ''));\n            \n            header('Location: index.php?page=members&msg=deleted');\n            exit;\n        }\n        header('Location: index.php?page=members&error=1');\n        exit;\n    }\n\n    public function markPaid($id) {\n        $this->checkAdmin();\n        $currentYear = date('Y');\n        // Check if fee for current year exists\n        $feeStmt = $this->db->prepare(\"SELECT amount FROM annual_fees WHERE year = ?\");\n        $feeStmt->execute([$currentYear]);\n        $fee = $feeStmt->fetch(PDO::FETCH_ASSOC);\n        \n        if (!$fee) {\n            $_SESSION['error'] = \"No hay cuota definida para el año $currentYear. Por favor, define la cuota en Configuración > Socios.\";\n            \n            // Preserve current filters\n            $redirectParams = [];\n            if (isset($_GET['filter'])) $redirectParams['filter'] = $_GET['filter'];\n            if (isset($_GET['category'])) $redirectParams['category'] = $_GET['category'];\n            if (isset($_GET['payment_status'])) $redirectParams['payment_status'] = $_GET['payment_status'];\n            if (isset($_GET['search'])) $redirectParams['search'] = $_GET['search'];\n            if (isset($_GET['year_from'])) $redirectParams['year_from'] = $_GET['year_from'];\n            if (isset($_GET['year_to'])) $redirectParams['year_to'] = $_GET['year_to'];\n            if (isset($_GET['p'])) $redirectParams['p'] = $_GET['p'];\n            \n            $queryString = !empty($redirectParams) ? '&' . http_build_query($redirectParams) : '';\n            header('Location: index.php?page=members' . $queryString);\n            exit;\n        }\n        \n        try {\n            // Check if payment already exists\n            $checkStmt = $this->db->prepare(\"SELECT id, status FROM payments WHERE member_id = ? AND fee_year = ? AND payment_type = 'fee'\");\n            $checkStmt->execute([$id, $currentYear]);\n            $existingPayment = $checkStmt->fetch(PDO::FETCH_ASSOC);\n            \n            $paymentId = null;\n            $paymentAmount = $fee['amount'];\n            $paymentDate = date('Y-m-d');\n            $paymentConcept = \"Cuota Anual \" . $currentYear;\n            \n            if ($existingPayment) {\n                // Update existing payment to paid\n                $updateStmt = $this->db->prepare(\"UPDATE payments SET status = 'paid', payment_date = ? WHERE id = ?\");\n                $success = $updateStmt->execute([$paymentDate, $existingPayment['id']]);\n                if (!$success) {\n                    throw new Exception(\"Error al actualizar el pago existente\");\n                }\n                $paymentId = $existingPayment['id'];\n                // Registrar en audit_log\n                require_once __DIR__ . '/../Models/AuditLog.php';\n                $audit = new AuditLog($this->db);\n                $audit->create($_SESSION['user_id'], 'markPaid', 'member_payment', $paymentId, 'Pago marcado como realizado por el usuario ' . ($_SESSION['username'] ?? ''));\n            } else {\n                // Create new payment as paid\n                $insertStmt = $this->db->prepare(\"INSERT INTO payments (member_id, amount, payment_date, concept, status, fee_year, payment_type) VALUES (?, ?, ?, ?, 'paid', ?, 'fee')\");\n                $success = $insertStmt->execute([\n                    $id,\n                    $paymentAmount,\n                    $paymentDate,\n                    $paymentConcept,\n                    $currentYear\n                ]);\n                if (!$success) {\n                    throw new Exception(\"Error al crear el nuevo pago\");\n                }\n                $paymentId = $this->db->lastInsertId();\n                // Registrar en audit_log\n                require_once __DIR__ . '/../Models/AuditLog.php';\n                $audit = new AuditLog($this->db);\n                $audit->create($_SESSION['user_id'], 'markPaid', 'member_payment', $paymentId, 'Pago creado y marcado como realizado por el usuario ' . ($_SESSION['username'] ?? ''));\n            }\n            \n            // Crear asiento contable automático\n            require_once __DIR__ . '/../Helpers/AccountingHelper.php';\n            $accountingCreated = AccountingHelper::createEntryFromPayment(\n                $this->db,\n                $paymentId,\n                $paymentAmount,\n                $paymentConcept,\n                $paymentDate,\n                'transfer', // Método de pago por defecto\n                'fee'\n            );\n            \n            if (!$accountingCreated) {\n                error_log(\"No se pudo crear el asiento contable para el pago de cuota #$paymentId\");\n            }\n            \n            $_SESSION['success'] = 'Pago marcado correctamente' . ($accountingCreated ? ' y registrado en contabilidad' : '');        } catch (Exception $e) {\n            error_log(\"Error in markPaid: \" . $e->getMessage());\n            $_SESSION['error'] = 'Error al marcar el pago: ' . $e->getMessage();\n        }\n        \n        // Preserve current filters\n        $redirectParams = [];\n        if (isset($_GET['filter'])) $redirectParams['filter'] = $_GET['filter'];\n        if (isset($_GET['category'])) $redirectParams['category'] = $_GET['category'];\n        if (isset($_GET['payment_status'])) $redirectParams['payment_status'] = $_GET['payment_status'];\n        if (isset($_GET['search'])) $redirectParams['search'] = $_GET['search'];\n        if (isset($_GET['year_from'])) $redirectParams['year_from'] = $_GET['year_from'];\n        if (isset($_GET['year_to'])) $redirectParams['year_to'] = $_GET['year_to'];\n        if (isset($_GET['p'])) $redirectParams['p'] = $_GET['p'];\n        \n        $queryString = !empty($redirectParams) ? '&' . http_build_query($redirectParams) : '';\n        header('Location: index.php?page=members' . $queryString);\n        exit;\n    }\n\n    public function compareImages() {\n        $this->checkAdmin();\n        \n        if (!isset($_SESSION['image_comparison'])) {\n            header('Location: index.php?page=members');\n            exit;\n        }\n        \n        $comparisonData = $_SESSION['image_comparison'];\n        \n        // Load member data\n        $this->member->id = $comparisonData['member_id'];\n        $this->member->readOne();\n        $member = $this->member;\n        \n        require __DIR__ . '/../Views/members/compare_images.php';\n    }\n\n    public function selectImage($id) {\n        $this->checkAdmin();\n        \n        if (!isset($_SESSION['image_comparison']) || $_SESSION['image_comparison']['member_id'] != $id) {\n            header('Location: index.php?page=members');\n            exit;\n        }\n        \n        $comparisonData = $_SESSION['image_comparison'];\n        $choice = $_POST['choice'] ?? '';\n        \n        if ($choice === 'new') {\n            // User chose the new image\n            // Move temp file to permanent location\n            $tempPath = __DIR__ . '/../../public/' . $comparisonData['new_image_temp'];\n            $permanentFileName = 'member_' . time() . '_' . uniqid() . '.' . pathinfo($tempPath, PATHINFO_EXTENSION);\n            $permanentPath = __DIR__ . '/../../public/uploads/members/' . $permanentFileName;\n            \n            if (rename($tempPath, $permanentPath)) {\n                $newPhotoUrl = 'uploads/members/' . $permanentFileName;\n                \n                // Mark old image as not current in history\n                $this->imageHistory->markAllAsNotCurrent($id);\n                \n                // Add old image to history if not already there\n                if ($comparisonData['old_image'] && !$this->imageHistory->imageExists($id, $comparisonData['old_image'])) {\n                    $this->imageHistory->member_id = $id;\n                    $this->imageHistory->image_url = $comparisonData['old_image'];\n                    $this->imageHistory->is_current = false;\n                    $this->imageHistory->uploaded_at = date('Y-m-d H:i:s');\n                    $this->imageHistory->replaced_at = date('Y-m-d H:i:s');\n                    $this->imageHistory->create();\n                }\n                \n                // Add new image to history as current\n                $this->imageHistory->member_id = $id;\n                $this->imageHistory->image_url = $newPhotoUrl;\n                $this->imageHistory->is_current = true;\n                $this->imageHistory->uploaded_at = date('Y-m-d H:i:s');\n                $this->imageHistory->replaced_at = null;\n                $this->imageHistory->create();\n                \n                // Update member with new photo\n                $this->member->id = $id;\n                $this->member->readOne();\n                $this->member->photo_url = $newPhotoUrl;\n            }\n        } else {\n            // User chose to keep the old image\n            // Delete the temporary new image\n            $tempPath = __DIR__ . '/../../public/' . $comparisonData['new_image_temp'];\n            if (file_exists($tempPath)) {\n                unlink($tempPath);\n            }\n        }\n        \n        // Update member with other data\n        $this->member->id = $id;\n        $this->member->readOne();\n        $this->member->first_name = $comparisonData['member_data']['first_name'];\n        $this->member->last_name = $comparisonData['member_data']['last_name'];\n        $this->member->email = $comparisonData['member_data']['email'];\n        $this->member->phone = $comparisonData['member_data']['phone'];\n        $this->member->address = $comparisonData['member_data']['address'];\n        $this->member->status = $comparisonData['member_data']['status'];\n        $this->member->update();\n        \n        // Clean up session\n        unset($_SESSION['image_comparison']);\n        \n        header('Location: index.php?page=members&msg=updated');\n        exit;\n    }\n\n    public function imageHistory($id) {\n        $this->checkAdmin();\n        \n        // Load member data\n        $this->member->id = $id;\n        if (!$this->member->readOne()) {\n            header('Location: index.php?page=members');\n            exit;\n        }\n        $member = $this->member;\n        \n        // Get image history\n        $historyStmt = $this->imageHistory->getByMember($id);\n        $images = $historyStmt->fetchAll(PDO::FETCH_ASSOC);\n        \n        require __DIR__ . '/../Views/members/image_history.php';\n    }\n\n    public function restoreImage($memberId, $historyId) {\n        $this->checkAdmin();\n        \n        // Verify history entry exists and belongs to this member\n        $this->imageHistory->id = $historyId;\n        if (!$this->imageHistory->readOne() || $this->imageHistory->member_id != $memberId) {\n            header('Location: index.php?page=members&action=imageHistory&id=' . $memberId . '&error=invalid');\n            exit;\n        }\n        \n        // Set this image as current\n        $this->imageHistory->setAsCurrent($historyId, $memberId);\n        \n        // Update member's photo_url\n        $this->member->id = $memberId;\n        $this->member->readOne();\n        $this->member->photo_url = $this->imageHistory->image_url;\n        $this->member->update();\n        \n        header('Location: index.php?page=members&action=imageHistory&id=' . $memberId . '&msg=restored');\n        exit;\n    }\n    \n    // ... Funcionalidad de mapa y GPS eliminada ...\n}\n\n","epoch":2655,"telemetryInfo":{}}],["file:///root/Documentos/github/GestionSocios/src/Controllers/MemberController.php::request_07765fb5-1bc4-46eb-b116-92349990c21c",{"uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Controllers/MemberController.php","external":"file:///root/Documentos/github/GestionSocios/src/Controllers/MemberController.php","path":"/root/Documentos/github/GestionSocios/src/Controllers/MemberController.php","scheme":"file"},"requestId":"request_07765fb5-1bc4-46eb-b116-92349990c21c","content":"<?php\n\nclass MemberController {\n    private $db;\n    private $member;\n    private $imageHistory;\n\n    public function __construct() {\n        $database = new Database();\n        $this->db = $database->getConnection();\n        $this->member = new Member($this->db);\n        $this->imageHistory = new MemberImageHistory($this->db);\n    }\n\n    private function checkAdmin() {\n        if (($_SESSION['role'] ?? '') !== 'admin') {\n            header('Location: index.php?page=members');\n            exit;\n        }\n    }\n\n    public function index() {\n        // Build filters from GET parameters\n        $filters = [\n            'status' => $_GET['status'] ?? '',\n            'payment_status' => $_GET['payment_status'] ?? '',\n            'category_id' => $_GET['category_id'] ?? '',\n            'search' => $_GET['search'] ?? '',\n            'year_from' => $_GET['year_from'] ?? '',\n            'year_to' => $_GET['year_to'] ?? ''\n        ];\n        \n        // Pagination\n        $limit = 20;\n        $page = isset($_GET['p']) ? max(1, intval($_GET['p'])) : 1;\n        $offset = ($page - 1) * $limit;\n        \n        // Legacy filter support\n        $legacyFilter = $_GET['filter'] ?? 'all';\n        if ($legacyFilter === 'current') {\n            $filters['payment_status'] = 'current';\n        } elseif ($legacyFilter === 'delinquent') {\n            $filters['payment_status'] = 'delinquent';\n        }\n        \n        $members = $this->member->readFiltered($filters, $limit, $offset);\n        $totalRecords = $this->member->countFiltered($filters);\n        $totalPages = ceil($totalRecords / $limit);\n        \n        // Get categories for filter dropdown\n        $categoryModel = new MemberCategory($this->db);\n        $categories = $categoryModel->readAll();\n        \n        require __DIR__ . '/../Views/members/list.php';\n    }\n\n    public function create() {\n        $this->checkAdmin();\n        \n        // Get categories for dropdown\n        $categoryModel = new MemberCategory($this->db);\n        $categories = $categoryModel->readAll();\n        \n        require __DIR__ . '/../Views/members/create.php';\n    }\n\n    public function store() {\n        $this->checkAdmin();\n        if ($_SERVER['REQUEST_METHOD'] === 'POST') {\n            // Validate CSRF token\n            require_once __DIR__ . '/../Helpers/CsrfHelper.php';\n            CsrfHelper::validateRequest();\n            $this->member->first_name = $_POST['first_name'];\n            $this->member->last_name = $_POST['last_name'];\n            $this->member->dni = $_POST['dni'] ?? null;\n            $this->member->email = $_POST['email'];\n            $this->member->phone = $_POST['phone'];\n            $this->member->address = $_POST['address'];\n            $this->member->status = $_POST['status'] ?? 'active';\n            $this->member->category_id = !empty($_POST['category_id']) ? $_POST['category_id'] : null;\n            $this->member->photo_url = $this->handleUpload();\n\n            if ($this->member->create()) {\n                // Registrar en audit_log\n                require_once __DIR__ . '/../Models/AuditLog.php';\n                $audit = new AuditLog($this->db);\n                $lastId = $this->db->lastInsertId();\n                $audit->create(\n                    $_SESSION['user_id'],\n                    'create',\n                    'member',\n                    $lastId,\n                    'Alta de socio: ' . $this->member->first_name . ' ' . $this->member->last_name . ' (' . $this->member->email . ') por el usuario ' . ($_SESSION['username'] ?? '')\n                );\n                \n                // Enviar notificación de bienvenida al nuevo socio\n                try {\n                    require_once __DIR__ . '/../Helpers/NotificationHelper.php';\n                    $member_name = $this->member->first_name . ' ' . $this->member->last_name;\n                    NotificationHelper::sendWelcomeNotification(\n                        $this->db, \n                        $this->member->id, \n                        $member_name\n                    );\n                } catch (Exception $e) {\n                    // No fallar si la notificación no se puede enviar\n                    error_log(\"Error sending welcome notification: \" . $e->getMessage());\n                }\n                \n                header('Location: index.php?page=members');\n            } else {\n                $error = \"Error creating member.\";\n                require __DIR__ . '/../Views/members/create.php';\n            }\n        }\n    }\n\n    private function handleUpload() {\n        if (isset($_FILES['photo']) && $_FILES['photo']['error'] === UPLOAD_ERR_OK) {\n            // Validate file size (5MB maximum)\n            $maxSize = 5 * 1024 * 1024; // 5MB\n            if ($_FILES['photo']['size'] > $maxSize) {\n                throw new Exception('El archivo es demasiado grande. Máximo 5MB permitido.');\n            }\n            \n            // Validate MIME type\n            $allowedMimeTypes = ['image/jpeg', 'image/png', 'image/gif', 'image/webp'];\n            $finfo = finfo_open(FILEINFO_MIME_TYPE);\n            $mimeType = finfo_file($finfo, $_FILES['photo']['tmp_name']);\n            // finfo_close is deprecated and not needed in modern PHP\n            \n            if (!in_array($mimeType, $allowedMimeTypes)) {\n                throw new Exception('Tipo de archivo no permitido. Solo se permiten imágenes JPEG, PNG, GIF y WebP.');\n            }\n            \n            // Validate file extension\n            $allowedExtensions = ['jpg', 'jpeg', 'png', 'gif', 'webp'];\n            $extension = strtolower(pathinfo($_FILES['photo']['name'], PATHINFO_EXTENSION));\n            if (!in_array($extension, $allowedExtensions)) {\n                throw new Exception('Extensión de archivo no permitida.');\n            }\n            \n            $uploadDir = __DIR__ . '/../../public/uploads/members/';\n            if (!is_dir($uploadDir)) {\n                mkdir($uploadDir, 0755, true); // More restrictive permissions\n            }\n            \n            // Generate secure filename\n            $fileName = uniqid() . '_' . bin2hex(random_bytes(8)) . '.' . $extension;\n            $targetPath = $uploadDir . $fileName;\n            \n            if (move_uploaded_file($_FILES['photo']['tmp_name'], $targetPath)) {\n                return 'uploads/members/' . $fileName;\n            }\n        }\n        return null;\n    }\n\n    public function edit($id) {\n        $this->checkAdmin();\n        $this->member->id = $id;\n        if ($this->member->readOne()) {\n            $member = $this->member; // Pass object to view\n            \n            // Get categories for dropdown\n            $categoryModel = new MemberCategory($this->db);\n            $categories = $categoryModel->readAll();\n            \n            require __DIR__ . '/../Views/members/edit.php';\n        } else {\n            header('Location: index.php?page=members');\n        }\n    }\n\n    public function update($id) {\n        $this->checkAdmin();\n        if ($_SERVER['REQUEST_METHOD'] === 'POST') {\n            // Validate CSRF token\n            require_once __DIR__ . '/../Helpers/CsrfHelper.php';\n            CsrfHelper::validateRequest();\n            \n            $this->member->id = $id;\n            // Leer datos originales antes de modificar\n            $this->member->readOne();\n            $original = [\n                'first_name' => $this->member->first_name,\n                'last_name' => $this->member->last_name,\n                'dni' => $this->member->dni,\n                'email' => $this->member->email,\n                'phone' => $this->member->phone,\n                'address' => $this->member->address,\n                'latitude' => $this->member->latitude,\n                'longitude' => $this->member->longitude,\n                'status' => $this->member->status,\n                'category_id' => $this->member->category_id,\n                'photo_url' => $this->member->photo_url,\n                'created_at' => $this->member->created_at\n            ];\n            $currentPhoto = $this->member->photo_url;\n            // Asignar nuevos valores\n            $this->member->first_name = $_POST['first_name'];\n            $this->member->last_name = $_POST['last_name'];\n            $this->member->dni = $_POST['dni'] ?? null;\n            $this->member->email = $_POST['email'];\n            $this->member->phone = $_POST['phone'];\n            $this->member->address = $_POST['address'];\n            $this->member->latitude = $_POST['latitude'] ?? null;\n            $this->member->longitude = $_POST['longitude'] ?? null;\n            $this->member->status = $_POST['status'];\n            $this->member->category_id = !empty($_POST['category_id']) ? $_POST['category_id'] : null;\n            if (!empty($_POST['created_at'])) {\n                $this->member->created_at = $_POST['created_at'];\n            }\n            // Handle photo upload\n            $photoUrl = $currentPhoto; // Keep current photo by default\n            \n            // Check for upload errors first\n            if (isset($_FILES['photo']) && $_FILES['photo']['error'] !== UPLOAD_ERR_OK && $_FILES['photo']['error'] !== UPLOAD_ERR_NO_FILE) {\n                $uploadErrors = [\n                    UPLOAD_ERR_INI_SIZE => 'El archivo es demasiado grande. Tamaño máximo permitido: ' . ini_get('upload_max_filesize'),\n                    UPLOAD_ERR_FORM_SIZE => 'El archivo excede el tamaño máximo permitido por el formulario',\n                    UPLOAD_ERR_PARTIAL => 'El archivo solo se subió parcialmente',\n                    UPLOAD_ERR_NO_TMP_DIR => 'Falta la carpeta temporal en el servidor',\n                    UPLOAD_ERR_CANT_WRITE => 'Error al escribir el archivo en el disco',\n                    UPLOAD_ERR_EXTENSION => 'Una extensión de PHP detuvo la subida del archivo'\n                ];\n                \n                $error = $uploadErrors[$_FILES['photo']['error']] ?? 'Error desconocido al subir el archivo';\n                $member = $this->member;\n                require __DIR__ . '/../Views/members/edit.php';\n                return;\n            }\n            \n            // Check if a new photo is being uploaded and there's already a current photo\n            if (isset($_FILES['photo']) && $_FILES['photo']['error'] === UPLOAD_ERR_OK && $currentPhoto) {\n                \n                // Save the new image temporarily and redirect to comparison\n                $uploadDir = __DIR__ . '/../../public/uploads/members/temp/';\n                if (!is_dir($uploadDir)) {\n                    mkdir($uploadDir, 0777, true);\n                }\n\n                $allowedTypes = ['image/jpeg', 'image/png', 'image/gif', 'image/webp'];\n                $fileType = $_FILES['photo']['type'];\n\n                if (in_array($fileType, $allowedTypes)) {\n                    $extension = pathinfo($_FILES['photo']['name'], PATHINFO_EXTENSION);\n                    $tempFileName = 'temp_' . time() . '_' . uniqid() . '.' . $extension;\n                    $tempPath = $uploadDir . $tempFileName;\n\n                    if (move_uploaded_file($_FILES['photo']['tmp_name'], $tempPath)) {\n                        // Store data in session for comparison\n                        $_SESSION['image_comparison'] = [\n                            'member_id' => $id,\n                            'old_image' => $currentPhoto,\n                            'new_image_temp' => 'uploads/members/temp/' . $tempFileName,\n                            'member_data' => [\n                                'first_name' => $_POST['first_name'],\n                                'last_name' => $_POST['last_name'],\n                                'email' => $_POST['email'],\n                                'phone' => $_POST['phone'],\n                                'address' => $_POST['address'],\n                                'status' => $_POST['status']\n                            ]\n                        ];\n                        \n                        // Redirect to comparison view\n                        header('Location: index.php?page=members&action=compareImages');\n                        exit;\n                    }\n                }\n            } elseif (isset($_FILES['photo']) && $_FILES['photo']['error'] === UPLOAD_ERR_OK) {\n                // New photo upload (no existing photo)\n                $photoUrl = $this->handleUpload();\n                \n                // Add to history\n                if ($photoUrl) {\n                    $this->imageHistory->member_id = $id;\n                    $this->imageHistory->image_url = $photoUrl;\n                    $this->imageHistory->is_current = true;\n                    $this->imageHistory->uploaded_at = date('Y-m-d H:i:s');\n                    $this->imageHistory->replaced_at = null;\n                    $this->imageHistory->create();\n                }\n            }\n            \n            $this->member->photo_url = $photoUrl;\n\n            // Detectar campos modificados antes del update\n            $changedFields = [];\n            if ($original['first_name'] !== $_POST['first_name']) $changedFields[] = 'nombre';\n            if ($original['last_name'] !== $_POST['last_name']) $changedFields[] = 'apellidos';\n            if ($original['dni'] !== ($_POST['dni'] ?? null)) $changedFields[] = 'dni';\n            if ($original['email'] !== $_POST['email']) $changedFields[] = 'email';\n            if ($original['phone'] !== $_POST['phone']) $changedFields[] = 'teléfono';\n            if ($original['address'] !== $_POST['address']) $changedFields[] = 'dirección';\n            if ($original['latitude'] != ($_POST['latitude'] ?? null)) $changedFields[] = 'latitud';\n            if ($original['longitude'] != ($_POST['longitude'] ?? null)) $changedFields[] = 'longitud';\n            if ($original['status'] !== $_POST['status']) $changedFields[] = 'estado';\n            if ($original['category_id'] != (!empty($_POST['category_id']) ? $_POST['category_id'] : null)) $changedFields[] = 'categoría';\n            if ($photoUrl !== $original['photo_url']) $changedFields[] = 'imagen';\n            if (isset($_POST['created_at']) && $original['created_at'] !== $_POST['created_at']) $changedFields[] = 'fecha alta';\n            $detalle = 'Modificación de socio: ' . $original['first_name'] . ' ' . $original['last_name'] . ' (' . $original['email'] . ') por el usuario ' . ($_SESSION['username'] ?? '');\n            if ($changedFields) {\n                $detalle .= ' [Campos modificados: ' . implode(', ', $changedFields) . ']';\n                require_once __DIR__ . '/../Models/AuditLog.php';\n                $audit = new AuditLog($this->db);\n                $audit->create(\n                    $_SESSION['user_id'],\n                    'update',\n                    'member',\n                    $id,\n                    $detalle\n                );\n            }\n                if ($this->member->update()) {\n                    header('Location: index.php?page=members');\n                } else {\n                $error = \"Error updating member.\";\n                // Reload member data to show form again\n                $member = $this->member; \n                require __DIR__ . '/../Views/members/edit.php';\n            }\n        }\n    }\n\n    public function deactivate($id) {\n        $this->checkAdmin();\n        $this->member->id = $id;\n        if ($this->member->readOne()) {\n            $this->member->status = 'inactive';\n            $this->member->deactivated_at = date('Y-m-d H:i:s');\n            \n            if ($this->member->update()) {\n                // Registrar en audit_log\n                require_once __DIR__ . '/../Models/AuditLog.php';\n                $audit = new AuditLog($this->db);\n                $audit->create($_SESSION['user_id'], 'deactivate', 'member', $id, 'Baja de socio por el usuario ' . ($_SESSION['username'] ?? ''));\n                \n                header('Location: index.php?page=members&msg=deactivated');\n                exit;\n            }\n        }\n        header('Location: index.php?page=members&error=1');\n        exit;\n    }\n\n    public function delete($id) {\n        $this->checkAdmin();\n        $this->member->id = $id;\n        if ($this->member->delete()) {\n            // Registrar en audit_log\n            require_once __DIR__ . '/../Models/AuditLog.php';\n            $audit = new AuditLog($this->db);\n            $audit->create($_SESSION['user_id'], 'delete', 'member', $id, 'Borrado de socio por el usuario ' . ($_SESSION['username'] ?? ''));\n            \n            header('Location: index.php?page=members&msg=deleted');\n            exit;\n        }\n        header('Location: index.php?page=members&error=1');\n        exit;\n    }\n\n    public function markPaid($id) {\n        $this->checkAdmin();\n        $currentYear = date('Y');\n        \n        // Obtener la categoría del socio\n        $memberStmt = $this->db->prepare(\"SELECT category_id FROM members WHERE id = ?\");\n        $memberStmt->execute([$id]);\n        $member = $memberStmt->fetch(PDO::FETCH_ASSOC);\n        \n        // Obtener la cuota correcta según la categoría del socio\n        $paymentAmount = 0;\n        if ($member && !empty($member['category_id'])) {\n            // Intentar obtener cuota específica de la categoría\n            $categoryFeeStmt = $this->db->prepare(\"SELECT amount FROM category_fee_history WHERE category_id = ? AND year = ?\");\n            $categoryFeeStmt->execute([$member['category_id'], $currentYear]);\n            $categoryFee = $categoryFeeStmt->fetch(PDO::FETCH_ASSOC);\n            if ($categoryFee) {\n                $paymentAmount = $categoryFee['amount'];\n            }\n        }\n        \n        // Si no hay cuota de categoría, usar cuota por defecto\n        if ($paymentAmount == 0) {\n            $feeStmt = $this->db->prepare(\"SELECT amount FROM annual_fees WHERE year = ?\");\n            $feeStmt->execute([$currentYear]);\n            $fee = $feeStmt->fetch(PDO::FETCH_ASSOC);\n            if ($fee) {\n                $paymentAmount = $fee['amount'];\n            }\n        }\n        \n        if ($paymentAmount == 0) {\n            $_SESSION['error'] = \"No hay cuota definida para el año $currentYear. Por favor, define la cuota en Configuración > Socios.\";\n            \n            // Preserve current filters\n            $redirectParams = [];\n            if (isset($_GET['filter'])) $redirectParams['filter'] = $_GET['filter'];\n            if (isset($_GET['category'])) $redirectParams['category'] = $_GET['category'];\n            if (isset($_GET['payment_status'])) $redirectParams['payment_status'] = $_GET['payment_status'];\n            if (isset($_GET['search'])) $redirectParams['search'] = $_GET['search'];\n            if (isset($_GET['year_from'])) $redirectParams['year_from'] = $_GET['year_from'];\n            if (isset($_GET['year_to'])) $redirectParams['year_to'] = $_GET['year_to'];\n            if (isset($_GET['p'])) $redirectParams['p'] = $_GET['p'];\n            \n            $queryString = !empty($redirectParams) ? '&' . http_build_query($redirectParams) : '';\n            header('Location: index.php?page=members' . $queryString);\n            exit;\n        }\n        \n        try {\n            // Check if payment already exists\n            $checkStmt = $this->db->prepare(\"SELECT id, status FROM payments WHERE member_id = ? AND fee_year = ? AND payment_type = 'fee'\");\n            $checkStmt->execute([$id, $currentYear]);\n            $existingPayment = $checkStmt->fetch(PDO::FETCH_ASSOC);\n            \n            $paymentId = null;\n            $paymentDate = date('Y-m-d');\n            $paymentConcept = \"Cuota Anual \" . $currentYear;\n            \n            if ($existingPayment) {\n                // Update existing payment to paid\n                $updateStmt = $this->db->prepare(\"UPDATE payments SET status = 'paid', payment_date = ? WHERE id = ?\");\n                $success = $updateStmt->execute([$paymentDate, $existingPayment['id']]);\n                if (!$success) {\n                    throw new Exception(\"Error al actualizar el pago existente\");\n                }\n                $paymentId = $existingPayment['id'];\n                // Registrar en audit_log\n                require_once __DIR__ . '/../Models/AuditLog.php';\n                $audit = new AuditLog($this->db);\n                $audit->create($_SESSION['user_id'], 'markPaid', 'member_payment', $paymentId, 'Pago marcado como realizado por el usuario ' . ($_SESSION['username'] ?? ''));\n            } else {\n                // Create new payment as paid\n                $insertStmt = $this->db->prepare(\"INSERT INTO payments (member_id, amount, payment_date, concept, status, fee_year, payment_type) VALUES (?, ?, ?, ?, 'paid', ?, 'fee')\");\n                $success = $insertStmt->execute([\n                    $id,\n                    $paymentAmount,\n                    $paymentDate,\n                    $paymentConcept,\n                    $currentYear\n                ]);\n                if (!$success) {\n                    throw new Exception(\"Error al crear el nuevo pago\");\n                }\n                $paymentId = $this->db->lastInsertId();\n                // Registrar en audit_log\n                require_once __DIR__ . '/../Models/AuditLog.php';\n                $audit = new AuditLog($this->db);\n                $audit->create($_SESSION['user_id'], 'markPaid', 'member_payment', $paymentId, 'Pago creado y marcado como realizado por el usuario ' . ($_SESSION['username'] ?? ''));\n            }\n            \n            // Crear asiento contable automático\n            require_once __DIR__ . '/../Helpers/AccountingHelper.php';\n            $accountingCreated = AccountingHelper::createEntryFromPayment(\n                $this->db,\n                $paymentId,\n                $paymentAmount,\n                $paymentConcept,\n                $paymentDate,\n                'transfer', // Método de pago por defecto\n                'fee'\n            );\n            \n            if (!$accountingCreated) {\n                error_log(\"No se pudo crear el asiento contable para el pago de cuota #$paymentId\");\n            }\n            \n            $_SESSION['success'] = 'Pago marcado correctamente' . ($accountingCreated ? ' y registrado en contabilidad' : '');        } catch (Exception $e) {\n            error_log(\"Error in markPaid: \" . $e->getMessage());\n            $_SESSION['error'] = 'Error al marcar el pago: ' . $e->getMessage();\n        }\n        \n        // Preserve current filters\n        $redirectParams = [];\n        if (isset($_GET['filter'])) $redirectParams['filter'] = $_GET['filter'];\n        if (isset($_GET['category'])) $redirectParams['category'] = $_GET['category'];\n        if (isset($_GET['payment_status'])) $redirectParams['payment_status'] = $_GET['payment_status'];\n        if (isset($_GET['search'])) $redirectParams['search'] = $_GET['search'];\n        if (isset($_GET['year_from'])) $redirectParams['year_from'] = $_GET['year_from'];\n        if (isset($_GET['year_to'])) $redirectParams['year_to'] = $_GET['year_to'];\n        if (isset($_GET['p'])) $redirectParams['p'] = $_GET['p'];\n        \n        $queryString = !empty($redirectParams) ? '&' . http_build_query($redirectParams) : '';\n        header('Location: index.php?page=members' . $queryString);\n        exit;\n    }\n\n    public function compareImages() {\n        $this->checkAdmin();\n        \n        if (!isset($_SESSION['image_comparison'])) {\n            header('Location: index.php?page=members');\n            exit;\n        }\n        \n        $comparisonData = $_SESSION['image_comparison'];\n        \n        // Load member data\n        $this->member->id = $comparisonData['member_id'];\n        $this->member->readOne();\n        $member = $this->member;\n        \n        require __DIR__ . '/../Views/members/compare_images.php';\n    }\n\n    public function selectImage($id) {\n        $this->checkAdmin();\n        \n        if (!isset($_SESSION['image_comparison']) || $_SESSION['image_comparison']['member_id'] != $id) {\n            header('Location: index.php?page=members');\n            exit;\n        }\n        \n        $comparisonData = $_SESSION['image_comparison'];\n        $choice = $_POST['choice'] ?? '';\n        \n        if ($choice === 'new') {\n            // User chose the new image\n            // Move temp file to permanent location\n            $tempPath = __DIR__ . '/../../public/' . $comparisonData['new_image_temp'];\n            $permanentFileName = 'member_' . time() . '_' . uniqid() . '.' . pathinfo($tempPath, PATHINFO_EXTENSION);\n            $permanentPath = __DIR__ . '/../../public/uploads/members/' . $permanentFileName;\n            \n            if (rename($tempPath, $permanentPath)) {\n                $newPhotoUrl = 'uploads/members/' . $permanentFileName;\n                \n                // Mark old image as not current in history\n                $this->imageHistory->markAllAsNotCurrent($id);\n                \n                // Add old image to history if not already there\n                if ($comparisonData['old_image'] && !$this->imageHistory->imageExists($id, $comparisonData['old_image'])) {\n                    $this->imageHistory->member_id = $id;\n                    $this->imageHistory->image_url = $comparisonData['old_image'];\n                    $this->imageHistory->is_current = false;\n                    $this->imageHistory->uploaded_at = date('Y-m-d H:i:s');\n                    $this->imageHistory->replaced_at = date('Y-m-d H:i:s');\n                    $this->imageHistory->create();\n                }\n                \n                // Add new image to history as current\n                $this->imageHistory->member_id = $id;\n                $this->imageHistory->image_url = $newPhotoUrl;\n                $this->imageHistory->is_current = true;\n                $this->imageHistory->uploaded_at = date('Y-m-d H:i:s');\n                $this->imageHistory->replaced_at = null;\n                $this->imageHistory->create();\n                \n                // Update member with new photo\n                $this->member->id = $id;\n                $this->member->readOne();\n                $this->member->photo_url = $newPhotoUrl;\n            }\n        } else {\n            // User chose to keep the old image\n            // Delete the temporary new image\n            $tempPath = __DIR__ . '/../../public/' . $comparisonData['new_image_temp'];\n            if (file_exists($tempPath)) {\n                unlink($tempPath);\n            }\n        }\n        \n        // Update member with other data\n        $this->member->id = $id;\n        $this->member->readOne();\n        $this->member->first_name = $comparisonData['member_data']['first_name'];\n        $this->member->last_name = $comparisonData['member_data']['last_name'];\n        $this->member->email = $comparisonData['member_data']['email'];\n        $this->member->phone = $comparisonData['member_data']['phone'];\n        $this->member->address = $comparisonData['member_data']['address'];\n        $this->member->status = $comparisonData['member_data']['status'];\n        $this->member->update();\n        \n        // Clean up session\n        unset($_SESSION['image_comparison']);\n        \n        header('Location: index.php?page=members&msg=updated');\n        exit;\n    }\n\n    public function imageHistory($id) {\n        $this->checkAdmin();\n        \n        // Load member data\n        $this->member->id = $id;\n        if (!$this->member->readOne()) {\n            header('Location: index.php?page=members');\n            exit;\n        }\n        $member = $this->member;\n        \n        // Get image history\n        $historyStmt = $this->imageHistory->getByMember($id);\n        $images = $historyStmt->fetchAll(PDO::FETCH_ASSOC);\n        \n        require __DIR__ . '/../Views/members/image_history.php';\n    }\n\n    public function restoreImage($memberId, $historyId) {\n        $this->checkAdmin();\n        \n        // Verify history entry exists and belongs to this member\n        $this->imageHistory->id = $historyId;\n        if (!$this->imageHistory->readOne() || $this->imageHistory->member_id != $memberId) {\n            header('Location: index.php?page=members&action=imageHistory&id=' . $memberId . '&error=invalid');\n            exit;\n        }\n        \n        // Set this image as current\n        $this->imageHistory->setAsCurrent($historyId, $memberId);\n        \n        // Update member's photo_url\n        $this->member->id = $memberId;\n        $this->member->readOne();\n        $this->member->photo_url = $this->imageHistory->image_url;\n        $this->member->update();\n        \n        header('Location: index.php?page=members&action=imageHistory&id=' . $memberId . '&msg=restored');\n        exit;\n    }\n    \n    // ... Funcionalidad de mapa y GPS eliminada ...\n}\n\n","epoch":2660,"telemetryInfo":{}}],["file:///root/Documentos/github/GestionSocios/src/Controllers/MemberController.php::request_4d417b6f-df61-4f23-9d1e-053cb3838bf2",{"uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Controllers/MemberController.php","external":"file:///root/Documentos/github/GestionSocios/src/Controllers/MemberController.php","path":"/root/Documentos/github/GestionSocios/src/Controllers/MemberController.php","scheme":"file"},"requestId":"request_4d417b6f-df61-4f23-9d1e-053cb3838bf2","content":"<?php\n\nclass MemberController {\n    private $db;\n    private $member;\n    private $imageHistory;\n\n    public function __construct() {\n        $database = new Database();\n        $this->db = $database->getConnection();\n        $this->member = new Member($this->db);\n        $this->imageHistory = new MemberImageHistory($this->db);\n    }\n\n    private function checkAdmin() {\n        if (($_SESSION['role'] ?? '') !== 'admin') {\n            header('Location: index.php?page=members');\n            exit;\n        }\n    }\n\n    public function index() {\n        // Build filters from GET parameters\n        $filters = [\n            'status' => $_GET['status'] ?? '',\n            'payment_status' => $_GET['payment_status'] ?? '',\n            'category_id' => $_GET['category_id'] ?? '',\n            'search' => $_GET['search'] ?? '',\n            'year_from' => $_GET['year_from'] ?? '',\n            'year_to' => $_GET['year_to'] ?? ''\n        ];\n        \n        // Pagination\n        $limit = 20;\n        $page = isset($_GET['p']) ? max(1, intval($_GET['p'])) : 1;\n        $offset = ($page - 1) * $limit;\n        \n        // Legacy filter support\n        $legacyFilter = $_GET['filter'] ?? 'all';\n        if ($legacyFilter === 'current') {\n            $filters['payment_status'] = 'current';\n        } elseif ($legacyFilter === 'delinquent') {\n            $filters['payment_status'] = 'delinquent';\n        }\n        \n        $members = $this->member->readFiltered($filters, $limit, $offset);\n        $totalRecords = $this->member->countFiltered($filters);\n        $totalPages = ceil($totalRecords / $limit);\n        \n        // Get categories for filter dropdown\n        $categoryModel = new MemberCategory($this->db);\n        $categories = $categoryModel->readAll();\n        \n        require __DIR__ . '/../Views/members/list.php';\n    }\n\n    public function create() {\n        $this->checkAdmin();\n        \n        // Get categories for dropdown\n        $categoryModel = new MemberCategory($this->db);\n        $categories = $categoryModel->readAll();\n        \n        require __DIR__ . '/../Views/members/create.php';\n    }\n\n    public function store() {\n        $this->checkAdmin();\n        if ($_SERVER['REQUEST_METHOD'] === 'POST') {\n            // Validate CSRF token\n            require_once __DIR__ . '/../Helpers/CsrfHelper.php';\n            CsrfHelper::validateRequest();\n            $this->member->first_name = $_POST['first_name'];\n            $this->member->last_name = $_POST['last_name'];\n            $this->member->dni = $_POST['dni'] ?? null;\n            $this->member->email = $_POST['email'];\n            $this->member->phone = $_POST['phone'];\n            $this->member->address = $_POST['address'];\n            $this->member->status = $_POST['status'] ?? 'active';\n            $this->member->category_id = !empty($_POST['category_id']) ? $_POST['category_id'] : null;\n            $this->member->photo_url = $this->handleUpload();\n\n            if ($this->member->create()) {\n                // Registrar en audit_log\n                require_once __DIR__ . '/../Models/AuditLog.php';\n                $audit = new AuditLog($this->db);\n                $lastId = $this->db->lastInsertId();\n                $audit->create(\n                    $_SESSION['user_id'],\n                    'create',\n                    'member',\n                    $lastId,\n                    'Alta de socio: ' . $this->member->first_name . ' ' . $this->member->last_name . ' (' . $this->member->email . ') por el usuario ' . ($_SESSION['username'] ?? '')\n                );\n                \n                // Enviar notificación de bienvenida al nuevo socio\n                try {\n                    require_once __DIR__ . '/../Helpers/NotificationHelper.php';\n                    $member_name = $this->member->first_name . ' ' . $this->member->last_name;\n                    NotificationHelper::sendWelcomeNotification(\n                        $this->db, \n                        $this->member->id, \n                        $member_name\n                    );\n                } catch (Exception $e) {\n                    // No fallar si la notificación no se puede enviar\n                    error_log(\"Error sending welcome notification: \" . $e->getMessage());\n                }\n                \n                header('Location: index.php?page=members');\n            } else {\n                $error = \"Error creating member.\";\n                require __DIR__ . '/../Views/members/create.php';\n            }\n        }\n    }\n\n    private function handleUpload() {\n        if (isset($_FILES['photo']) && $_FILES['photo']['error'] === UPLOAD_ERR_OK) {\n            // Validate file size (5MB maximum)\n            $maxSize = 5 * 1024 * 1024; // 5MB\n            if ($_FILES['photo']['size'] > $maxSize) {\n                throw new Exception('El archivo es demasiado grande. Máximo 5MB permitido.');\n            }\n            \n            // Validate MIME type\n            $allowedMimeTypes = ['image/jpeg', 'image/png', 'image/gif', 'image/webp'];\n            $finfo = finfo_open(FILEINFO_MIME_TYPE);\n            $mimeType = finfo_file($finfo, $_FILES['photo']['tmp_name']);\n            // finfo_close is deprecated and not needed in modern PHP\n            \n            if (!in_array($mimeType, $allowedMimeTypes)) {\n                throw new Exception('Tipo de archivo no permitido. Solo se permiten imágenes JPEG, PNG, GIF y WebP.');\n            }\n            \n            // Validate file extension\n            $allowedExtensions = ['jpg', 'jpeg', 'png', 'gif', 'webp'];\n            $extension = strtolower(pathinfo($_FILES['photo']['name'], PATHINFO_EXTENSION));\n            if (!in_array($extension, $allowedExtensions)) {\n                throw new Exception('Extensión de archivo no permitida.');\n            }\n            \n            $uploadDir = __DIR__ . '/../../public/uploads/members/';\n            if (!is_dir($uploadDir)) {\n                mkdir($uploadDir, 0755, true); // More restrictive permissions\n            }\n            \n            // Generate secure filename\n            $fileName = uniqid() . '_' . bin2hex(random_bytes(8)) . '.' . $extension;\n            $targetPath = $uploadDir . $fileName;\n            \n            if (move_uploaded_file($_FILES['photo']['tmp_name'], $targetPath)) {\n                return 'uploads/members/' . $fileName;\n            }\n        }\n        return null;\n    }\n\n    public function edit($id) {\n        $this->checkAdmin();\n        $this->member->id = $id;\n        if ($this->member->readOne()) {\n            $member = $this->member; // Pass object to view\n            \n            // Get categories for dropdown\n            $categoryModel = new MemberCategory($this->db);\n            $categories = $categoryModel->readAll();\n            \n            require __DIR__ . '/../Views/members/edit.php';\n        } else {\n            header('Location: index.php?page=members');\n        }\n    }\n\n    public function update($id) {\n        $this->checkAdmin();\n        if ($_SERVER['REQUEST_METHOD'] === 'POST') {\n            // Validate CSRF token\n            require_once __DIR__ . '/../Helpers/CsrfHelper.php';\n            CsrfHelper::validateRequest();\n            \n            $this->member->id = $id;\n            // Leer datos originales antes de modificar\n            $this->member->readOne();\n            $original = [\n                'first_name' => $this->member->first_name,\n                'last_name' => $this->member->last_name,\n                'dni' => $this->member->dni,\n                'email' => $this->member->email,\n                'phone' => $this->member->phone,\n                'address' => $this->member->address,\n                'latitude' => $this->member->latitude,\n                'longitude' => $this->member->longitude,\n                'status' => $this->member->status,\n                'category_id' => $this->member->category_id,\n                'photo_url' => $this->member->photo_url,\n                'created_at' => $this->member->created_at\n            ];\n            $currentPhoto = $this->member->photo_url;\n            // Asignar nuevos valores\n            $this->member->first_name = $_POST['first_name'];\n            $this->member->last_name = $_POST['last_name'];\n            $this->member->dni = $_POST['dni'] ?? null;\n            $this->member->email = $_POST['email'];\n            $this->member->phone = $_POST['phone'];\n            $this->member->address = $_POST['address'];\n            $this->member->latitude = $_POST['latitude'] ?? null;\n            $this->member->longitude = $_POST['longitude'] ?? null;\n            $this->member->status = $_POST['status'];\n            $this->member->category_id = !empty($_POST['category_id']) ? $_POST['category_id'] : null;\n            if (!empty($_POST['created_at'])) {\n                $this->member->created_at = $_POST['created_at'];\n            }\n            // Handle photo upload\n            $photoUrl = $currentPhoto; // Keep current photo by default\n            \n            // Check for upload errors first\n            if (isset($_FILES['photo']) && $_FILES['photo']['error'] !== UPLOAD_ERR_OK && $_FILES['photo']['error'] !== UPLOAD_ERR_NO_FILE) {\n                $uploadErrors = [\n                    UPLOAD_ERR_INI_SIZE => 'El archivo es demasiado grande. Tamaño máximo permitido: ' . ini_get('upload_max_filesize'),\n                    UPLOAD_ERR_FORM_SIZE => 'El archivo excede el tamaño máximo permitido por el formulario',\n                    UPLOAD_ERR_PARTIAL => 'El archivo solo se subió parcialmente',\n                    UPLOAD_ERR_NO_TMP_DIR => 'Falta la carpeta temporal en el servidor',\n                    UPLOAD_ERR_CANT_WRITE => 'Error al escribir el archivo en el disco',\n                    UPLOAD_ERR_EXTENSION => 'Una extensión de PHP detuvo la subida del archivo'\n                ];\n                \n                $error = $uploadErrors[$_FILES['photo']['error']] ?? 'Error desconocido al subir el archivo';\n                $member = $this->member;\n                require __DIR__ . '/../Views/members/edit.php';\n                return;\n            }\n            \n            // Check if a new photo is being uploaded and there's already a current photo\n            if (isset($_FILES['photo']) && $_FILES['photo']['error'] === UPLOAD_ERR_OK && $currentPhoto) {\n                \n                // Save the new image temporarily and redirect to comparison\n                $uploadDir = __DIR__ . '/../../public/uploads/members/temp/';\n                if (!is_dir($uploadDir)) {\n                    mkdir($uploadDir, 0777, true);\n                }\n\n                $allowedTypes = ['image/jpeg', 'image/png', 'image/gif', 'image/webp'];\n                $fileType = $_FILES['photo']['type'];\n\n                if (in_array($fileType, $allowedTypes)) {\n                    $extension = pathinfo($_FILES['photo']['name'], PATHINFO_EXTENSION);\n                    $tempFileName = 'temp_' . time() . '_' . uniqid() . '.' . $extension;\n                    $tempPath = $uploadDir . $tempFileName;\n\n                    if (move_uploaded_file($_FILES['photo']['tmp_name'], $tempPath)) {\n                        // Store data in session for comparison\n                        $_SESSION['image_comparison'] = [\n                            'member_id' => $id,\n                            'old_image' => $currentPhoto,\n                            'new_image_temp' => 'uploads/members/temp/' . $tempFileName,\n                            'member_data' => [\n                                'first_name' => $_POST['first_name'],\n                                'last_name' => $_POST['last_name'],\n                                'email' => $_POST['email'],\n                                'phone' => $_POST['phone'],\n                                'address' => $_POST['address'],\n                                'status' => $_POST['status']\n                            ]\n                        ];\n                        \n                        // Redirect to comparison view\n                        header('Location: index.php?page=members&action=compareImages');\n                        exit;\n                    }\n                }\n            } elseif (isset($_FILES['photo']) && $_FILES['photo']['error'] === UPLOAD_ERR_OK) {\n                // New photo upload (no existing photo)\n                $photoUrl = $this->handleUpload();\n                \n                // Add to history\n                if ($photoUrl) {\n                    $this->imageHistory->member_id = $id;\n                    $this->imageHistory->image_url = $photoUrl;\n                    $this->imageHistory->is_current = true;\n                    $this->imageHistory->uploaded_at = date('Y-m-d H:i:s');\n                    $this->imageHistory->replaced_at = null;\n                    $this->imageHistory->create();\n                }\n            }\n            \n            $this->member->photo_url = $photoUrl;\n\n            // Detectar campos modificados antes del update\n            $changedFields = [];\n            if ($original['first_name'] !== $_POST['first_name']) $changedFields[] = 'nombre';\n            if ($original['last_name'] !== $_POST['last_name']) $changedFields[] = 'apellidos';\n            if ($original['dni'] !== ($_POST['dni'] ?? null)) $changedFields[] = 'dni';\n            if ($original['email'] !== $_POST['email']) $changedFields[] = 'email';\n            if ($original['phone'] !== $_POST['phone']) $changedFields[] = 'teléfono';\n            if ($original['address'] !== $_POST['address']) $changedFields[] = 'dirección';\n            if ($original['latitude'] != ($_POST['latitude'] ?? null)) $changedFields[] = 'latitud';\n            if ($original['longitude'] != ($_POST['longitude'] ?? null)) $changedFields[] = 'longitud';\n            if ($original['status'] !== $_POST['status']) $changedFields[] = 'estado';\n            if ($original['category_id'] != (!empty($_POST['category_id']) ? $_POST['category_id'] : null)) $changedFields[] = 'categoría';\n            if ($photoUrl !== $original['photo_url']) $changedFields[] = 'imagen';\n            if (isset($_POST['created_at']) && $original['created_at'] !== $_POST['created_at']) $changedFields[] = 'fecha alta';\n            $detalle = 'Modificación de socio: ' . $original['first_name'] . ' ' . $original['last_name'] . ' (' . $original['email'] . ') por el usuario ' . ($_SESSION['username'] ?? '');\n            if ($changedFields) {\n                $detalle .= ' [Campos modificados: ' . implode(', ', $changedFields) . ']';\n                require_once __DIR__ . '/../Models/AuditLog.php';\n                $audit = new AuditLog($this->db);\n                $audit->create(\n                    $_SESSION['user_id'],\n                    'update',\n                    'member',\n                    $id,\n                    $detalle\n                );\n            }\n                if ($this->member->update()) {\n                    header('Location: index.php?page=members');\n                } else {\n                $error = \"Error updating member.\";\n                // Reload member data to show form again\n                $member = $this->member; \n                require __DIR__ . '/../Views/members/edit.php';\n            }\n        }\n    }\n\n    public function deactivate($id) {\n        $this->checkAdmin();\n        $this->member->id = $id;\n        if ($this->member->readOne()) {\n            $this->member->status = 'inactive';\n            $this->member->deactivated_at = date('Y-m-d H:i:s');\n            \n            if ($this->member->update()) {\n                // Registrar en audit_log\n                require_once __DIR__ . '/../Models/AuditLog.php';\n                $audit = new AuditLog($this->db);\n                $audit->create($_SESSION['user_id'], 'deactivate', 'member', $id, 'Baja de socio por el usuario ' . ($_SESSION['username'] ?? ''));\n                \n                header('Location: index.php?page=members&msg=deactivated');\n                exit;\n            }\n        }\n        header('Location: index.php?page=members&error=1');\n        exit;\n    }\n\n    public function delete($id) {\n        $this->checkAdmin();\n        $this->member->id = $id;\n        if ($this->member->delete()) {\n            // Registrar en audit_log\n            require_once __DIR__ . '/../Models/AuditLog.php';\n            $audit = new AuditLog($this->db);\n            $audit->create($_SESSION['user_id'], 'delete', 'member', $id, 'Borrado de socio por el usuario ' . ($_SESSION['username'] ?? ''));\n            \n            header('Location: index.php?page=members&msg=deleted');\n            exit;\n        }\n        header('Location: index.php?page=members&error=1');\n        exit;\n    }\n\n    public function markPaid($id) {\n        $this->checkAdmin();\n        $currentYear = date('Y');\n        \n        // Obtener la categoría del socio\n        $memberStmt = $this->db->prepare(\"SELECT category_id, first_name, last_name FROM members WHERE id = ?\");\n        $memberStmt->execute([$id]);\n        $member = $memberStmt->fetch(PDO::FETCH_ASSOC);\n        \n        if (!$member) {\n            $_SESSION['error'] = \"Socio no encontrado.\";\n            header('Location: index.php?page=members');\n            exit;\n        }\n        \n        // Obtener la cuota correcta según la categoría del socio\n        $paymentAmount = null;\n        if (!empty($member['category_id'])) {\n            // Intentar obtener cuota específica de la categoría\n            $categoryFeeStmt = $this->db->prepare(\"SELECT amount FROM category_fee_history WHERE category_id = ? AND year = ?\");\n            $categoryFeeStmt->execute([$member['category_id'], $currentYear]);\n            $categoryFee = $categoryFeeStmt->fetch(PDO::FETCH_ASSOC);\n            if ($categoryFee && isset($categoryFee['amount'])) {\n                $paymentAmount = floatval($categoryFee['amount']);\n            }\n        }\n        \n        // Si no hay cuota de categoría, usar cuota por defecto\n        if ($paymentAmount === null || $paymentAmount <= 0) {\n            $feeStmt = $this->db->prepare(\"SELECT amount FROM annual_fees WHERE year = ?\");\n            $feeStmt->execute([$currentYear]);\n            $fee = $feeStmt->fetch(PDO::FETCH_ASSOC);\n            if ($fee && isset($fee['amount'])) {\n                $paymentAmount = floatval($fee['amount']);\n            }\n        }\n        \n        if (!$paymentAmount || $paymentAmount <= 0) {\n            $_SESSION['error'] = \"No hay cuota definida para el año $currentYear. Por favor, define la cuota en Configuración > Cuotas Anuales.\";\n            \n            // Preserve current filters\n            $redirectParams = [];\n            if (isset($_GET['filter'])) $redirectParams['filter'] = $_GET['filter'];\n            if (isset($_GET['category'])) $redirectParams['category'] = $_GET['category'];\n            if (isset($_GET['payment_status'])) $redirectParams['payment_status'] = $_GET['payment_status'];\n            if (isset($_GET['search'])) $redirectParams['search'] = $_GET['search'];\n            if (isset($_GET['year_from'])) $redirectParams['year_from'] = $_GET['year_from'];\n            if (isset($_GET['year_to'])) $redirectParams['year_to'] = $_GET['year_to'];\n            if (isset($_GET['p'])) $redirectParams['p'] = $_GET['p'];\n            \n            $queryString = !empty($redirectParams) ? '&' . http_build_query($redirectParams) : '';\n            header('Location: index.php?page=members' . $queryString);\n            exit;\n        }\n        \n        try {\n            // Check if payment already exists\n            $checkStmt = $this->db->prepare(\"SELECT id, status FROM payments WHERE member_id = ? AND fee_year = ? AND payment_type = 'fee'\");\n            $checkStmt->execute([$id, $currentYear]);\n            $existingPayment = $checkStmt->fetch(PDO::FETCH_ASSOC);\n            \n            $paymentId = null;\n            $paymentDate = date('Y-m-d');\n            $paymentConcept = \"Cuota Anual \" . $currentYear;\n            \n            if ($existingPayment) {\n                // Update existing payment to paid\n                $updateStmt = $this->db->prepare(\"UPDATE payments SET status = 'paid', payment_date = ? WHERE id = ?\");\n                $success = $updateStmt->execute([$paymentDate, $existingPayment['id']]);\n                if (!$success) {\n                    throw new Exception(\"Error al actualizar el pago existente\");\n                }\n                $paymentId = $existingPayment['id'];\n                // Registrar en audit_log\n                require_once __DIR__ . '/../Models/AuditLog.php';\n                $audit = new AuditLog($this->db);\n                $audit->create($_SESSION['user_id'], 'markPaid', 'member_payment', $paymentId, 'Pago marcado como realizado por el usuario ' . ($_SESSION['username'] ?? ''));\n            } else {\n                // Create new payment as paid\n                $insertStmt = $this->db->prepare(\"INSERT INTO payments (member_id, amount, payment_date, concept, status, fee_year, payment_type) VALUES (?, ?, ?, ?, 'paid', ?, 'fee')\");\n                $success = $insertStmt->execute([\n                    $id,\n                    $paymentAmount,\n                    $paymentDate,\n                    $paymentConcept,\n                    $currentYear\n                ]);\n                if (!$success) {\n                    throw new Exception(\"Error al crear el nuevo pago\");\n                }\n                $paymentId = $this->db->lastInsertId();\n                // Registrar en audit_log\n                require_once __DIR__ . '/../Models/AuditLog.php';\n                $audit = new AuditLog($this->db);\n                $audit->create($_SESSION['user_id'], 'markPaid', 'member_payment', $paymentId, 'Pago creado y marcado como realizado por el usuario ' . ($_SESSION['username'] ?? ''));\n            }\n            \n            // Crear asiento contable automático\n            require_once __DIR__ . '/../Helpers/AccountingHelper.php';\n            $accountingCreated = AccountingHelper::createEntryFromPayment(\n                $this->db,\n                $paymentId,\n                $paymentAmount,\n                $paymentConcept,\n                $paymentDate,\n                'transfer', // Método de pago por defecto\n                'fee'\n            );\n            \n            if (!$accountingCreated) {\n                error_log(\"No se pudo crear el asiento contable para el pago de cuota #$paymentId\");\n            }\n            \n            $_SESSION['success'] = 'Pago marcado correctamente' . ($accountingCreated ? ' y registrado en contabilidad' : '');        } catch (Exception $e) {\n            error_log(\"Error in markPaid: \" . $e->getMessage());\n            $_SESSION['error'] = 'Error al marcar el pago: ' . $e->getMessage();\n        }\n        \n        // Preserve current filters\n        $redirectParams = [];\n        if (isset($_GET['filter'])) $redirectParams['filter'] = $_GET['filter'];\n        if (isset($_GET['category'])) $redirectParams['category'] = $_GET['category'];\n        if (isset($_GET['payment_status'])) $redirectParams['payment_status'] = $_GET['payment_status'];\n        if (isset($_GET['search'])) $redirectParams['search'] = $_GET['search'];\n        if (isset($_GET['year_from'])) $redirectParams['year_from'] = $_GET['year_from'];\n        if (isset($_GET['year_to'])) $redirectParams['year_to'] = $_GET['year_to'];\n        if (isset($_GET['p'])) $redirectParams['p'] = $_GET['p'];\n        \n        $queryString = !empty($redirectParams) ? '&' . http_build_query($redirectParams) : '';\n        header('Location: index.php?page=members' . $queryString);\n        exit;\n    }\n\n    public function compareImages() {\n        $this->checkAdmin();\n        \n        if (!isset($_SESSION['image_comparison'])) {\n            header('Location: index.php?page=members');\n            exit;\n        }\n        \n        $comparisonData = $_SESSION['image_comparison'];\n        \n        // Load member data\n        $this->member->id = $comparisonData['member_id'];\n        $this->member->readOne();\n        $member = $this->member;\n        \n        require __DIR__ . '/../Views/members/compare_images.php';\n    }\n\n    public function selectImage($id) {\n        $this->checkAdmin();\n        \n        if (!isset($_SESSION['image_comparison']) || $_SESSION['image_comparison']['member_id'] != $id) {\n            header('Location: index.php?page=members');\n            exit;\n        }\n        \n        $comparisonData = $_SESSION['image_comparison'];\n        $choice = $_POST['choice'] ?? '';\n        \n        if ($choice === 'new') {\n            // User chose the new image\n            // Move temp file to permanent location\n            $tempPath = __DIR__ . '/../../public/' . $comparisonData['new_image_temp'];\n            $permanentFileName = 'member_' . time() . '_' . uniqid() . '.' . pathinfo($tempPath, PATHINFO_EXTENSION);\n            $permanentPath = __DIR__ . '/../../public/uploads/members/' . $permanentFileName;\n            \n            if (rename($tempPath, $permanentPath)) {\n                $newPhotoUrl = 'uploads/members/' . $permanentFileName;\n                \n                // Mark old image as not current in history\n                $this->imageHistory->markAllAsNotCurrent($id);\n                \n                // Add old image to history if not already there\n                if ($comparisonData['old_image'] && !$this->imageHistory->imageExists($id, $comparisonData['old_image'])) {\n                    $this->imageHistory->member_id = $id;\n                    $this->imageHistory->image_url = $comparisonData['old_image'];\n                    $this->imageHistory->is_current = false;\n                    $this->imageHistory->uploaded_at = date('Y-m-d H:i:s');\n                    $this->imageHistory->replaced_at = date('Y-m-d H:i:s');\n                    $this->imageHistory->create();\n                }\n                \n                // Add new image to history as current\n                $this->imageHistory->member_id = $id;\n                $this->imageHistory->image_url = $newPhotoUrl;\n                $this->imageHistory->is_current = true;\n                $this->imageHistory->uploaded_at = date('Y-m-d H:i:s');\n                $this->imageHistory->replaced_at = null;\n                $this->imageHistory->create();\n                \n                // Update member with new photo\n                $this->member->id = $id;\n                $this->member->readOne();\n                $this->member->photo_url = $newPhotoUrl;\n            }\n        } else {\n            // User chose to keep the old image\n            // Delete the temporary new image\n            $tempPath = __DIR__ . '/../../public/' . $comparisonData['new_image_temp'];\n            if (file_exists($tempPath)) {\n                unlink($tempPath);\n            }\n        }\n        \n        // Update member with other data\n        $this->member->id = $id;\n        $this->member->readOne();\n        $this->member->first_name = $comparisonData['member_data']['first_name'];\n        $this->member->last_name = $comparisonData['member_data']['last_name'];\n        $this->member->email = $comparisonData['member_data']['email'];\n        $this->member->phone = $comparisonData['member_data']['phone'];\n        $this->member->address = $comparisonData['member_data']['address'];\n        $this->member->status = $comparisonData['member_data']['status'];\n        $this->member->update();\n        \n        // Clean up session\n        unset($_SESSION['image_comparison']);\n        \n        header('Location: index.php?page=members&msg=updated');\n        exit;\n    }\n\n    public function imageHistory($id) {\n        $this->checkAdmin();\n        \n        // Load member data\n        $this->member->id = $id;\n        if (!$this->member->readOne()) {\n            header('Location: index.php?page=members');\n            exit;\n        }\n        $member = $this->member;\n        \n        // Get image history\n        $historyStmt = $this->imageHistory->getByMember($id);\n        $images = $historyStmt->fetchAll(PDO::FETCH_ASSOC);\n        \n        require __DIR__ . '/../Views/members/image_history.php';\n    }\n\n    public function restoreImage($memberId, $historyId) {\n        $this->checkAdmin();\n        \n        // Verify history entry exists and belongs to this member\n        $this->imageHistory->id = $historyId;\n        if (!$this->imageHistory->readOne() || $this->imageHistory->member_id != $memberId) {\n            header('Location: index.php?page=members&action=imageHistory&id=' . $memberId . '&error=invalid');\n            exit;\n        }\n        \n        // Set this image as current\n        $this->imageHistory->setAsCurrent($historyId, $memberId);\n        \n        // Update member's photo_url\n        $this->member->id = $memberId;\n        $this->member->readOne();\n        $this->member->photo_url = $this->imageHistory->image_url;\n        $this->member->update();\n        \n        header('Location: index.php?page=members&action=imageHistory&id=' . $memberId . '&msg=restored');\n        exit;\n    }\n    \n    // ... Funcionalidad de mapa y GPS eliminada ...\n}\n\n","epoch":2665,"telemetryInfo":{}}],["file:///root/Documentos/github/GestionSocios/src/Controllers/MemberController.php::request_39bbc355-b042-4bc7-a04b-9e8cf5eaec75",{"uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Controllers/MemberController.php","external":"file:///root/Documentos/github/GestionSocios/src/Controllers/MemberController.php","path":"/root/Documentos/github/GestionSocios/src/Controllers/MemberController.php","scheme":"file"},"requestId":"request_39bbc355-b042-4bc7-a04b-9e8cf5eaec75","content":"<?php\n\nclass MemberController {\n    private $db;\n    private $member;\n    private $imageHistory;\n\n    public function __construct() {\n        $database = new Database();\n        $this->db = $database->getConnection();\n        $this->member = new Member($this->db);\n        $this->imageHistory = new MemberImageHistory($this->db);\n    }\n\n    private function checkAdmin() {\n        if (($_SESSION['role'] ?? '') !== 'admin') {\n            header('Location: index.php?page=members');\n            exit;\n        }\n    }\n\n    public function index() {\n        // Build filters from GET parameters\n        $filters = [\n            'status' => $_GET['status'] ?? '',\n            'payment_status' => $_GET['payment_status'] ?? '',\n            'category_id' => $_GET['category_id'] ?? '',\n            'search' => $_GET['search'] ?? '',\n            'year_from' => $_GET['year_from'] ?? '',\n            'year_to' => $_GET['year_to'] ?? ''\n        ];\n        \n        // Pagination\n        $limit = 20;\n        $page = isset($_GET['p']) ? max(1, intval($_GET['p'])) : 1;\n        $offset = ($page - 1) * $limit;\n        \n        // Legacy filter support\n        $legacyFilter = $_GET['filter'] ?? 'all';\n        if ($legacyFilter === 'current') {\n            $filters['payment_status'] = 'current';\n        } elseif ($legacyFilter === 'delinquent') {\n            $filters['payment_status'] = 'delinquent';\n        }\n        \n        $members = $this->member->readFiltered($filters, $limit, $offset);\n        $totalRecords = $this->member->countFiltered($filters);\n        $totalPages = ceil($totalRecords / $limit);\n        \n        // Get categories for filter dropdown\n        $categoryModel = new MemberCategory($this->db);\n        $categories = $categoryModel->readAll();\n        \n        require __DIR__ . '/../Views/members/list.php';\n    }\n\n    public function create() {\n        $this->checkAdmin();\n        \n        // Get categories for dropdown\n        $categoryModel = new MemberCategory($this->db);\n        $categories = $categoryModel->readAll();\n        \n        require __DIR__ . '/../Views/members/create.php';\n    }\n\n    public function store() {\n        $this->checkAdmin();\n        if ($_SERVER['REQUEST_METHOD'] === 'POST') {\n            // Validate CSRF token\n            require_once __DIR__ . '/../Helpers/CsrfHelper.php';\n            CsrfHelper::validateRequest();\n            $this->member->first_name = $_POST['first_name'];\n            $this->member->last_name = $_POST['last_name'];\n            $this->member->dni = $_POST['dni'] ?? null;\n            $this->member->email = $_POST['email'];\n            $this->member->phone = $_POST['phone'];\n            $this->member->address = $_POST['address'];\n            $this->member->status = $_POST['status'] ?? 'active';\n            $this->member->category_id = !empty($_POST['category_id']) ? $_POST['category_id'] : null;\n            $this->member->photo_url = $this->handleUpload();\n\n            if ($this->member->create()) {\n                // Registrar en audit_log\n                require_once __DIR__ . '/../Models/AuditLog.php';\n                $audit = new AuditLog($this->db);\n                $lastId = $this->db->lastInsertId();\n                $audit->create(\n                    $_SESSION['user_id'],\n                    'create',\n                    'member',\n                    $lastId,\n                    'Alta de socio: ' . $this->member->first_name . ' ' . $this->member->last_name . ' (' . $this->member->email . ') por el usuario ' . ($_SESSION['username'] ?? '')\n                );\n                \n                // Enviar notificación de bienvenida al nuevo socio\n                try {\n                    require_once __DIR__ . '/../Helpers/NotificationHelper.php';\n                    $member_name = $this->member->first_name . ' ' . $this->member->last_name;\n                    NotificationHelper::sendWelcomeNotification(\n                        $this->db, \n                        $this->member->id, \n                        $member_name\n                    );\n                } catch (Exception $e) {\n                    // No fallar si la notificación no se puede enviar\n                    error_log(\"Error sending welcome notification: \" . $e->getMessage());\n                }\n                \n                header('Location: index.php?page=members');\n            } else {\n                $error = \"Error creating member.\";\n                require __DIR__ . '/../Views/members/create.php';\n            }\n        }\n    }\n\n    private function handleUpload() {\n        if (isset($_FILES['photo']) && $_FILES['photo']['error'] === UPLOAD_ERR_OK) {\n            // Validate file size (5MB maximum)\n            $maxSize = 5 * 1024 * 1024; // 5MB\n            if ($_FILES['photo']['size'] > $maxSize) {\n                throw new Exception('El archivo es demasiado grande. Máximo 5MB permitido.');\n            }\n            \n            // Validate MIME type\n            $allowedMimeTypes = ['image/jpeg', 'image/png', 'image/gif', 'image/webp'];\n            $finfo = finfo_open(FILEINFO_MIME_TYPE);\n            $mimeType = finfo_file($finfo, $_FILES['photo']['tmp_name']);\n            // finfo_close is deprecated and not needed in modern PHP\n            \n            if (!in_array($mimeType, $allowedMimeTypes)) {\n                throw new Exception('Tipo de archivo no permitido. Solo se permiten imágenes JPEG, PNG, GIF y WebP.');\n            }\n            \n            // Validate file extension\n            $allowedExtensions = ['jpg', 'jpeg', 'png', 'gif', 'webp'];\n            $extension = strtolower(pathinfo($_FILES['photo']['name'], PATHINFO_EXTENSION));\n            if (!in_array($extension, $allowedExtensions)) {\n                throw new Exception('Extensión de archivo no permitida.');\n            }\n            \n            $uploadDir = __DIR__ . '/../../public/uploads/members/';\n            if (!is_dir($uploadDir)) {\n                mkdir($uploadDir, 0755, true); // More restrictive permissions\n            }\n            \n            // Generate secure filename\n            $fileName = uniqid() . '_' . bin2hex(random_bytes(8)) . '.' . $extension;\n            $targetPath = $uploadDir . $fileName;\n            \n            if (move_uploaded_file($_FILES['photo']['tmp_name'], $targetPath)) {\n                return 'uploads/members/' . $fileName;\n            }\n        }\n        return null;\n    }\n\n    public function edit($id) {\n        $this->checkAdmin();\n        $this->member->id = $id;\n        if ($this->member->readOne()) {\n            $member = $this->member; // Pass object to view\n            \n            // Get categories for dropdown\n            $categoryModel = new MemberCategory($this->db);\n            $categories = $categoryModel->readAll();\n            \n            require __DIR__ . '/../Views/members/edit.php';\n        } else {\n            header('Location: index.php?page=members');\n        }\n    }\n\n    public function update($id) {\n        $this->checkAdmin();\n        if ($_SERVER['REQUEST_METHOD'] === 'POST') {\n            // Validate CSRF token\n            require_once __DIR__ . '/../Helpers/CsrfHelper.php';\n            CsrfHelper::validateRequest();\n            \n            $this->member->id = $id;\n            // Leer datos originales antes de modificar\n            $this->member->readOne();\n            $original = [\n                'first_name' => $this->member->first_name,\n                'last_name' => $this->member->last_name,\n                'dni' => $this->member->dni,\n                'email' => $this->member->email,\n                'phone' => $this->member->phone,\n                'address' => $this->member->address,\n                'latitude' => $this->member->latitude,\n                'longitude' => $this->member->longitude,\n                'status' => $this->member->status,\n                'category_id' => $this->member->category_id,\n                'photo_url' => $this->member->photo_url,\n                'created_at' => $this->member->created_at\n            ];\n            $currentPhoto = $this->member->photo_url;\n            // Asignar nuevos valores\n            $this->member->first_name = $_POST['first_name'];\n            $this->member->last_name = $_POST['last_name'];\n            $this->member->dni = $_POST['dni'] ?? null;\n            $this->member->email = $_POST['email'];\n            $this->member->phone = $_POST['phone'];\n            $this->member->address = $_POST['address'];\n            $this->member->latitude = $_POST['latitude'] ?? null;\n            $this->member->longitude = $_POST['longitude'] ?? null;\n            $this->member->status = $_POST['status'];\n            $this->member->category_id = !empty($_POST['category_id']) ? $_POST['category_id'] : null;\n            if (!empty($_POST['created_at'])) {\n                $this->member->created_at = $_POST['created_at'];\n            }\n            // Handle photo upload\n            $photoUrl = $currentPhoto; // Keep current photo by default\n            \n            // Check for upload errors first\n            if (isset($_FILES['photo']) && $_FILES['photo']['error'] !== UPLOAD_ERR_OK && $_FILES['photo']['error'] !== UPLOAD_ERR_NO_FILE) {\n                $uploadErrors = [\n                    UPLOAD_ERR_INI_SIZE => 'El archivo es demasiado grande. Tamaño máximo permitido: ' . ini_get('upload_max_filesize'),\n                    UPLOAD_ERR_FORM_SIZE => 'El archivo excede el tamaño máximo permitido por el formulario',\n                    UPLOAD_ERR_PARTIAL => 'El archivo solo se subió parcialmente',\n                    UPLOAD_ERR_NO_TMP_DIR => 'Falta la carpeta temporal en el servidor',\n                    UPLOAD_ERR_CANT_WRITE => 'Error al escribir el archivo en el disco',\n                    UPLOAD_ERR_EXTENSION => 'Una extensión de PHP detuvo la subida del archivo'\n                ];\n                \n                $error = $uploadErrors[$_FILES['photo']['error']] ?? 'Error desconocido al subir el archivo';\n                $member = $this->member;\n                require __DIR__ . '/../Views/members/edit.php';\n                return;\n            }\n            \n            // Check if a new photo is being uploaded and there's already a current photo\n            if (isset($_FILES['photo']) && $_FILES['photo']['error'] === UPLOAD_ERR_OK && $currentPhoto) {\n                \n                // Save the new image temporarily and redirect to comparison\n                $uploadDir = __DIR__ . '/../../public/uploads/members/temp/';\n                if (!is_dir($uploadDir)) {\n                    mkdir($uploadDir, 0777, true);\n                }\n\n                $allowedTypes = ['image/jpeg', 'image/png', 'image/gif', 'image/webp'];\n                $fileType = $_FILES['photo']['type'];\n\n                if (in_array($fileType, $allowedTypes)) {\n                    $extension = pathinfo($_FILES['photo']['name'], PATHINFO_EXTENSION);\n                    $tempFileName = 'temp_' . time() . '_' . uniqid() . '.' . $extension;\n                    $tempPath = $uploadDir . $tempFileName;\n\n                    if (move_uploaded_file($_FILES['photo']['tmp_name'], $tempPath)) {\n                        // Store data in session for comparison\n                        $_SESSION['image_comparison'] = [\n                            'member_id' => $id,\n                            'old_image' => $currentPhoto,\n                            'new_image_temp' => 'uploads/members/temp/' . $tempFileName,\n                            'member_data' => [\n                                'first_name' => $_POST['first_name'],\n                                'last_name' => $_POST['last_name'],\n                                'email' => $_POST['email'],\n                                'phone' => $_POST['phone'],\n                                'address' => $_POST['address'],\n                                'status' => $_POST['status']\n                            ]\n                        ];\n                        \n                        // Redirect to comparison view\n                        header('Location: index.php?page=members&action=compareImages');\n                        exit;\n                    }\n                }\n            } elseif (isset($_FILES['photo']) && $_FILES['photo']['error'] === UPLOAD_ERR_OK) {\n                // New photo upload (no existing photo)\n                $photoUrl = $this->handleUpload();\n                \n                // Add to history\n                if ($photoUrl) {\n                    $this->imageHistory->member_id = $id;\n                    $this->imageHistory->image_url = $photoUrl;\n                    $this->imageHistory->is_current = true;\n                    $this->imageHistory->uploaded_at = date('Y-m-d H:i:s');\n                    $this->imageHistory->replaced_at = null;\n                    $this->imageHistory->create();\n                }\n            }\n            \n            $this->member->photo_url = $photoUrl;\n\n            // Detectar campos modificados antes del update\n            $changedFields = [];\n            if ($original['first_name'] !== $_POST['first_name']) $changedFields[] = 'nombre';\n            if ($original['last_name'] !== $_POST['last_name']) $changedFields[] = 'apellidos';\n            if ($original['dni'] !== ($_POST['dni'] ?? null)) $changedFields[] = 'dni';\n            if ($original['email'] !== $_POST['email']) $changedFields[] = 'email';\n            if ($original['phone'] !== $_POST['phone']) $changedFields[] = 'teléfono';\n            if ($original['address'] !== $_POST['address']) $changedFields[] = 'dirección';\n            if ($original['latitude'] != ($_POST['latitude'] ?? null)) $changedFields[] = 'latitud';\n            if ($original['longitude'] != ($_POST['longitude'] ?? null)) $changedFields[] = 'longitud';\n            if ($original['status'] !== $_POST['status']) $changedFields[] = 'estado';\n            if ($original['category_id'] != (!empty($_POST['category_id']) ? $_POST['category_id'] : null)) $changedFields[] = 'categoría';\n            if ($photoUrl !== $original['photo_url']) $changedFields[] = 'imagen';\n            if (isset($_POST['created_at']) && $original['created_at'] !== $_POST['created_at']) $changedFields[] = 'fecha alta';\n            $detalle = 'Modificación de socio: ' . $original['first_name'] . ' ' . $original['last_name'] . ' (' . $original['email'] . ') por el usuario ' . ($_SESSION['username'] ?? '');\n            if ($changedFields) {\n                $detalle .= ' [Campos modificados: ' . implode(', ', $changedFields) . ']';\n                require_once __DIR__ . '/../Models/AuditLog.php';\n                $audit = new AuditLog($this->db);\n                $audit->create(\n                    $_SESSION['user_id'],\n                    'update',\n                    'member',\n                    $id,\n                    $detalle\n                );\n            }\n                if ($this->member->update()) {\n                    header('Location: index.php?page=members');\n                } else {\n                $error = \"Error updating member.\";\n                // Reload member data to show form again\n                $member = $this->member; \n                require __DIR__ . '/../Views/members/edit.php';\n            }\n        }\n    }\n\n    public function deactivate($id) {\n        $this->checkAdmin();\n        $this->member->id = $id;\n        if ($this->member->readOne()) {\n            $this->member->status = 'inactive';\n            $this->member->deactivated_at = date('Y-m-d H:i:s');\n            \n            if ($this->member->update()) {\n                // Registrar en audit_log\n                require_once __DIR__ . '/../Models/AuditLog.php';\n                $audit = new AuditLog($this->db);\n                $audit->create($_SESSION['user_id'], 'deactivate', 'member', $id, 'Baja de socio por el usuario ' . ($_SESSION['username'] ?? ''));\n                \n                header('Location: index.php?page=members&msg=deactivated');\n                exit;\n            }\n        }\n        header('Location: index.php?page=members&error=1');\n        exit;\n    }\n\n    public function delete($id) {\n        $this->checkAdmin();\n        $this->member->id = $id;\n        if ($this->member->delete()) {\n            // Registrar en audit_log\n            require_once __DIR__ . '/../Models/AuditLog.php';\n            $audit = new AuditLog($this->db);\n            $audit->create($_SESSION['user_id'], 'delete', 'member', $id, 'Borrado de socio por el usuario ' . ($_SESSION['username'] ?? ''));\n            \n            header('Location: index.php?page=members&msg=deleted');\n            exit;\n        }\n        header('Location: index.php?page=members&error=1');\n        exit;\n    }\n\n    public function markPaid($id) {\n        $this->checkAdmin();\n        $currentYear = date('Y');\n        \n        // Obtener la categoría del socio\n        $memberStmt = $this->db->prepare(\"SELECT category_id, first_name, last_name FROM members WHERE id = ?\");\n        $memberStmt->execute([$id]);\n        $member = $memberStmt->fetch(PDO::FETCH_ASSOC);\n        \n        if (!$member) {\n            $_SESSION['error'] = \"Socio no encontrado.\";\n            header('Location: index.php?page=members');\n            exit;\n        }\n        \n        // DEBUG: Log para ver qué categoría tiene el socio\n        error_log(\"DEBUG markPaid - Socio ID: $id, Categoría: \" . ($member['category_id'] ?? 'NULL'));\n        \n        // Obtener la cuota correcta según la categoría del socio\n        $paymentAmount = null;\n        if (!empty($member['category_id'])) {\n            // Intentar obtener cuota específica de la categoría\n            $categoryFeeStmt = $this->db->prepare(\"SELECT amount FROM category_fee_history WHERE category_id = ? AND year = ?\");\n            $categoryFeeStmt->execute([$member['category_id'], $currentYear]);\n            $categoryFee = $categoryFeeStmt->fetch(PDO::FETCH_ASSOC);\n            error_log(\"DEBUG markPaid - Consulta categoría: category_id={$member['category_id']}, year=$currentYear, resultado: \" . json_encode($categoryFee));\n            if ($categoryFee && isset($categoryFee['amount'])) {\n                $paymentAmount = floatval($categoryFee['amount']);\n                error_log(\"DEBUG markPaid - Cuota de categoría encontrada: $paymentAmount\");\n            }\n        }\n        \n        // Si no hay cuota de categoría, usar cuota por defecto\n        if ($paymentAmount === null || $paymentAmount <= 0) {\n            $feeStmt = $this->db->prepare(\"SELECT amount FROM annual_fees WHERE year = ?\");\n            $feeStmt->execute([$currentYear]);\n            $fee = $feeStmt->fetch(PDO::FETCH_ASSOC);\n            error_log(\"DEBUG markPaid - Consulta annual_fees: year=$currentYear, resultado: \" . json_encode($fee));\n            if ($fee && isset($fee['amount'])) {\n                $paymentAmount = floatval($fee['amount']);\n                error_log(\"DEBUG markPaid - Cuota por defecto encontrada: $paymentAmount\");\n            }\n        }\n        \n        error_log(\"DEBUG markPaid - Cuota final: \" . ($paymentAmount ?? 'NULL'));\n        \n        if (!$paymentAmount || $paymentAmount <= 0) {\n            $_SESSION['error'] = \"No hay cuota definida para el año $currentYear. Por favor, define la cuota en Configuración > Categorías.\";\n            \n            // Preserve current filters\n            $redirectParams = [];\n            if (isset($_GET['filter'])) $redirectParams['filter'] = $_GET['filter'];\n            if (isset($_GET['category'])) $redirectParams['category'] = $_GET['category'];\n            if (isset($_GET['payment_status'])) $redirectParams['payment_status'] = $_GET['payment_status'];\n            if (isset($_GET['search'])) $redirectParams['search'] = $_GET['search'];\n            if (isset($_GET['year_from'])) $redirectParams['year_from'] = $_GET['year_from'];\n            if (isset($_GET['year_to'])) $redirectParams['year_to'] = $_GET['year_to'];\n            if (isset($_GET['p'])) $redirectParams['p'] = $_GET['p'];\n            \n            $queryString = !empty($redirectParams) ? '&' . http_build_query($redirectParams) : '';\n            header('Location: index.php?page=members' . $queryString);\n            exit;\n        }\n        \n        try {\n            // Check if payment already exists\n            $checkStmt = $this->db->prepare(\"SELECT id, status FROM payments WHERE member_id = ? AND fee_year = ? AND payment_type = 'fee'\");\n            $checkStmt->execute([$id, $currentYear]);\n            $existingPayment = $checkStmt->fetch(PDO::FETCH_ASSOC);\n            \n            $paymentId = null;\n            $paymentDate = date('Y-m-d');\n            $paymentConcept = \"Cuota Anual \" . $currentYear;\n            \n            if ($existingPayment) {\n                // Update existing payment to paid\n                $updateStmt = $this->db->prepare(\"UPDATE payments SET status = 'paid', payment_date = ? WHERE id = ?\");\n                $success = $updateStmt->execute([$paymentDate, $existingPayment['id']]);\n                if (!$success) {\n                    throw new Exception(\"Error al actualizar el pago existente\");\n                }\n                $paymentId = $existingPayment['id'];\n                // Registrar en audit_log\n                require_once __DIR__ . '/../Models/AuditLog.php';\n                $audit = new AuditLog($this->db);\n                $audit->create($_SESSION['user_id'], 'markPaid', 'member_payment', $paymentId, 'Pago marcado como realizado por el usuario ' . ($_SESSION['username'] ?? ''));\n            } else {\n                // Create new payment as paid\n                $insertStmt = $this->db->prepare(\"INSERT INTO payments (member_id, amount, payment_date, concept, status, fee_year, payment_type) VALUES (?, ?, ?, ?, 'paid', ?, 'fee')\");\n                $success = $insertStmt->execute([\n                    $id,\n                    $paymentAmount,\n                    $paymentDate,\n                    $paymentConcept,\n                    $currentYear\n                ]);\n                if (!$success) {\n                    throw new Exception(\"Error al crear el nuevo pago\");\n                }\n                $paymentId = $this->db->lastInsertId();\n                // Registrar en audit_log\n                require_once __DIR__ . '/../Models/AuditLog.php';\n                $audit = new AuditLog($this->db);\n                $audit->create($_SESSION['user_id'], 'markPaid', 'member_payment', $paymentId, 'Pago creado y marcado como realizado por el usuario ' . ($_SESSION['username'] ?? ''));\n            }\n            \n            // Crear asiento contable automático\n            require_once __DIR__ . '/../Helpers/AccountingHelper.php';\n            $accountingCreated = AccountingHelper::createEntryFromPayment(\n                $this->db,\n                $paymentId,\n                $paymentAmount,\n                $paymentConcept,\n                $paymentDate,\n                'transfer', // Método de pago por defecto\n                'fee'\n            );\n            \n            if (!$accountingCreated) {\n                error_log(\"No se pudo crear el asiento contable para el pago de cuota #$paymentId\");\n            }\n            \n            $_SESSION['success'] = 'Pago marcado correctamente' . ($accountingCreated ? ' y registrado en contabilidad' : '');        } catch (Exception $e) {\n            error_log(\"Error in markPaid: \" . $e->getMessage());\n            $_SESSION['error'] = 'Error al marcar el pago: ' . $e->getMessage();\n        }\n        \n        // Preserve current filters\n        $redirectParams = [];\n        if (isset($_GET['filter'])) $redirectParams['filter'] = $_GET['filter'];\n        if (isset($_GET['category'])) $redirectParams['category'] = $_GET['category'];\n        if (isset($_GET['payment_status'])) $redirectParams['payment_status'] = $_GET['payment_status'];\n        if (isset($_GET['search'])) $redirectParams['search'] = $_GET['search'];\n        if (isset($_GET['year_from'])) $redirectParams['year_from'] = $_GET['year_from'];\n        if (isset($_GET['year_to'])) $redirectParams['year_to'] = $_GET['year_to'];\n        if (isset($_GET['p'])) $redirectParams['p'] = $_GET['p'];\n        \n        $queryString = !empty($redirectParams) ? '&' . http_build_query($redirectParams) : '';\n        header('Location: index.php?page=members' . $queryString);\n        exit;\n    }\n\n    public function compareImages() {\n        $this->checkAdmin();\n        \n        if (!isset($_SESSION['image_comparison'])) {\n            header('Location: index.php?page=members');\n            exit;\n        }\n        \n        $comparisonData = $_SESSION['image_comparison'];\n        \n        // Load member data\n        $this->member->id = $comparisonData['member_id'];\n        $this->member->readOne();\n        $member = $this->member;\n        \n        require __DIR__ . '/../Views/members/compare_images.php';\n    }\n\n    public function selectImage($id) {\n        $this->checkAdmin();\n        \n        if (!isset($_SESSION['image_comparison']) || $_SESSION['image_comparison']['member_id'] != $id) {\n            header('Location: index.php?page=members');\n            exit;\n        }\n        \n        $comparisonData = $_SESSION['image_comparison'];\n        $choice = $_POST['choice'] ?? '';\n        \n        if ($choice === 'new') {\n            // User chose the new image\n            // Move temp file to permanent location\n            $tempPath = __DIR__ . '/../../public/' . $comparisonData['new_image_temp'];\n            $permanentFileName = 'member_' . time() . '_' . uniqid() . '.' . pathinfo($tempPath, PATHINFO_EXTENSION);\n            $permanentPath = __DIR__ . '/../../public/uploads/members/' . $permanentFileName;\n            \n            if (rename($tempPath, $permanentPath)) {\n                $newPhotoUrl = 'uploads/members/' . $permanentFileName;\n                \n                // Mark old image as not current in history\n                $this->imageHistory->markAllAsNotCurrent($id);\n                \n                // Add old image to history if not already there\n                if ($comparisonData['old_image'] && !$this->imageHistory->imageExists($id, $comparisonData['old_image'])) {\n                    $this->imageHistory->member_id = $id;\n                    $this->imageHistory->image_url = $comparisonData['old_image'];\n                    $this->imageHistory->is_current = false;\n                    $this->imageHistory->uploaded_at = date('Y-m-d H:i:s');\n                    $this->imageHistory->replaced_at = date('Y-m-d H:i:s');\n                    $this->imageHistory->create();\n                }\n                \n                // Add new image to history as current\n                $this->imageHistory->member_id = $id;\n                $this->imageHistory->image_url = $newPhotoUrl;\n                $this->imageHistory->is_current = true;\n                $this->imageHistory->uploaded_at = date('Y-m-d H:i:s');\n                $this->imageHistory->replaced_at = null;\n                $this->imageHistory->create();\n                \n                // Update member with new photo\n                $this->member->id = $id;\n                $this->member->readOne();\n                $this->member->photo_url = $newPhotoUrl;\n            }\n        } else {\n            // User chose to keep the old image\n            // Delete the temporary new image\n            $tempPath = __DIR__ . '/../../public/' . $comparisonData['new_image_temp'];\n            if (file_exists($tempPath)) {\n                unlink($tempPath);\n            }\n        }\n        \n        // Update member with other data\n        $this->member->id = $id;\n        $this->member->readOne();\n        $this->member->first_name = $comparisonData['member_data']['first_name'];\n        $this->member->last_name = $comparisonData['member_data']['last_name'];\n        $this->member->email = $comparisonData['member_data']['email'];\n        $this->member->phone = $comparisonData['member_data']['phone'];\n        $this->member->address = $comparisonData['member_data']['address'];\n        $this->member->status = $comparisonData['member_data']['status'];\n        $this->member->update();\n        \n        // Clean up session\n        unset($_SESSION['image_comparison']);\n        \n        header('Location: index.php?page=members&msg=updated');\n        exit;\n    }\n\n    public function imageHistory($id) {\n        $this->checkAdmin();\n        \n        // Load member data\n        $this->member->id = $id;\n        if (!$this->member->readOne()) {\n            header('Location: index.php?page=members');\n            exit;\n        }\n        $member = $this->member;\n        \n        // Get image history\n        $historyStmt = $this->imageHistory->getByMember($id);\n        $images = $historyStmt->fetchAll(PDO::FETCH_ASSOC);\n        \n        require __DIR__ . '/../Views/members/image_history.php';\n    }\n\n    public function restoreImage($memberId, $historyId) {\n        $this->checkAdmin();\n        \n        // Verify history entry exists and belongs to this member\n        $this->imageHistory->id = $historyId;\n        if (!$this->imageHistory->readOne() || $this->imageHistory->member_id != $memberId) {\n            header('Location: index.php?page=members&action=imageHistory&id=' . $memberId . '&error=invalid');\n            exit;\n        }\n        \n        // Set this image as current\n        $this->imageHistory->setAsCurrent($historyId, $memberId);\n        \n        // Update member's photo_url\n        $this->member->id = $memberId;\n        $this->member->readOne();\n        $this->member->photo_url = $this->imageHistory->image_url;\n        $this->member->update();\n        \n        header('Location: index.php?page=members&action=imageHistory&id=' . $memberId . '&msg=restored');\n        exit;\n    }\n    \n    // ... Funcionalidad de mapa y GPS eliminada ...\n}\n\n","epoch":2670,"telemetryInfo":{}}],["file:///root/Documentos/github/GestionSocios/src/Views/members/list.php::request_39bbc355-b042-4bc7-a04b-9e8cf5eaec75",{"uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Views/members/list.php","external":"file:///root/Documentos/github/GestionSocios/src/Views/members/list.php","path":"/root/Documentos/github/GestionSocios/src/Views/members/list.php","scheme":"file"},"requestId":"request_39bbc355-b042-4bc7-a04b-9e8cf5eaec75","content":"<?php ob_start(); ?>\n\n<?php if (isset($_SESSION['success'])): ?>\n    <div class=\"alert alert-success\">\n        <i class=\"fas fa-check-circle\"></i>\n        <?php echo $_SESSION['success']; unset($_SESSION['success']); ?>\n    </div>\n<?php endif; ?>\n\n<?php if (isset($_SESSION['error'])): ?>\n    <div class=\"alert alert-error\">\n        <i class=\"fas fa-exclamation-circle\"></i>\n        <?php echo $_SESSION['error']; unset($_SESSION['error']); ?>\n    </div>\n<?php endif; ?>\n\n<?php if (isset($_GET['msg'])): ?>\n    <div class=\"alert alert-success\">\n        <i class=\"fas fa-check-circle\"></i>\n        <?php \n            if ($_GET['msg'] === 'deactivated') echo 'Socio dado de baja correctamente.';\n            else if ($_GET['msg'] === 'deleted') echo 'Socio eliminado correctamente.';\n            else if ($_GET['msg'] === 'marked_paid') echo 'Cuota marcada como pagada correctamente.';\n        ?>\n    </div>\n<?php endif; ?>\n\n<?php if (isset($_GET['error'])): ?>\n    <div class=\"alert alert-error\">\n        <i class=\"fas fa-exclamation-circle\"></i>\n        <?php\n            if ($_GET['error'] === 'no_fee') echo 'No hay cuota definida para el año actual. Por favor, defínela primero en la sección de Cuotas.';\n            else echo 'Error al procesar la operación.';\n        ?>\n    </div>\n<?php endif; ?>\n\n<?php\n// Obtener la cuota anual y concepto para el año actual (Optimización: Una sola consulta)\n$currentYear = date('Y');\n$feeAmount = 0;\n$feeConcept = 'Cuota Anual ' . $currentYear;\ntry {\n    $feeStmt = $GLOBALS['db']->prepare(\"SELECT amount FROM annual_fees WHERE year = ?\");\n    $feeStmt->execute([$currentYear]);\n    $feeRow = $feeStmt->fetch(PDO::FETCH_ASSOC);\n    if ($feeRow) {\n        $feeAmount = $feeRow['amount'];\n    }\n} catch (Exception $e) {}\n?>\n\n<!-- Advanced Filters -->\n<div class=\"card\" style=\"margin-bottom: 1.5rem;\">\n    <form method=\"GET\" action=\"index.php\" style=\"display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem; align-items: end;\">\n        <input type=\"hidden\" name=\"page\" value=\"members\">\n        \n        <div class=\"form-group\" style=\"margin: 0;\">\n            <label class=\"form-label\" style=\"font-size: 0.875rem;\">Buscar</label>\n            <input type=\"text\" name=\"search\" class=\"form-control\" placeholder=\"Nombre, email, teléfono...\" value=\"<?php echo htmlspecialchars($_GET['search'] ?? ''); ?>\">\n        </div>\n        \n        <div class=\"form-group\" style=\"margin: 0;\">\n            <label class=\"form-label\" style=\"font-size: 0.875rem;\">Estado</label>\n            <select name=\"status\" class=\"form-control\">\n                <option value=\"\">Todos</option>\n                <option value=\"active\" <?php echo ($_GET['status'] ?? '') === 'active' ? 'selected' : ''; ?>>Activos</option>\n                <option value=\"inactive\" <?php echo ($_GET['status'] ?? '') === 'inactive' ? 'selected' : ''; ?>>Inactivos</option>\n            </select>\n        </div>\n        \n        <div class=\"form-group\" style=\"margin: 0;\">\n            <label class=\"form-label\" style=\"font-size: 0.875rem;\">Categoría</label>\n            <select name=\"category_id\" class=\"form-control\">\n                <option value=\"\">Todas</option>\n                <option value=\"0\" <?php echo ($_GET['category_id'] ?? '') == '0' ? 'selected' : ''; ?>>Sin categoría</option>\n                <?php foreach ($categories as $cat): ?>\n                    <option value=\"<?php echo $cat['id']; ?>\" <?php echo ($_GET['category_id'] ?? '') == $cat['id'] ? 'selected' : ''; ?>>\n                        <?php echo htmlspecialchars($cat['name']); ?>\n                    </option>\n                <?php endforeach; ?>\n            </select>\n        </div>\n        \n        <div class=\"form-group\" style=\"margin: 0;\">\n            <label class=\"form-label\" style=\"font-size: 0.875rem;\">Estado de Pago</label>\n            <select name=\"payment_status\" class=\"form-control\">\n                <option value=\"\">Todos</option>\n                <option value=\"current\" <?php echo ($_GET['payment_status'] ?? '') === 'current' ? 'selected' : ''; ?>>Al Corriente</option>\n                <option value=\"delinquent\" <?php echo ($_GET['payment_status'] ?? '') === 'delinquent' ? 'selected' : ''; ?>>Pendientes</option>\n            </select>\n        </div>\n        \n        <div class=\"form-group\" style=\"margin: 0;\">\n            <label class=\"form-label\" style=\"font-size: 0.875rem;\">Año Alta (desde)</label>\n            <input type=\"number\" name=\"year_from\" class=\"form-control\" min=\"2000\" max=\"<?php echo date('Y'); ?>\" placeholder=\"Ej: 2020\" value=\"<?php echo htmlspecialchars($_GET['year_from'] ?? ''); ?>\">\n        </div>\n        \n        <div style=\"display: flex; gap: 0.5rem; align-items: end;\">\n            <button type=\"submit\" class=\"btn btn-primary\" style=\"flex: 1;\">\n                <i class=\"fas fa-filter\"></i> Filtrar\n            </button>\n            <a href=\"index.php?page=members\" class=\"btn btn-secondary\">\n                <i class=\"fas fa-times\"></i>\n            </a>\n        </div>\n    </form>\n</div>\n\n<!-- Results Summary -->\n<div style=\"display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem; padding: 0.75rem; background: var(--bg-body); border-radius: var(--radius-md);\">\n    <div style=\"font-size: 0.875rem; color: var(--text-muted);\">\n        <i class=\"fas fa-users\"></i> \n        <strong><?php echo count($members); ?></strong> socio(s) encontrado(s)\n        <?php if (!empty(array_filter($_GET, fn($v, $k) => $k !== 'page' && !empty($v), ARRAY_FILTER_USE_BOTH))): ?>\n            <span style=\"color: var(--primary-600);\">(filtrado)</span>\n        <?php endif; ?>\n    </div>\n</div>\n\n<div class=\"flex justify-between items-center mb-4\">\n    <h1>Listado de Socios</h1>\n    <div class=\"btn-group\">\n        <div class=\"dropdown\" style=\"display: inline-block; position: relative; margin-right: 0.5rem;\">\n            <button class=\"btn btn-secondary dropdown-toggle\" id=\"exportDropdown\" onclick=\"toggleExportDropdown()\">\n                <i class=\"fas fa-download\"></i> Exportar\n            </button>\n            <div class=\"dropdown-menu\" id=\"exportMenu\" style=\"display: none;\">\n                <a href=\"index.php?page=export&action=members_excel\" class=\"dropdown-item\">\n                    <i class=\"fas fa-file-excel\"></i> Excel (CSV)\n                </a>\n                <a href=\"index.php?page=export&action=members_pdf\" class=\"dropdown-item\" target=\"_blank\">\n                    <i class=\"fas fa-file-pdf\"></i> PDF (Imprimir)\n                </a>\n            </div>\n        </div>\n        <a href=\"index.php?page=members&action=create\" class=\"btn btn-primary\">\n            <i class=\"fas fa-plus\"></i> Nuevo Socio\n        </a>\n    </div>\n</div>\n\n<div class=\"card\" style=\"padding: 0; overflow: hidden;\">\n    <div class=\"table-container\" style=\"border: none; border-radius: 0;\">\n        <table class=\"table\">\n            <thead>\n                <tr>\n                    <th>Socio</th>\n                    <th>Contacto</th>\n                    <th>Categoría</th>\n                    <th>Estado</th>\n                    <th style=\"text-align: right;\">Acciones</th>\n                </tr>\n            </thead>\n            <tbody>\n                <?php if (empty($members)): ?>\n                    <tr>\n                        <td colspan=\"5\" style=\"text-align: center; padding: 2rem; color: var(--text-muted);\">No hay socios registrados.</td>\n                    </tr>\n                <?php else: ?>\n                    <?php foreach ($members as $row): ?>\n                        <tr>\n                            <td style=\"font-weight: 500; display: flex; align-items: center; gap: 1rem;\">\n                                <?php if (!empty($row['photo_url'])): ?>\n                                    <img src=\"/<?php echo htmlspecialchars($row['photo_url']); ?>\" alt=\"Foto\" style=\"width: 40px; height: 40px; object-fit: cover; border-radius: 50%;\">\n                                <?php else: ?>\n                                    <div style=\"width: 40px; height: 40px; background: var(--primary-100); color: var(--primary-700); border-radius: 50%; display: flex; align-items: center; justify-content: center;\">\n                                        <i class=\"fas fa-image\"></i>\n                                    </div>\n                                <?php endif; ?>\n                                <div>\n                                    <span style=\"font-size: 0.85rem; color: var(--text-muted);\">#<?php echo $row['id']; ?></span><br>\n                                    <?php echo htmlspecialchars($row['first_name'] . ' ' . $row['last_name']); ?>\n                                </div>\n                            </td>\n                            <td>\n                                <div style=\"font-size: 0.875rem;\">\n                                    <i class=\"fas fa-envelope\" style=\"color: var(--text-light); width: 20px;\"></i> <?php echo htmlspecialchars($row['email']); ?>\n                                </div>\n                                <div style=\"font-size: 0.875rem; margin-top: 0.25rem;\">\n                                    <i class=\"fas fa-phone\" style=\"color: var(--text-light); width: 20px;\"></i> <?php echo htmlspecialchars($row['phone']); ?>\n                                </div>\n                            </td>\n                            <td>\n                                <?php if (!empty($row['category_name'])): ?>\n                                    <span class=\"badge\" style=\"background-color: <?php echo htmlspecialchars($row['category_color'] ?? '#6b7280'); ?>; color: white;\">\n                                        <?php echo htmlspecialchars($row['category_name']); ?>\n                                    </span>\n                                <?php else: ?>\n                                    <span style=\"color: var(--text-muted); font-size: 0.875rem;\">Sin categoría</span>\n                                <?php endif; ?>\n                            </td>\n                            <td>\n                                <span class=\"badge <?php echo $row['status'] === 'active' ? 'badge-active' : 'badge-inactive'; ?>\">\n                                    <?php echo $row['status'] === 'active' ? 'Activo' : 'Inactivo'; ?>\n                                </span>\n                            </td>\n                            <td style=\"text-align: right;\">\n                                <a href=\"index.php?page=members&action=edit&id=<?php echo $row['id']; ?>\" class=\"btn btn-sm btn-warning\">\n                                    <i class=\"fas fa-edit\" title=\"Editar\"></i>\n                                </a>\n                                \n                                <?php if (!empty($row['latitude']) && !empty($row['longitude'])): ?>\n                                <a href=\"index.php?page=map#member-<?php echo $row['id']; ?>\" class=\"btn btn-sm btn-warning\" title=\"Ver en mapa\">\n                                    <i class=\"fas fa-map-marker-alt\"></i>\n                                </a>\n                                <?php endif; ?>\n                                \n                                <div style=\"display: inline-block; position: relative;\">\n                                    <button onclick=\"toggleCertMenu(<?php echo $row['id']; ?>)\" class=\"btn btn-sm btn-info\" style=\"background: #8b5cf6; border-color: #8b5cf6;\">\n                                        <i class=\"fas fa-award\" title=\"Certificados\"></i> <i class=\"fas fa-chevron-down\" style=\"font-size: 0.7rem;\"></i>\n                                    </button>\n                                    <div id=\"certMenu<?php echo $row['id']; ?>\" class=\"dropdown-menu\" style=\"display: none; position: absolute; right: 0; background: white; border: 1px solid var(--border-light); border-radius: 0.5rem; box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1); z-index: 1000; min-width: 200px; margin-top: 0.25rem;\">\n                                        <a href=\"index.php?page=certificates&action=membership&id=<?php echo $row['id']; ?>\" target=\"_blank\" class=\"dropdown-item\" style=\"display: block; padding: 0.5rem 1rem; color: var(--text-base); text-decoration: none; transition: background 0.2s;\">\n                                            <i class=\"fas fa-id-card\" style=\"width: 20px;\"></i> Certificado de Socio\n                                        </a>\n                                        <a href=\"index.php?page=certificates&action=payments&id=<?php echo $row['id']; ?>&year=<?php echo date('Y'); ?>\" target=\"_blank\" class=\"dropdown-item\" style=\"display: block; padding: 0.5rem 1rem; color: var(--text-base); text-decoration: none; transition: background 0.2s;\">\n                                            <i class=\"fas fa-hand-holding-heart\" style=\"width: 20px;\"></i> Certificado de Pagos <?php echo date('Y'); ?>\n                                        </a>\n                                        <a href=\"index.php?page=certificates&action=payments&id=<?php echo $row['id']; ?>&year=<?php echo date('Y') - 1; ?>\" target=\"_blank\" class=\"dropdown-item\" style=\"display: block; padding: 0.5rem 1rem; color: var(--text-base); text-decoration: none; transition: background 0.2s;\">\n                                            <i class=\"fas fa-hand-holding-heart\" style=\"width: 20px;\"></i> Certificado de Pagos <?php echo date('Y') - 1; ?>\n                                        </a>\n                                    </div>\n                                </div>\n                                \n                                <?php if (empty($row['has_paid_current_year'])): \n                                // Obtener la cuota correcta para este socio según su categoría\n                                $memberFeeAmount = $feeAmount; // Default\n                                if (!empty($row['category_id'])) {\n                                    try {\n                                        $categoryFeeStmt = $GLOBALS['db']->prepare(\"SELECT amount FROM category_fee_history WHERE category_id = ? AND year = ?\");\n                                        $categoryFeeStmt->execute([$row['category_id'], $currentYear]);\n                                        $categoryFee = $categoryFeeStmt->fetch(PDO::FETCH_ASSOC);\n                                        if ($categoryFee) {\n                                            $memberFeeAmount = $categoryFee['amount'];\n                                        }\n                                    } catch (Exception $e) {\n                                        // Si falla, usar cuota por defecto\n                                    }\n                                }\n                                ?>\n                                <a href=\"index.php?page=members&action=markPaid&id=<?php echo $row['id']; ?>\"\n                                   class=\"btn btn-sm btn-primary\"\n                                   onclick=\"return confirm('¿Marcar la cuota de <?php echo $currentYear; ?> como pagada para este socio?\\nImporte: <?php echo number_format($memberFeeAmount, 2); ?> €\\nConcepto: <?php echo $feeConcept; ?>');\">\n                                    <i class=\"fas fa-check\"></i> Marcar como Pagado\n                                </a>\n                                <?php else: ?>\n                                <span class=\"badge\" style=\"background: #10b981; color: white; padding: 0.5rem 1rem; font-size: 0.875rem;\">\n                                    <i class=\"fas fa-check-circle\"></i> Al día <?php echo date('Y'); ?>\n                                </span>\n                                <?php endif; ?>\n                                \n                                <?php if ($row['status'] === 'active'): ?>\n                                    <a href=\"index.php?page=members&action=deactivate&id=<?php echo $row['id']; ?>\" \n                                       class=\"btn btn-sm btn-warning\"\n                                       title=\"Dar de Baja\"\n                                       onclick=\"return confirm('¿Dar de baja a este socio?\\n\\nEl socio pasará a estado inactivo pero se conservarán todos sus datos.');\">\n                                        <i class=\"fas fa-user-slash\"></i>\n                                    </a>\n                                <?php endif; ?>\n                                \n                                <a href=\"index.php?page=members&action=delete&id=<?php echo $row['id']; ?>\" \n                                   class=\"btn btn-sm btn-danger\"\n                                   title=\"Eliminar\"\n                                   onclick=\"return confirm('⚠️ ¿ELIMINAR PERMANENTEMENTE a este socio?\\n\\nEsta acción NO se puede deshacer.\\nSe eliminará el socio pero se conservarán sus pagos asociados.');\">\n                                    <i class=\"fas fa-trash\"></i>\n                                </a>\n                            </td>\n                        </tr>\n                    <?php endforeach; ?>\n                <?php endif; ?>\n            </tbody>\n        </table>\n    </div>\n    </div>\n</div>\n\n<!-- Pagination -->\n<?php if (isset($totalPages) && $totalPages > 1): ?>\n<div style=\"display: flex; justify-content: space-between; align-items: center; margin-top: 1rem;\">\n    <div style=\"font-size: 0.875rem; color: var(--text-muted);\">\n        Mostrando <?php echo ($offset + 1); ?> - <?php echo min($offset + $limit, $totalRecords); ?> de <?php echo $totalRecords; ?> registros\n    </div>\n    <div style=\"display: flex; gap: 0.5rem;\">\n        <?php if ($page > 1): ?>\n            <a href=\"index.php?<?php echo http_build_query(array_merge($_GET, ['p' => $page - 1])); ?>\" class=\"btn btn-sm btn-secondary\">\n                <i class=\"fas fa-chevron-left\"></i> Anterior\n            </a>\n        <?php endif; ?>\n        \n        <div style=\"display: flex; gap: 0.25rem;\">\n            <?php \n            $startPage = max(1, $page - 2);\n            $endPage = min($totalPages, $page + 2);\n            \n            if ($startPage > 1) {\n                echo '<span style=\"padding: 0.25rem 0.5rem;\">...</span>';\n            }\n            \n            for ($i = $startPage; $i <= $endPage; $i++): ?>\n                <a href=\"index.php?<?php echo http_build_query(array_merge($_GET, ['p' => $i])); ?>\" \n                   class=\"btn btn-sm <?php echo $i === $page ? 'btn-primary' : 'btn-secondary'; ?>\"\n                   style=\"<?php echo $i === $page ? '' : 'background: white;'; ?>\">\n                    <?php echo $i; ?>\n                </a>\n            <?php endfor; \n            \n            if ($endPage < $totalPages) {\n                echo '<span style=\"padding: 0.25rem 0.5rem;\">...</span>';\n            }\n            ?>\n        </div>\n\n        <?php if ($page < $totalPages): ?>\n            <a href=\"index.php?<?php echo http_build_query(array_merge($_GET, ['p' => $page + 1])); ?>\" class=\"btn btn-sm btn-secondary\">\n                Siguiente <i class=\"fas fa-chevron-right\"></i>\n            </a>\n        <?php endif; ?>\n    </div>\n</div>\n<?php endif; ?>\n\n\n<script>\nfunction toggleExportDropdown() {\n    const menu = document.getElementById('exportMenu');\n    menu.style.display = menu.style.display === 'none' ? 'block' : 'none';\n}\n\nfunction toggleCertMenu(memberId) {\n    const menu = document.getElementById('certMenu' + memberId);\n    // Close all other cert menus first\n    document.querySelectorAll('[id^=\"certMenu\"]').forEach(m => {\n        if (m.id !== 'certMenu' + memberId) {\n            m.style.display = 'none';\n        }\n    });\n    menu.style.display = menu.style.display === 'none' ? 'block' : 'none';\n}\n\n// Close dropdown when clicking outside\ndocument.addEventListener('click', function(e) {\n    const dropdown = document.getElementById('exportDropdown');\n    const menu = document.getElementById('exportMenu');\n    \n    if (menu && dropdown && !dropdown.contains(e.target) && !menu.contains(e.target)) {\n        menu.style.display = 'none';\n    }\n    \n    // Close certificate menus when clicking outside\n    if (!e.target.closest('[onclick^=\"toggleCertMenu\"]') && !e.target.closest('[id^=\"certMenu\"]')) {\n        document.querySelectorAll('[id^=\"certMenu\"]').forEach(m => {\n            m.style.display = 'none';\n        });\n    }\n});\n</script>\n\n<?php \n$content = ob_get_clean(); \nrequire __DIR__ . '/../layout.php'; \n?>\n","epoch":2671,"telemetryInfo":{}}],["file:///root/Documentos/github/GestionSocios/src/Views/members/create.php::request_1875dd0f-a3da-4469-8357-4bea81fd78a6",{"uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Views/members/create.php","external":"file:///root/Documentos/github/GestionSocios/src/Views/members/create.php","path":"/root/Documentos/github/GestionSocios/src/Views/members/create.php","scheme":"file"},"requestId":"request_1875dd0f-a3da-4469-8357-4bea81fd78a6","content":"<?php ob_start(); ?>\n\n<div class=\"mb-4\">\n    <a href=\"index.php?page=members\" class=\"btn btn-sm btn-secondary mb-4\">\n        <i class=\"fas fa-arrow-left\"></i> Volver al listado\n    </a>\n    <h1>Registrar Nuevo Socio</h1>\n</div>\n\n<div class=\"card\" style=\"max-width: 800px;\">\n    <form action=\"index.php?page=members&action=store\" method=\"POST\" enctype=\"multipart/form-data\">\n        <?php require_once __DIR__ . '/../../Helpers/CsrfHelper.php'; echo CsrfHelper::getTokenField(); ?>\n        <div style=\"display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem; margin-bottom: 1.5rem;\">\n            <div class=\"form-group\" style=\"margin-bottom: 0;\">\n                <label class=\"form-label\">Nombre</label>\n                <input type=\"text\" name=\"first_name\" class=\"form-control\" required>\n            </div>\n            <div class=\"form-group\" style=\"margin-bottom: 0;\">\n                <label class=\"form-label\">Apellidos</label>\n                <input type=\"text\" name=\"last_name\" class=\"form-control\" required>\n            </div>\n        </div>\n\n        <div style=\"display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem; margin-bottom: 1.5rem;\">\n            <div class=\"form-group\" style=\"margin-bottom: 0;\">\n                <label class=\"form-label\">DNI/NIE</label>\n                <input type=\"text\" name=\"dni\" class=\"form-control\" placeholder=\"Ej: 12345678A\">\n            </div>\n            <div class=\"form-group\" style=\"margin-bottom: 0;\">\n                <label class=\"form-label\">Email</label>\n                <input type=\"email\" name=\"email\" class=\"form-control\">\n            </div>\n        </div>\n\n        <div style=\"display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem; margin-bottom: 1.5rem;\">\n            <div class=\"form-group\" style=\"margin-bottom: 0;\">\n                <label class=\"form-label\">Teléfono</label>\n                <input type=\"text\" name=\"phone\" class=\"form-control\">\n            </div>\n            <div class=\"form-group\" style=\"margin-bottom: 0;\">\n                <!-- Spacer -->\n            </div>\n        </div>\n\n        <div class=\"form-group\">\n            <label class=\"form-label\">Dirección</label>\n            <textarea name=\"address\" id=\"address\" class=\"form-control\" rows=\"3\"></textarea>\n        </div>\n        <div class=\"form-group\">\n            <label class=\"form-label\">Ubicación GPS</label>\n            <div style=\"display: flex; gap: 0.5em; align-items: center; flex-wrap: wrap;\">\n                <button type=\"button\" class=\"btn btn-success\" id=\"getLocationBtn\" onclick=\"getLocation(this)\">\n                    <i class=\"fas fa-location-arrow\"></i> Capturar ubicación\n                </button>\n                <input type=\"hidden\" name=\"latitude\" id=\"latitude\">\n                <input type=\"hidden\" name=\"longitude\" id=\"longitude\">\n                <input type=\"text\" id=\"latitudeDisplay\" class=\"form-control\" style=\"width: 120px;\" placeholder=\"Latitud\" readonly>\n                <input type=\"text\" id=\"longitudeDisplay\" class=\"form-control\" style=\"width: 120px;\" placeholder=\"Longitud\" readonly>\n                <a href=\"#\" id=\"mapLink\" class=\"btn btn-info\" style=\"margin-left:0.5em;display:none;\" target=\"_blank\">\n                    <i class=\"fas fa-map-marked-alt\"></i> Ver en mapa\n                </a>\n            </div>\n        </div>\n        <div class=\"form-group\">\n            <label class=\"form-label\">Coordenadas (lat,lon)</label>\n            <input type=\"text\" name=\"coords\" id=\"coords\" class=\"form-control\" placeholder=\"Ej: 43.30886520392798, -5.913371370241108\" oninput=\"coordsToFields(this.value)\">\n        </div>\n        <div class=\"form-group\">\n            <label class=\"form-label\">Estado</label>\n            <select name=\"status\" class=\"form-control\" required>\n                <option value=\"active\" selected>Activo</option>\n                <option value=\"inactive\">Inactivo</option>\n            </select>\n        </div>\n        <button type=\"submit\" class=\"btn btn-primary\">Registrar Socio</button>\n    </form>\n</div>\n\n<script>\nfunction getLocation(btn) {\n    if (!navigator.geolocation) {\n        alert('Geolocalización no soportada por este navegador.');\n        btn.disabled = false;\n        btn.innerHTML = '<i class=\"fas fa-location-arrow\"></i> Capturar ubicación';\n        return false;\n    }\n    btn.disabled = true;\n    btn.innerHTML = '<i class=\"fas fa-spinner fa-spin\"></i> Localizando...';\n    navigator.geolocation.getCurrentPosition(function(position) {\n        setLocation(position.coords.latitude, position.coords.longitude, btn);\n    }, function(error) {\n        btn.disabled = false;\n        btn.innerHTML = '<i class=\"fas fa-location-arrow\"></i> Capturar ubicación';\n        alert('No se pudo obtener la ubicación: ' + error.message);\n    }, { enableHighAccuracy: true, timeout: 10000, maximumAge: 0 });\n}\nfunction setLocation(lat, lng, btn) {\n    document.getElementById('latitude').value = lat;\n    document.getElementById('longitude').value = lng;\n    document.getElementById('latitudeDisplay').value = lat.toFixed(6);\n    document.getElementById('longitudeDisplay').value = lng.toFixed(6);\n    btn.innerHTML = '<i class=\"fas fa-check\"></i> ¡Ubicación capturada!';\n    btn.classList.remove('btn-success');\n    btn.classList.add('btn-primary');\n    const addressField = document.getElementById('address');\n    if (!addressField.value || addressField.value.trim() === '') {\n        // Geolocalización inversa\n        fetch(`https://nominatim.openstreetmap.org/reverse?format=jsonv2&lat=${lat}&lon=${lng}`)\n            .then(response => response.json())\n            .then(data => {\n                if (data && data.display_name) {\n                    addressField.value = data.display_name;\n                } else {\n                    addressField.placeholder = `Ubicación capturada: ${lat.toFixed(6)}, ${lng.toFixed(6)}`;\n                }\n            })\n            .catch(() => {\n                addressField.placeholder = `Ubicación capturada: ${lat.toFixed(6)}, ${lng.toFixed(6)}`;\n            });\n    }\n    // Mostrar link al mapa\n    const mapLink = document.getElementById('mapLink');\n    mapLink.href = `https://www.google.com/maps?q=${lat},${lng}`;\n    mapLink.style.display = 'inline-block';\n    setTimeout(() => {\n        btn.innerHTML = '<i class=\"fas fa-location-arrow\"></i> Capturar ubicación';\n        btn.disabled = false;\n    }, 2000);\n}\nfunction coordsToFields(val) {\n    const parts = val.split(',').map(x => x.trim());\n    if (parts.length === 2 && !isNaN(parts[0]) && !isNaN(parts[1])) {\n        document.getElementById('latitude').value = parts[0];\n        document.getElementById('longitude').value = parts[1];\n        document.getElementById('latitudeDisplay').value = parseFloat(parts[0]).toFixed(6);\n        document.getElementById('longitudeDisplay').value = parseFloat(parts[1]).toFixed(6);\n        // Actualizar link al mapa\n        const mapLink = document.getElementById('mapLink');\n        mapLink.href = `https://www.google.com/maps?q=${parts[0]},${parts[1]}`;\n        mapLink.style.display = 'inline-block';\n        // Geolocalización inversa si dirección está vacía\n        const addressField = document.getElementById('address');\n        if (!addressField.value || addressField.value.trim() === '') {\n            fetch(`https://nominatim.openstreetmap.org/reverse?format=jsonv2&lat=${parts[0]}&lon=${parts[1]}`)\n                .then(response => response.json())\n                .then(data => {\n                    if (data && data.display_name) {\n                        addressField.value = data.display_name;\n                    } else {\n                        addressField.placeholder = `Ubicación capturada: ${parts[0]}, ${parts[1]}`;\n                    }\n                })\n                .catch(() => {\n                    addressField.placeholder = `Ubicación capturada: ${parts[0]}, ${parts[1]}`;\n                });\n        }\n    }\n}\n</script>\n\n<?php \n$content = ob_get_clean(); \nrequire __DIR__ . '/../layout.php'; \n?>\n","epoch":2676,"telemetryInfo":{}}],["file:///root/Documentos/github/GestionSocios/src/Views/settings/index.php::request_1875dd0f-a3da-4469-8357-4bea81fd78a6",{"uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Views/settings/index.php","external":"file:///root/Documentos/github/GestionSocios/src/Views/settings/index.php","path":"/root/Documentos/github/GestionSocios/src/Views/settings/index.php","scheme":"file"},"requestId":"request_1875dd0f-a3da-4469-8357-4bea81fd78a6","content":"<?php ?>\n\n<style>\n.tab-content { display: none; }\n.tabs-system input[type=\"radio\"] {\n    position: absolute;\n    left: -9999px;\n}\n.tabs-nav {\n    display: flex;\n    justify-content: center;\n    gap: 1rem;\n    border-bottom: 3px solid var(--border-light);\n    background: var(--bg-card);\n    margin-bottom: 0;\n    z-index: 2;\n}\n.tabs-system #tab-organization:checked ~ .tabs-nav label[for=\"tab-organization\"],\n.tabs-system #tab-fees:checked ~ .tabs-nav label[for=\"tab-fees\"],\n.tabs-system #tab-ad_prices:checked ~ .tabs-nav label[for=\"tab-ad_prices\"],\n.tabs-system #tab-database:checked ~ .tabs-nav label[for=\"tab-database\"],\n.tabs-system #tab-security:checked ~ .tabs-nav label[for=\"tab-security\"] {\n    background: var(--primary-100, #e0e7ff);\n    color: var(--primary-700, #3730a3);\n    font-weight: bold;\n    border-radius: 8px 8px 0 0;\n    box-shadow: 0 2px 8px rgba(0,0,0,0.04);\n}\n.tabs-system #tab-organization:checked ~ .tab-content-wrapper #organization,\n.tabs-system #tab-fees:checked ~ .tab-content-wrapper #fees,\n.tabs-system #tab-ad_prices:checked ~ .tab-content-wrapper #ad_prices,\n.tabs-system #tab-database:checked ~ .tab-content-wrapper #database,\n.tabs-system #tab-security:checked ~ .tab-content-wrapper #security {\n    display: block;\n}\n.settings-container {\n    max-width: 1200px;\n    margin: 0 auto;\n}\n\n.settings-header {\n    margin-bottom: 2rem;\n}\n\n.settings-header h1 {\n    font-size: 2rem;\n    font-weight: 700;\n    color: var(--text-color);\n}\n\n.tabs-container {\n    background: var(--bg-card);\n    border-radius: var(--radius-lg);\n    box-shadow: var(--shadow-md);\n    overflow: hidden;\n}\n\n.tabs-nav {\n    background: var(--bg-card);\n    border-bottom: 3px solid var(--border-light);\n}\n\n.tabs-nav-primary {\n    display: flex;\n    justify-content: center;\n    gap: 0.5rem;\n    padding: 1rem 1rem 0.5rem 1rem;\n    border-bottom: 2px solid var(--border-light);\n}\n\n.tabs-nav-secondary {\n    display: flex;\n    justify-content: center;\n    gap: 0.5rem;\n    padding: 0.75rem 1rem 0 1rem;\n    flex-wrap: wrap;\n}\n\n.tab-btn {\n    background: none;\n    border: none;\n    padding: 0.75rem 1.5rem;\n    font-size: 0.95rem;\n    font-weight: 500;\n    color: var(--text-muted);\n    cursor: pointer;\n    position: relative;\n    transition: all 0.3s ease;\n    border-bottom: 4px solid transparent;\n    margin-bottom: -3px;\n    border-radius: 8px 8px 0 0;\n    white-space: nowrap;\n}\n\n.tab-btn.primary {\n    font-size: 1rem;\n    padding: 0.875rem 1.75rem;\n}\n\n.tab-btn.secondary {\n    font-size: 0.875rem;\n    padding: 0.625rem 1.25rem;\n}\n\n.tab-btn:hover {\n    color: var(--primary-600);\n    background: var(--primary-50);\n}\n\n.tab-btn.active {\n    color: var(--primary-600);\n    font-weight: 700;\n    border-bottom-color: var(--primary-600);\n    background: var(--primary-50);\n}\n\n.tab-btn i {\n    margin-right: 0.5rem;\n    font-size: 1rem;\n}\n\n.tab-content-wrapper {\n    padding: 2rem;\n}\n\n.section-title {\n    font-size: 1.5rem;\n    font-weight: 700;\n    color: var(--text-color);\n    margin-bottom: 1.5rem;\n}\n\n.settings-grid {\n    display: grid;\n    grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));\n    gap: 2rem;\n}\n\n.tab-content { display: none; }\n.tab-content.active-tab { display: block; }\n\n@media (max-width: 768px) {\n    .settings-grid {\n        grid-template-columns: 1fr;\n    }\n    \n    .tabs-nav-primary,\n    .tabs-nav-secondary {\n        overflow-x: auto;\n        justify-content: flex-start;\n        padding: 0.75rem 1rem;\n    }\n    \n    .tab-btn {\n        flex: 0 0 auto;\n        font-size: 0.85rem !important;\n        padding: 0.625rem 1rem !important;\n    }\n}\n    .category-card {\n        background: white;\n        border-radius: var(--radius-lg);\n        padding: 1.5rem;\n        margin-bottom: 1rem;\n        box-shadow: var(--shadow-md);\n        border-left: 4px solid;\n        transition: all 0.3s ease;\n    }\n    .category-card:hover {\n        box-shadow: var(--shadow-lg);\n        transform: translateY(-2px);\n    }\n    .category-header {\n        display: flex;\n        justify-content: space-between;\n        align-items: start;\n        margin-bottom: 1rem;\n    }\n    .category-info h3 {\n        font-size: 1.25rem;\n        font-weight: 600;\n        margin-bottom: 0.5rem;\n        display: flex;\n        align-items: center;\n        gap: 0.75rem;\n    }\n    .category-badge {\n        display: inline-block;\n        padding: 0.25rem 0.75rem;\n        font-weight: 700;\n        color: var(--primary-600);\n    }\n    .stat-label {\n        font-size: 0.875rem;\n        color: var(--text-muted);\n        margin-top: 0.25rem;\n    }\n    .category-actions { display: flex; gap: 0.5rem; }\n\n    /* Organization Settings Redesign */\n    .settings-section-header {\n        margin-bottom: 2rem;\n        padding-bottom: 1rem;\n        border-bottom: 1px solid var(--border-light);\n    }\n    .settings-section-header h2 {\n        font-size: 1.75rem;\n        color: var(--text-main);\n        margin-bottom: 0.5rem;\n    }\n    \n    .settings-grid-layout {\n        display: grid;\n        grid-template-columns: repeat(auto-fit, minmax(450px, 1fr));\n        gap: 1.5rem;\n        margin-bottom: 2rem;\n    }\n    \n    .settings-card {\n        background: var(--bg-card);\n        border-radius: var(--radius-lg);\n        box-shadow: var(--shadow-sm);\n        border: 1px solid var(--border-light);\n        overflow: hidden;\n        transition: transform 0.2s, box-shadow 0.2s;\n        height: 100%;\n    }\n    .settings-card:hover {\n        transform: translateY(-2px);\n        box-shadow: var(--shadow-md);\n    }\n    \n    .settings-card .card-header {\n        padding: 1.5rem;\n        background: var(--bg-main);\n        border-bottom: 1px solid var(--border-light);\n        display: flex;\n        align-items: center;\n        gap: 1rem;\n    }\n    \n    .header-icon {\n        width: 48px;\n        height: 48px;\n        border-radius: 12px;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        font-size: 1.5rem;\n    }\n    \n    .bg-primary-light { background: var(--primary-50); color: var(--primary-600); }\n    .bg-success-light { background: #dcfce7; color: #166534; }\n    .bg-purple-light { background: #f3e8ff; color: #7e22ce; }\n    .bg-warning-light { background: #fef9c3; color: #854d0e; }\n    \n    .header-text h3 {\n        font-size: 1.1rem;\n        font-weight: 600;\n        margin: 0;\n        color: var(--text-main);\n    }\n    .header-text p {\n        margin: 0;\n        font-size: 0.85rem;\n        color: var(--text-muted);\n    }\n    \n    .settings-card .card-body {\n        padding: 1.5rem;\n    }\n    \n    .form-actions-sticky {\n        position: sticky;\n        bottom: 2rem;\n        background: var(--bg-card);\n        padding: 1rem 2rem;\n        border-radius: var(--radius-lg);\n        box-shadow: var(--shadow-lg);\n        border: 1px solid var(--border-light);\n        display: flex;\n        justify-content: flex-end;\n        z-index: 10;\n        margin-top: 2rem;\n    }\n    \n    .logo-preview-container {\n        width: 100%;\n        height: 140px;\n        background: var(--bg-main);\n        border: 2px dashed var(--border-light);\n        border-radius: var(--radius-md);\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        overflow: hidden;\n    }\n    \n    .placeholder-logo {\n        text-align: center;\n    }\n    \n    @media (max-width: 768px) {\n        .settings-grid-layout {\n            grid-template-columns: 1fr;\n        }\n        .form-actions-sticky {\n            position: fixed;\n            bottom: 0;\n            left: 0;\n            right: 0;\n            border-radius: 0;\n            border-top: 1px solid var(--border-light);\n        }\n    }\n</style>\n\n<div class=\"settings-container\">\n    <div class=\"settings-header\">\n        <h1><i class=\"fas fa-cog\"></i> Configuración</h1>\n    </div>\n    <div class=\"tabs-container\">\n        <div class=\"tabs-nav\">\n            <!-- Nivel 1: Categorías principales -->\n            <div class=\"tabs-nav-primary\">\n                <button class=\"tab-btn primary\" onclick=\"switchTab('organization')\" id=\"tab-organization\">\n                    <i class=\"fas fa-building\"></i> Organización\n                </button>\n                <button class=\"tab-btn primary\" onclick=\"switchTab('members')\" id=\"tab-members\">\n                    <i class=\"fas fa-users\"></i> Socios\n                </button>\n                <button class=\"tab-btn primary\" onclick=\"switchTab('database')\" id=\"tab-database\">\n                    <i class=\"fas fa-database\"></i> Base de Datos\n                </button>\n                <button class=\"tab-btn primary\" onclick=\"switchTab('admin_users')\" id=\"tab-admin_users\">\n                    <i class=\"fas fa-user-shield\"></i> Usuarios Admin\n                </button>\n            </div>\n            \n            <!-- Nivel 2: Configuraciones específicas -->\n            <div class=\"tabs-nav-secondary\">\n                <button class=\"tab-btn secondary\" onclick=\"switchTab('ad_prices')\" id=\"tab-ad_prices\">\n                    <i class=\"fas fa-tags\"></i> Precios Anuncios\n                </button>\n                <button class=\"tab-btn secondary\" onclick=\"switchTab('notifications')\" id=\"tab-notifications\">\n                    <i class=\"fas fa-bell\"></i> Notificaciones\n                </button>\n                <button class=\"tab-btn secondary\" onclick=\"switchTab('social_media')\" id=\"tab-social_media\">\n                    <i class=\"fab fa-share-alt\"></i> Redes Sociales\n                </button>\n                <button class=\"tab-btn secondary\" onclick=\"switchTab('password-policy')\" id=\"tab-password-policy\">\n                    <i class=\"fas fa-shield-alt\"></i> Contraseñas\n                </button>\n            </div>\n        </div>\n        <!-- Organization Tab -->\n        <div id=\"organization\" class=\"tab-content active-tab\">\n            <div class=\"settings-section-header\">\n                <div>\n                    <h2 class=\"section-title\"><i class=\"fas fa-building\"></i> Configuración de la Organización</h2>\n                    <p class=\"text-muted\">Gestiona la información pública, legal y de contacto de tu entidad.</p>\n                </div>\n            </div>\n\n            <?php if (isset($_SESSION['success'])): ?>\n                <div class=\"alert alert-success\"><i class=\"fas fa-check-circle\"></i> <?= $_SESSION['success']; unset($_SESSION['success']); ?></div>\n            <?php endif; ?>\n            <?php if (isset($_SESSION['error'])): ?>\n                <div class=\"alert alert-danger\"><i class=\"fas fa-exclamation-circle\"></i> <?= $_SESSION['error']; unset($_SESSION['error']); ?></div>\n            <?php endif; ?>\n\n            <form action=\"index.php?page=settings&action=updateOrganization\" method=\"POST\" enctype=\"multipart/form-data\">\n                <div class=\"settings-grid-layout\">\n                    \n                    <!-- Información General -->\n                    <div class=\"settings-card\">\n                        <div class=\"card-header\">\n                            <div class=\"header-icon bg-primary-light text-primary\">\n                                <i class=\"fas fa-info\"></i>\n                            </div>\n                            <div class=\"header-text\">\n                                <h3>Información General</h3>\n                                <p>Datos básicos de identificación</p>\n                            </div>\n                        </div>\n                        <div class=\"card-body\">\n                            <div class=\"form-group mb-4\">\n                                <label class=\"form-label\" for=\"org_name\">Nombre Completo de la Entidad</label>\n                                <input type=\"text\" name=\"org_name\" id=\"org_name\" class=\"form-control form-control-lg\" value=\"<?= htmlspecialchars($generalSettings['org_name']['value'] ?? '') ?>\" placeholder=\"Ej. Asociación Cultural...\">\n                            </div>\n                            <div class=\"row\">\n                                <div class=\"col-md-6 mb-3\">\n                                    <label class=\"form-label\" for=\"org_short_name\">Siglas / Acrónimo</label>\n                                    <input type=\"text\" name=\"org_short_name\" id=\"org_short_name\" class=\"form-control\" value=\"<?= htmlspecialchars($generalSettings['org_short_name']['value'] ?? '') ?>\" placeholder=\"Ej. AC...\">\n                                </div>\n                                <div class=\"col-md-6 mb-3\">\n                                    <label class=\"form-label\" for=\"org_founded_year\">Año de Fundación</label>\n                                    <input type=\"number\" name=\"org_founded_year\" id=\"org_founded_year\" class=\"form-control\" value=\"<?= htmlspecialchars($generalSettings['org_founded_year']['value'] ?? '') ?>\">\n                                </div>\n                            </div>\n                            <div class=\"row\">\n                                <div class=\"col-md-6 mb-3\">\n                                    <label class=\"form-label\" for=\"org_cif\">CIF / NIF</label>\n                                    <input type=\"text\" name=\"org_cif\" id=\"org_cif\" class=\"form-control\" value=\"<?= htmlspecialchars($generalSettings['org_cif']['value'] ?? '') ?>\">\n                                </div>\n                                <div class=\"col-md-6 mb-3\">\n                                    <label class=\"form-label\" for=\"org_registry_number\">Nº Registro Oficial</label>\n                                    <input type=\"text\" name=\"org_registry_number\" id=\"org_registry_number\" class=\"form-control\" value=\"<?= htmlspecialchars($generalSettings['org_registry_number']['value'] ?? '') ?>\">\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n\n                    <!-- Datos de Contacto -->\n                    <div class=\"settings-card\">\n                        <div class=\"card-header\">\n                            <div class=\"header-icon bg-success-light text-success\">\n                                <i class=\"fas fa-address-card\"></i>\n                            </div>\n                            <div class=\"header-text\">\n                                <h3>Datos de Contacto</h3>\n                                <p>Dirección y medios de comunicación</p>\n                            </div>\n                        </div>\n                        <div class=\"card-body\">\n                            <div class=\"form-group mb-3\">\n                                <label class=\"form-label\" for=\"org_address\">Dirección Postal</label>\n                                <div class=\"input-group\">\n                                    <span class=\"input-group-text\"><i class=\"fas fa-map-marker-alt\"></i></span>\n                                    <input type=\"text\" name=\"org_address\" id=\"org_address\" class=\"form-control\" value=\"<?= htmlspecialchars($contactSettings['org_address']['value'] ?? '') ?>\">\n                                </div>\n                            </div>\n                            <div class=\"row\">\n                                <div class=\"col-md-5 mb-3\">\n                                    <label class=\"form-label\" for=\"org_city\">Ciudad</label>\n                                    <input type=\"text\" name=\"org_city\" id=\"org_city\" class=\"form-control\" value=\"<?= htmlspecialchars($contactSettings['org_city']['value'] ?? '') ?>\">\n                                </div>\n                                <div class=\"col-md-4 mb-3\">\n                                    <label class=\"form-label\" for=\"org_province\">Provincia</label>\n                                    <input type=\"text\" name=\"org_province\" id=\"org_province\" class=\"form-control\" value=\"<?= htmlspecialchars($contactSettings['org_province']['value'] ?? '') ?>\">\n                                </div>\n                                <div class=\"col-md-3 mb-3\">\n                                    <label class=\"form-label\" for=\"org_country\">País</label>\n                                    <input type=\"text\" name=\"org_country\" id=\"org_country\" class=\"form-control\" value=\"<?= htmlspecialchars($contactSettings['org_country']['value'] ?? '') ?>\">\n                                </div>\n                            </div>\n                            <div class=\"form-group mb-3\">\n                                <label class=\"form-label\" for=\"org_email\">Correo Electrónico</label>\n                                <div class=\"input-group\">\n                                    <span class=\"input-group-text\"><i class=\"fas fa-envelope\"></i></span>\n                                    <input type=\"email\" name=\"org_email\" id=\"org_email\" class=\"form-control\" value=\"<?= htmlspecialchars($contactSettings['org_email']['value'] ?? '') ?>\">\n                                </div>\n                            </div>\n                            <div class=\"row\">\n                                <div class=\"col-md-6 mb-3\">\n                                    <label class=\"form-label\" for=\"org_phone\">Teléfono</label>\n                                    <div class=\"input-group\">\n                                        <span class=\"input-group-text\"><i class=\"fas fa-phone\"></i></span>\n                                        <input type=\"text\" name=\"org_phone\" id=\"org_phone\" class=\"form-control\" value=\"<?= htmlspecialchars($contactSettings['org_phone']['value'] ?? '') ?>\">\n                                    </div>\n                                </div>\n                                <div class=\"col-md-6 mb-3\">\n                                    <label class=\"form-label\" for=\"org_website\">Sitio Web</label>\n                                    <div class=\"input-group\">\n                                        <span class=\"input-group-text\"><i class=\"fas fa-globe\"></i></span>\n                                        <input type=\"url\" name=\"org_website\" id=\"org_website\" class=\"form-control\" value=\"<?= htmlspecialchars($contactSettings['org_website']['value'] ?? '') ?>\">\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n\n                    <!-- Logo y Marca -->\n                    <div class=\"settings-card\">\n                        <div class=\"card-header\">\n                            <div class=\"header-icon bg-purple-light text-purple\">\n                                <i class=\"fas fa-palette\"></i>\n                            </div>\n                            <div class=\"header-text\">\n                                <h3>Identidad Visual</h3>\n                                <p>Logo y colores corporativos</p>\n                            </div>\n                        </div>\n                        <div class=\"card-body\">\n                            <div class=\"row align-items-center mb-4\">\n                                <div class=\"col-md-4 text-center\">\n                                    <?php $currentLogo = $brandingSettings['org_logo']['value'] ?? ''; ?>\n                                    <div class=\"logo-preview-container mb-2\">\n                                        <?php if ($currentLogo): ?>\n                                            <img src=\"<?= htmlspecialchars($currentLogo) ?>\" alt=\"Logo Actual\" class=\"img-fluid rounded\" style=\"max-height: 120px;\">\n                                        <?php else: ?>\n                                            <div class=\"placeholder-logo\">\n                                                <i class=\"fas fa-image fa-3x text-muted\"></i>\n                                                <p class=\"small text-muted mt-2\">Sin logo</p>\n                                            </div>\n                                        <?php endif; ?>\n                                    </div>\n                                    <?php if ($currentLogo): ?>\n                                        <a href=\"index.php?page=settings&action=deleteLogo\" class=\"btn btn-outline-danger btn-sm\" onclick=\"return confirm('¿Eliminar el logo actual?')\">\n                                            <i class=\"fas fa-trash\"></i> Eliminar\n                                        </a>\n                                    <?php endif; ?>\n                                </div>\n                                <div class=\"col-md-8\">\n                                    <div class=\"mb-3\">\n                                        <label class=\"form-label\">Subir Nuevo Logo</label>\n                                        <input type=\"file\" name=\"org_logo\" class=\"form-control\" accept=\"image/*\">\n                                        <small class=\"text-muted d-block mt-1\">Recomendado: PNG transparente. Máx 5MB.</small>\n                                    </div>\n                                    <div class=\"mb-3\">\n                                        <label class=\"form-label\" for=\"org_logo_width\">Ancho de visualización (px)</label>\n                                        <input type=\"number\" name=\"org_logo_width\" id=\"org_logo_width\" class=\"form-control\" style=\"max-width: 150px;\" value=\"<?= htmlspecialchars($brandingSettings['org_logo_width']['value'] ?? 180) ?>\">\n                                    </div>\n                                </div>\n                            </div>\n                            <div class=\"row\">\n                                <div class=\"col-md-6 mb-3\">\n                                    <label class=\"form-label\" for=\"org_primary_color\">Color Primario</label>\n                                    <div class=\"d-flex align-items-center gap-2\">\n                                        <input type=\"color\" name=\"org_primary_color\" id=\"org_primary_color\" class=\"form-control form-control-color\" value=\"<?= htmlspecialchars($brandingSettings['org_primary_color']['value'] ?? '#6366f1') ?>\">\n                                        <span class=\"text-muted small\"><?= htmlspecialchars($brandingSettings['org_primary_color']['value'] ?? '#6366f1') ?></span>\n                                    </div>\n                                </div>\n                                <div class=\"col-md-6 mb-3\">\n                                    <label class=\"form-label\" for=\"org_secondary_color\">Color Secundario</label>\n                                    <div class=\"d-flex align-items-center gap-2\">\n                                        <input type=\"color\" name=\"org_secondary_color\" id=\"org_secondary_color\" class=\"form-control form-control-color\" value=\"<?= htmlspecialchars($brandingSettings['org_secondary_color']['value'] ?? '#8b5cf6') ?>\">\n                                        <span class=\"text-muted small\"><?= htmlspecialchars($brandingSettings['org_secondary_color']['value'] ?? '#8b5cf6') ?></span>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n\n                    <!-- Representantes Legales -->\n                    <div class=\"settings-card\">\n                        <div class=\"card-header\">\n                            <div class=\"header-icon bg-warning-light text-warning\">\n                                <i class=\"fas fa-user-tie\"></i>\n                            </div>\n                            <div class=\"header-text\">\n                                <h3>Junta Directiva</h3>\n                                <p>Representantes legales actuales</p>\n                            </div>\n                        </div>\n                        <div class=\"card-body\">\n                            <div class=\"row\">\n                                <div class=\"col-md-6 mb-3\">\n                                    <label class=\"form-label\" for=\"org_president_name\">Presidente/a</label>\n                                    <input type=\"text\" name=\"org_president_name\" id=\"org_president_name\" class=\"form-control\" value=\"<?= htmlspecialchars($legalSettings['org_president_name']['value'] ?? '') ?>\">\n                                </div>\n                                <div class=\"col-md-6 mb-3\">\n                                    <label class=\"form-label\" for=\"org_vicepresident_name\">Vicepresidente/a</label>\n                                    <input type=\"text\" name=\"org_vicepresident_name\" id=\"org_vicepresident_name\" class=\"form-control\" value=\"<?= htmlspecialchars($legalSettings['org_vicepresident_name']['value'] ?? '') ?>\">\n                                </div>\n                                <div class=\"col-md-6 mb-3\">\n                                    <label class=\"form-label\" for=\"org_secretary_name\">Secretario/a</label>\n                                    <input type=\"text\" name=\"org_secretary_name\" id=\"org_secretary_name\" class=\"form-control\" value=\"<?= htmlspecialchars($legalSettings['org_secretary_name']['value'] ?? '') ?>\">\n                                </div>\n                                <div class=\"col-md-6 mb-3\">\n                                    <label class=\"form-label\" for=\"org_treasurer_name\">Tesorero/a</label>\n                                    <input type=\"text\" name=\"org_treasurer_name\" id=\"org_treasurer_name\" class=\"form-control\" value=\"<?= htmlspecialchars($legalSettings['org_treasurer_name']['value'] ?? '') ?>\">\n                                </div>\n                                <div class=\"col-md-6 mb-3\">\n                                    <label class=\"form-label\" for=\"org_vocal1_name\">Vocal 1</label>\n                                    <input type=\"text\" name=\"org_vocal1_name\" id=\"org_vocal1_name\" class=\"form-control\" value=\"<?= htmlspecialchars($legalSettings['org_vocal1_name']['value'] ?? '') ?>\">\n                                </div>\n                                <div class=\"col-md-6 mb-3\">\n                                    <label class=\"form-label\" for=\"org_vocal2_name\">Vocal 2</label>\n                                    <input type=\"text\" name=\"org_vocal2_name\" id=\"org_vocal2_name\" class=\"form-control\" value=\"<?= htmlspecialchars($legalSettings['org_vocal2_name']['value'] ?? '') ?>\">\n                                </div>\n                            </div>\n                            <div class=\"mb-3\">\n                                <label class=\"form-label\" for=\"org_legal_text\">Texto Legal (Pie de documentos)</label>\n                                <textarea name=\"org_legal_text\" id=\"org_legal_text\" class=\"form-control\" rows=\"3\" placeholder=\"Texto que aparecerá en el pie de página de facturas y documentos oficiales...\"><?= htmlspecialchars($legalSettings['org_legal_text']['value'] ?? '') ?></textarea>\n                            </div>\n                        </div>\n                    </div>\n\n                </div>\n\n                <div class=\"form-actions-sticky\">\n                    <button type=\"submit\" class=\"btn btn-primary btn-lg px-5\">\n                        <i class=\"fas fa-save me-2\"></i> Guardar Cambios\n                    </button>\n                </div>\n            </form>\n        </div>\n        <!-- Ad Prices Tab -->\n        <div id=\"ad_prices\" class=\"tab-content\">\n                <h2 class=\"section-title\">Precios de Anuncios (Libro de Fiestas)</h2>\n                <div class=\"settings-grid\">\n                    <!-- Form to Update Prices -->\n                    <div class=\"card\">\n                        <h3 class=\"text-md font-semibold mb-4\">Actualizar Precios</h3>\n                        <form action=\"index.php?page=ad_prices&action=store\" method=\"POST\">\n                            <div class=\"form-group\">\n                                <label class=\"form-label\" for=\"price_year\">Año</label>\n                                <input type=\"number\" name=\"year\" id=\"price_year\" class=\"form-control\" value=\"<?php echo date('Y'); ?>\" required>\n                            </div>\n                            <div class=\"form-group\">\n                                <label class=\"form-label\" for=\"price_media\">Media Página (€)</label>\n                                <input type=\"number\" step=\"0.01\" name=\"price_media\" id=\"price_media\" class=\"form-control\" placeholder=\"0.00\">\n                            </div>\n                            <div class=\"form-group\">\n                                <label class=\"form-label\" for=\"price_full\">Página Completa (€)</label>\n                                <input type=\"number\" step=\"0.01\" name=\"price_full\" id=\"price_full\" class=\"form-control\" placeholder=\"0.00\">\n                            </div>\n                            <div class=\"form-group\">\n                                <label class=\"form-label\" for=\"price_cover\">Portada (€)</label>\n                                <input type=\"number\" step=\"0.01\" name=\"price_cover\" id=\"price_cover\" class=\"form-control\" placeholder=\"0.00\">\n                            </div>\n                            <div class=\"form-group\">\n                                <label class=\"form-label\" for=\"price_back_cover\">Contraportada (€)</label>\n                                <input type=\"number\" step=\"0.01\" name=\"price_back_cover\" id=\"price_back_cover\" class=\"form-control\" placeholder=\"0.00\">\n                            </div>\n                            <button type=\"submit\" class=\"btn btn-primary w-full\">Guardar Precios</button>\n                        </form>\n                    </div>\n                    <!-- Current Prices Display -->\n                    <div>\n                        <div class=\"card mb-4\">\n                            <h3 class=\"text-md font-semibold mb-2\">Precios <?php echo isset($currentYear) ? $currentYear : date('Y'); ?></h3>\n                            <?php if (empty($adPrices)): ?>\n                                <div class=\"alert alert-info\">No hay precios definidos para este año.</div>\n                            <?php else: ?>\n                            <table class=\"table w-full\">\n                                <thead>\n                                    <tr>\n                                        <th>Tipo</th>\n                                        <th class=\"text-right\">Precio</th>\n                                    </tr>\n                                </thead>\n                                <tbody>\n                                    <tr>\n                                        <td>Media Página</td>\n                                        <td class=\"text-right\"><?php echo number_format($adPrices['media'] ?? 0, 2); ?> €</td>\n                                    </tr>\n                                    <tr>\n                                        <td>Página Completa</td>\n                                        <td class=\"text-right\"><?php echo number_format($adPrices['full'] ?? 0, 2); ?> €</td>\n                                    </tr>\n                                    <tr>\n                                        <td>Portada</td>\n                                        <td class=\"text-right\"><?php echo number_format($adPrices['cover'] ?? 0, 2); ?> €</td>\n                                    </tr>\n                                    <tr>\n                                        <td>Contraportada</td>\n                                        <td class=\"text-right\"><?php echo number_format($adPrices['back_cover'] ?? 0, 2); ?> €</td>\n                                    </tr>\n                                </tbody>\n                            </table>\n                            <?php endif; ?>\n                        </div>\n                        <div class=\"card\">\n                            <h3 class=\"text-md font-semibold mb-2\">Precios <?php echo isset($currentYear) ? $currentYear + 1 : date('Y') + 1; ?></h3>\n                            <?php if (empty($nextYearPrices)): ?>\n                                <div class=\"alert alert-info\">No hay precios definidos para el próximo año.</div>\n                            <?php else: ?>\n                            <table class=\"table w-full\">\n                                <thead>\n                                    <tr>\n                                        <th>Tipo</th>\n                                        <th class=\"text-right\">Precio</th>\n                                    </tr>\n                                </thead>\n                                <tbody>\n                                    <tr>\n                                        <td>Media Página</td>\n                                        <td class=\"text-right\"><?php echo number_format($nextYearPrices['media'] ?? 0, 2); ?> €</td>\n                                    </tr>\n                                    <tr>\n                                        <td>Página Completa</td>\n                                        <td class=\"text-right\"><?php echo number_format($nextYearPrices['full'] ?? 0, 2); ?> €</td>\n                                    </tr>\n                                    <tr>\n                                        <td>Portada</td>\n                                        <td class=\"text-right\"><?php echo number_format($nextYearPrices['cover'] ?? 0, 2); ?> €</td>\n                                    </tr>\n                                    <tr>\n                                        <td>Contraportada</td>\n                                        <td class=\"text-right\"><?php echo number_format($nextYearPrices['back_cover'] ?? 0, 2); ?> €</td>\n                                    </tr>\n                                </tbody>\n                            </table>\n                            <?php endif; ?>\n                        </div>\n                    </div>\n                </div>\n        </div>\n        <!-- Member Fees Tab -->\n        <div id=\"members\" class=\"tab-content\">\n                \n                <!-- Success/Warning Messages for Payment Generation -->\n                <?php if (isset($_GET['success']) && $_GET['success'] === 'generated'): ?>\n                    <div class=\"alert alert-success\">\n                        <i class=\"fas fa-check-circle\"></i>\n                        <strong>Pagos generados:</strong> Se crearon <?php echo intval($_GET['count'] ?? 0); ?> pagos pendientes para el año <?php echo htmlspecialchars($_GET['year'] ?? ''); ?>.\n                        <?php if (isset($_GET['skipped']) && intval($_GET['skipped']) > 0): ?>\n                            <br><strong>Nota:</strong> Se omitieron <?php echo intval($_GET['skipped']); ?> socios sin cuota definida<?php \n                                if (isset($_GET['categories'])) {\n                                    echo ' (categorías: ' . htmlspecialchars($_GET['categories']) . ')';\n                                }\n                            ?>.\n                        <?php endif; ?>\n                    </div>\n                <?php endif; ?>\n\n                <!-- Generate Payments Widget -->\n                <div style=\"display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem;\">\n                    <h2 class=\"section-title\" style=\"margin: 0;\">Generar Pagos de Cuotas</h2>\n                </div>\n                \n                <div class=\"card\" style=\"margin-bottom: 2rem;\">\n                    <h3 class=\"text-md font-semibold mb-4\">Generar Pagos Pendientes</h3>\n                    <p style=\"color: var(--text-muted); margin-bottom: 1.5rem;\">\n                        Esta acción creará pagos pendientes para todos los socios activos usando las <strong>cuotas por categoría definidas para el año seleccionado</strong>. Si una categoría no tiene cuota definida para ese año, se usará la cuota predeterminada.\n                    </p>\n                    <form action=\"index.php?page=fees&action=generate\" method=\"GET\" onsubmit=\"return confirm('¿Generar pagos pendientes para todos los socios activos del año seleccionado? Se usarán las cuotas específicas de cada categoría para ese año.');\">\n                        <input type=\"hidden\" name=\"page\" value=\"fees\">\n                        <input type=\"hidden\" name=\"action\" value=\"generate\">\n                        <div class=\"form-group\" style=\"max-width: 300px;\">\n                            <label class=\"form-label\" for=\"generate_year\">Año</label>\n                            <input type=\"number\" name=\"year\" id=\"generate_year\" class=\"form-control\" value=\"<?php echo date('Y'); ?>\" required min=\"2000\" max=\"2100\">\n                        </div>\n                        <button type=\"submit\" class=\"btn btn-primary\">\n                            <i class=\"fas fa-file-invoice-dollar\"></i> Generar Pagos\n                        </button>\n                    </form>\n                </div>\n\n                <div style=\"display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem;\">\n                    <h2 class=\"section-title\" style=\"margin: 0;\">Categorías de Socios</h2>\n                    <a href=\"index.php?page=member_categories&action=create\" class=\"btn btn-primary\">\n                        <i class=\"fas fa-plus\"></i> Nueva Categoría\n                    </a>\n                </div>\n                \n                <!-- Categories List -->\n                <div class=\"categories-list\">\n                    <?php foreach ($categories as $category): ?>\n                        <div class=\"category-card <?php echo $category['is_active'] ? '' : 'category-inactive'; ?>\" \n                             style=\"border-left-color: <?php echo htmlspecialchars($category['color']); ?>\">\n                            <div class=\"category-header\">\n                                <div class=\"category-info\">\n                                    <h3>\n                                        <?php echo htmlspecialchars($category['name']); ?>\n                                        <?php if (!$category['is_active']): ?>\n                                            <span class=\"category-badge\" style=\"background: #9ca3af;\">Inactiva</span>\n                                        <?php endif; ?>\n                                    </h3>\n                                    <p style=\"color: var(--text-muted); font-size: 0.875rem;\">\n                                        <?php echo htmlspecialchars($category['description'] ?: 'Sin descripción'); ?>\n                                    </p>\n                                </div>\n                                <div class=\"category-actions\">\n                                    <a href=\"index.php?page=member_categories&action=edit&id=<?php echo $category['id']; ?>\" \n                                       class=\"btn btn-sm btn-secondary\">\n                                        <i class=\"fas fa-edit\"></i> Editar\n                                    </a>\n                                    <a href=\"index.php?page=member_categories&action=delete&id=<?php echo $category['id']; ?>\" \n                                       class=\"btn btn-sm btn-danger\"\n                                       onclick=\"return confirm('¿Estás seguro de eliminar esta categoría?')\">\n                                        <i class=\"fas fa-trash\"></i> Eliminar\n                                    </a>\n                                </div>\n                            </div>\n                            \n                            <div class=\"category-stats\">\n                                <div class=\"stat-item\">\n                                    <div class=\"stat-value\"><?php echo number_format($category['default_fee'], 2); ?> €</div>\n                                    <div class=\"stat-label\">Cuota predeterminada</div>\n                                </div>\n                                <div class=\"stat-item\">\n                                    <div class=\"stat-value\" style=\"color: <?php echo htmlspecialchars($category['color']); ?>\">\n                                        <?php\n                                        $catStat = null;\n                                        foreach ($statistics as $s) {\n                                            if ($s['id'] == $category['id']) {\n                                                $catStat = $s;\n                                                break;\n                                            }\n                                        }\n                                        echo $catStat ? $catStat['member_count'] : 0;\n                                        ?>\n                                    </div>\n                                    <div class=\"stat-label\">Socios asignados</div>\n                                </div>\n                                <div class=\"stat-item\">\n                                    <?php\n                                    // Check if category has fee for current year\n                                    require_once __DIR__ . '/../../Models/CategoryFeeHistory.php';\n                                    $feeHistory = new CategoryFeeHistory($GLOBALS['db'] ?? $this->db ?? null);\n                                    $currentYearFee = null;\n                                    if ($feeHistory && isset($category['id'])) {\n                                        $currentYearFee = $feeHistory->readByCategoryAndYear($category['id'], date('Y'));\n                                    }\n                                    ?>\n                                    <div class=\"stat-value\" style=\"color: <?php echo $currentYearFee ? 'var(--success-600)' : 'var(--text-muted)'; ?>\">\n                                        <?php if ($currentYearFee): ?>\n                                            <i class=\"fas fa-check-circle\"></i> <?php echo number_format($currentYearFee, 2); ?> €\n                                        <?php else: ?>\n                                            <i class=\"fas fa-minus-circle\"></i> No definida\n                                        <?php endif; ?>\n                                    </div>\n                                    <div class=\"stat-label\">Cuota año <?php echo date('Y'); ?></div>\n                                </div>\n                            </div>\n                        </div>\n                    <?php endforeach; ?>\n                </div>\n        </div>  <!-- End of members tab -->\n        <!-- Database Tab -->\n        <div id=\"database\" class=\"tab-content\">\n            <h2 class=\"section-title\"><i class=\"fas fa-database\"></i> Configuración y Backup de Base de Datos</h2>\n            <div class=\"card alert alert-warning mb-4\">\n                <i class=\"fas fa-exclamation-triangle\"></i> <strong>Cuidado:</strong> Cambiar estos valores puede dejar la aplicación inoperativa. Asegúrese de que los nuevos datos son correctos.\n            </div>\n            <form action=\"index.php?page=settings&action=updateDatabase\" method=\"POST\" class=\"card mb-4\" style=\"max-width: 600px; margin: 0 auto;\">\n                <div class=\"form-group\">\n                    <label class=\"form-label\" for=\"db_host\">Host</label>\n                    <input type=\"text\" name=\"db_host\" id=\"db_host\" class=\"form-control\" value=\"<?php echo htmlspecialchars($dbConfig['host'] ?? ''); ?>\" required>\n                </div>\n                <div class=\"form-group\">\n                    <label class=\"form-label\" for=\"db_name\">Nombre de la Base de Datos</label>\n                    <input type=\"text\" name=\"db_name\" id=\"db_name\" class=\"form-control\" value=\"<?php echo htmlspecialchars($dbConfig['name'] ?? ''); ?>\" required>\n                </div>\n                <div class=\"form-group\">\n                    <label class=\"form-label\" for=\"db_user\">Usuario</label>\n                    <input type=\"text\" name=\"db_user\" id=\"db_user\" class=\"form-control\" value=\"<?php echo htmlspecialchars($dbConfig['user'] ?? ''); ?>\" required>\n                </div>\n                <div class=\"form-group\">\n                    <label class=\"form-label\" for=\"db_pass\">Contraseña</label>\n                    <input type=\"password\" name=\"db_pass\" id=\"db_pass\" class=\"form-control\" placeholder=\"Dejar en blanco para no cambiar (si se muestra vacío)\">\n                    <small>Por seguridad, la contraseña actual no se muestra.</small>\n                </div>\n                <button type=\"submit\" class=\"btn btn-danger\">Actualizar Conexión</button>\n            </form>\n            <div class=\"card text-center p-4 mb-4\">\n                <div class=\"text-center\">\n                    <form action=\"index.php?page=settings&action=downloadBackup\" method=\"POST\" class=\"w-auto mx-auto\">\n                        <button type=\"submit\" class=\"btn btn-primary btn-lg\">\n                            <i class=\"fas fa-download\"></i> Descargar Backup de Base de Datos\n                        </button>\n                    </form>\n                </div>\n                <p class=\"mt-3 text-muted\"><i class=\"fas fa-info-circle\"></i> El backup incluye toda la estructura y datos actuales en formato SQL.</p>\n            </div>\n        </div>\n        <!-- Administración de Usuarios Tab -->\n        <div id=\"admin_users\" class=\"tab-content\">\n            <?php include __DIR__ . '/admin_users.php'; ?>\n        </div>\n        <!-- Notifications Tab -->\n        <div id=\"notifications\" class=\"tab-content\">\n            <?php require __DIR__ . '/notifications.php'; ?>\n        </div>\n        \n        <!-- Social Media Tab -->\n        <div id=\"social_media\" class=\"tab-content\">\n            <div class=\"settings-section-header\">\n                <div>\n                    <h2 class=\"section-title\"><i class=\"fab fa-share-alt\"></i> Configuración de Redes Sociales</h2>\n                    <p class=\"text-muted\">Configura las opciones para compartir contenido en redes sociales.</p>\n                </div>\n            </div>\n\n            <?php if (isset($_SESSION['social_media_success'])): ?>\n                <div class=\"alert alert-success\"><i class=\"fas fa-check-circle\"></i> <?= $_SESSION['social_media_success']; unset($_SESSION['social_media_success']); ?></div>\n            <?php endif; ?>\n            <?php if (isset($_SESSION['social_media_error'])): ?>\n                <div class=\"alert alert-danger\"><i class=\"fas fa-exclamation-circle\"></i> <?= $_SESSION['social_media_error']; unset($_SESSION['social_media_error']); ?></div>\n            <?php endif; ?>\n\n            <form action=\"index.php?page=settings&action=updateSocialMedia\" method=\"POST\">\n                <?php require_once __DIR__ . '/../../Helpers/CsrfHelper.php'; echo CsrfHelper::getTokenField(); ?>\n                \n                <div class=\"settings-grid-layout\">\n                    \n                    <!-- Facebook -->\n                    <div class=\"settings-card\">\n                        <div class=\"card-header\">\n                            <div class=\"header-icon bg-primary-light text-primary\">\n                                <i class=\"fab fa-facebook-f\"></i>\n                            </div>\n                            <div class=\"header-text\">\n                                <h3>Facebook</h3>\n                                <p>Compartir eventos y anuncios en Facebook</p>\n                            </div>\n                        </div>\n                        <div class=\"card-body\">\n                            <div class=\"form-group mb-4\">\n                                <label class=\"checkbox-label\" style=\"display: flex; align-items: center; gap: 0.75rem;\">\n                                    <input type=\"checkbox\" name=\"facebook_enabled\" value=\"1\" \n                                        <?= ($orgSettings->get('facebook_enabled') == '1') ? 'checked' : '' ?>\n                                        style=\"width: 1.25rem; height: 1.25rem;\">\n                                    <span style=\"font-weight: 600;\">Habilitar compartir en Facebook</span>\n                                </label>\n                            </div>\n                            <div class=\"form-group\">\n                                <label class=\"form-label\" for=\"facebook_app_id\">Facebook App ID (opcional)</label>\n                                <input type=\"text\" name=\"facebook_app_id\" id=\"facebook_app_id\" class=\"form-control\" \n                                    value=\"<?= htmlspecialchars($orgSettings->get('facebook_app_id') ?? '') ?>\" \n                                    placeholder=\"123456789012345\">\n                                <small class=\"text-muted\">Obtén tu App ID en <a href=\"https://developers.facebook.com/apps/\" target=\"_blank\">developers.facebook.com</a></small>\n                            </div>\n                        </div>\n                    </div>\n\n                    <!-- Twitter/X -->\n                    <div class=\"settings-card\">\n                        <div class=\"card-header\">\n                            <div class=\"header-icon bg-info-light text-info\">\n                                <i class=\"fab fa-twitter\"></i>\n                            </div>\n                            <div class=\"header-text\">\n                                <h3>Twitter / X</h3>\n                                <p>Compartir publicaciones en Twitter</p>\n                            </div>\n                        </div>\n                        <div class=\"card-body\">\n                            <div class=\"form-group mb-4\">\n                                <label class=\"checkbox-label\" style=\"display: flex; align-items: center; gap: 0.75rem;\">\n                                    <input type=\"checkbox\" name=\"twitter_enabled\" value=\"1\" \n                                        <?= ($orgSettings->get('twitter_enabled') == '1') ? 'checked' : '' ?>\n                                        style=\"width: 1.25rem; height: 1.25rem;\">\n                                    <span style=\"font-weight: 600;\">Habilitar compartir en Twitter/X</span>\n                                </label>\n                            </div>\n                            <div class=\"alert alert-info\">\n                                <i class=\"fas fa-info-circle\"></i> No se requiere configuración adicional para compartir en Twitter.\n                            </div>\n                        </div>\n                    </div>\n\n                    <!-- LinkedIn -->\n                    <div class=\"settings-card\">\n                        <div class=\"card-header\">\n                            <div class=\"header-icon\" style=\"background: #0077b5; color: white;\">\n                                <i class=\"fab fa-linkedin-in\"></i>\n                            </div>\n                            <div class=\"header-text\">\n                                <h3>LinkedIn</h3>\n                                <p>Compartir contenido profesional</p>\n                            </div>\n                        </div>\n                        <div class=\"card-body\">\n                            <div class=\"form-group mb-4\">\n                                <label class=\"checkbox-label\" style=\"display: flex; align-items: center; gap: 0.75rem;\">\n                                    <input type=\"checkbox\" name=\"linkedin_enabled\" value=\"1\" \n                                        <?= ($orgSettings->get('linkedin_enabled') == '1') ? 'checked' : '' ?>\n                                        style=\"width: 1.25rem; height: 1.25rem;\">\n                                    <span style=\"font-weight: 600;\">Habilitar compartir en LinkedIn</span>\n                                </label>\n                            </div>\n                            <div class=\"alert alert-info\">\n                                <i class=\"fas fa-info-circle\"></i> No se requiere configuración adicional para compartir en LinkedIn.\n                            </div>\n                        </div>\n                    </div>\n\n                    <!-- Instagram -->\n                    <div class=\"settings-card\">\n                        <div class=\"card-header\">\n                            <div class=\"header-icon\" style=\"background: linear-gradient(45deg, #f09433 0%, #e6683c 25%, #dc2743 50%, #cc2366 75%, #bc1888 100%); color: white;\">\n                                <i class=\"fab fa-instagram\"></i>\n                            </div>\n                            <div class=\"header-text\">\n                                <h3>Instagram</h3>\n                                <p>Recordatorio para compartir manualmente</p>\n                            </div>\n                        </div>\n                        <div class=\"card-body\">\n                            <div class=\"form-group mb-4\">\n                                <label class=\"checkbox-label\" style=\"display: flex; align-items: center; gap: 0.75rem;\">\n                                    <input type=\"checkbox\" name=\"instagram_enabled\" value=\"1\" \n                                        <?= ($orgSettings->get('instagram_enabled') == '1') ? 'checked' : '' ?>\n                                        style=\"width: 1.25rem; height: 1.25rem;\">\n                                    <span style=\"font-weight: 600;\">Mostrar opción de Instagram</span>\n                                </label>\n                            </div>\n                            <div class=\"alert alert-warning\">\n                                <i class=\"fas fa-exclamation-triangle\"></i> Instagram no permite compartir desde web. Los usuarios verán un recordatorio para compartir desde la app móvil.\n                            </div>\n                        </div>\n                    </div>\n\n                    <!-- WhatsApp & Telegram -->\n                    <div class=\"settings-card\">\n                        <div class=\"card-header\">\n                            <div class=\"header-icon bg-success-light text-success\">\n                                <i class=\"fab fa-whatsapp\"></i>\n                            </div>\n                            <div class=\"header-text\">\n                                <h3>Mensajería</h3>\n                                <p>WhatsApp y Telegram (siempre activos)</p>\n                            </div>\n                        </div>\n                        <div class=\"card-body\">\n                            <div class=\"alert alert-success\">\n                                <i class=\"fas fa-check-circle\"></i> WhatsApp y Telegram están siempre disponibles para compartir sin necesidad de configuración.\n                            </div>\n                        </div>\n                    </div>\n\n                    <!-- General Settings -->\n                    <div class=\"settings-card\" style=\"grid-column: 1 / -1;\">\n                        <div class=\"card-header\">\n                            <div class=\"header-icon bg-secondary-light text-secondary\">\n                                <i class=\"fas fa-cog\"></i>\n                            </div>\n                            <div class=\"header-text\">\n                                <h3>Configuración General</h3>\n                                <p>Valores predeterminados para compartir</p>\n                            </div>\n                        </div>\n                        <div class=\"card-body\">\n                            <div class=\"form-group\">\n                                <label class=\"form-label\" for=\"share_site_name\">Nombre del Sitio</label>\n                                <input type=\"text\" name=\"share_site_name\" id=\"share_site_name\" class=\"form-control\" \n                                    value=\"<?= htmlspecialchars($orgSettings->get('share_site_name') ?? '') ?>\" \n                                    placeholder=\"Nombre de tu asociación\">\n                                <small class=\"text-muted\">Aparecerá en las previsualizaciones al compartir</small>\n                            </div>\n                            <div class=\"form-group\">\n                                <label class=\"form-label\" for=\"share_description\">Descripción por Defecto</label>\n                                <textarea name=\"share_description\" id=\"share_description\" class=\"form-control\" rows=\"3\" \n                                    placeholder=\"Descripción breve de tu asociación\"><?= htmlspecialchars($orgSettings->get('share_description') ?? '') ?></textarea>\n                                <small class=\"text-muted\">Se usará cuando no se especifique una descripción</small>\n                            </div>\n                            <div class=\"form-group\">\n                                <label class=\"form-label\" for=\"share_default_image\">URL de Imagen por Defecto</label>\n                                <input type=\"url\" name=\"share_default_image\" id=\"share_default_image\" class=\"form-control\" \n                                    value=\"<?= htmlspecialchars($orgSettings->get('share_default_image') ?? '') ?>\" \n                                    placeholder=\"https://tudominio.com/imagen.jpg\">\n                                <small class=\"text-muted\">Imagen que aparecerá en las previsualizaciones (recomendado: 1200x630 px)</small>\n                            </div>\n                        </div>\n                    </div>\n\n                </div>\n\n                <div class=\"form-actions\" style=\"margin-top: 2rem; text-align: center;\">\n                    <button type=\"submit\" class=\"btn btn-primary btn-lg\">\n                        <i class=\"fas fa-save\"></i> Guardar Configuración de Redes Sociales\n                    </button>\n                </div>\n            </form>\n        </div>\n        \n        <div id=\"password-policy\" class=\"tab-content\">\n            <?php \n            // Get policy settings using existing $orgSettings from controller\n            $policy = $orgSettings->getPasswordPolicy();\n            ?>\n            \n            <div class=\"card\">\n                <h2 class=\"text-lg font-semibold mb-4\">\n                    <i class=\"fas fa-shield-alt\"></i> Política de Contraseñas y Seguridad\n                </h2>\n                \n                <form method=\"POST\" action=\"index.php?page=settings&action=updatePasswordPolicy\">\n                    <?php require_once __DIR__ . '/../../Helpers/CsrfHelper.php'; echo CsrfHelper::getTokenField(); ?>\n                    \n                    <h3 style=\"margin-top: 0; margin-bottom: 1.5rem; color: var(--primary-600); font-size: 1.1rem;\">\n                        <i class=\"fas fa-key\"></i> Requisitos de Contraseña\n                    </h3>\n                    \n                    <div class=\"form-group\">\n                        <label class=\"form-label\">Longitud Mínima</label>\n                        <input type=\"number\" name=\"min_length\" min=\"6\" max=\"32\" value=\"<?= $policy['min_length'] ?>\" class=\"form-control\" required>\n                        <small class=\"text-muted\">Número mínimo de caracteres (6-32)</small>\n                    </div>\n                    \n                    <div class=\"checkbox-grid\">\n                        <div class=\"form-group\">\n                            <label class=\"checkbox-label\">\n                                <input type=\"checkbox\" name=\"require_uppercase\" <?= $policy['require_uppercase'] ? 'checked' : '' ?>>\n                                <span>Requiere mayúsculas (A-Z)</span>\n                            </label>\n                        </div>\n                        \n                        <div class=\"form-group\">\n                            <label class=\"checkbox-label\">\n                                <input type=\"checkbox\" name=\"require_lowercase\" <?= $policy['require_lowercase'] ? 'checked' : '' ?>>\n                                <span>Requiere minúsculas (a-z)</span>\n                            </label>\n                        </div>\n                        \n                        <div class=\"form-group\">\n                            <label class=\"checkbox-label\">\n                                <input type=\"checkbox\" name=\"require_numbers\" <?= $policy['require_numbers'] ? 'checked' : '' ?>>\n                                <span>Requiere números (0-9)</span>\n                            </label>\n                        </div>\n                        \n                        <div class=\"form-group\">\n                            <label class=\"checkbox-label\">\n                                <input type=\"checkbox\" name=\"require_special\" <?= $policy['require_special'] ? 'checked' : '' ?>>\n                                <span>Requiere caracteres especiales (!@#$%)</span>\n                            </label>\n                        </div>\n                    </div>\n                    \n                    <hr class=\"section-divider\">\n                    \n                    <h3 class=\"subsection-title\">\n                        <i class=\"fas fa-lock\"></i> Bloqueo de Cuenta\n                    </h3>\n                    \n                    <div class=\"settings-grid-2col\">\n                        <div class=\"form-group\">\n                            <label class=\"form-label\">Máximo de Intentos Fallidos</label>\n                            <input type=\"number\" name=\"max_attempts\" min=\"3\" max=\"10\" value=\"<?= $policy['login_max_attempts'] ?>\" class=\"form-control\" required>\n                            <small class=\"text-muted\">Número de intentos antes de bloquear (3-10)</small>\n                        </div>\n                        \n                        <div class=\"form-group\">\n                            <label class=\"form-label\">Duración del Bloqueo (minutos)</label>\n                            <input type=\"number\" name=\"lockout_duration\" min=\"5\" max=\"120\" value=\"<?= $policy['login_lockout_duration'] ?>\" class=\"form-control\" required>\n                            <small class=\"text-muted\">Tiempo de bloqueo en minutos (5-120)</small>\n                        </div>\n                    </div>\n                    \n                    <div class=\"info-box\">\n                        <p>\n                            <i class=\"fas fa-info-circle\"></i> <strong>Nota:</strong> Los cambios en la política de contraseñas se aplicarán inmediatamente. \n                            Las contraseñas existentes no se verán afectadas, pero los nuevos cambios de contraseña deberán cumplir con los requisitos actualizados.\n                        </p>\n                    </div>\n                    \n                    <div class=\"form-actions\">\n                        <button type=\"submit\" class=\"btn btn-primary\">\n                            <i class=\"fas fa-save\"></i> Guardar Política de Seguridad\n                        </button>\n                    </div>\n                </form>\n            </div>\n        </div>\n    </div>\n</div>\n\n<style>\n    .checkbox-grid {\n        display: grid;\n        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n        gap: 1rem;\n        margin-bottom: 1.5rem;\n    }\n    \n    .checkbox-label {\n        display: flex;\n        align-items: center;\n        gap: 0.75rem;\n        cursor: pointer;\n        padding: 0.75rem;\n        background: var(--bg-main);\n        border: 1px solid var(--border-light);\n        border-radius: var(--radius-md);\n        transition: all 0.2s ease;\n    }\n    \n    .checkbox-label:hover {\n        border-color: var(--primary-300);\n        background: var(--primary-50);\n    }\n    \n    .checkbox-label input[type=\"checkbox\"] {\n        width: 1.25rem;\n        height: 1.25rem;\n        accent-color: var(--primary-600);\n    }\n    \n    .section-divider {\n        margin: 2rem 0;\n        border: none;\n        border-top: 1px solid var(--border-light);\n    }\n    \n    .subsection-title {\n        margin-bottom: 1.5rem;\n        color: var(--primary-700);\n        font-size: 1.2rem;\n        font-weight: 600;\n    }\n    \n    .settings-grid-2col {\n        display: grid;\n        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));\n        gap: 1.5rem;\n    }\n    \n    .info-box {\n        margin-top: 2rem;\n        padding: 1rem 1.5rem;\n        background: var(--primary-50);\n        border-left: 4px solid var(--primary-500);\n        border-radius: var(--radius-md);\n    }\n    \n    .info-box p {\n        margin: 0;\n        font-size: 0.95rem;\n        color: var(--text-main);\n        line-height: 1.5;\n    }\n    \n    .form-actions {\n        margin-top: 2rem;\n        display: flex;\n        justify-content: flex-end;\n    }\n\n\n/* Switch Toggle Styles */\n.switch {\n  position: relative;\n  display: inline-block;\n  width: 50px;\n  height: 24px;\n}\n\n.switch input { \n  opacity: 0;\n  width: 0;\n  height: 0;\n}\n\n.slider {\n  position: absolute;\n  cursor: pointer;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: #ccc;\n  -webkit-transition: .4s;\n  transition: .4s;\n}\n\n.slider:before {\n  position: absolute;\n  content: \"\";\n  height: 16px;\n  width: 16px;\n  left: 4px;\n  bottom: 4px;\n  background-color: white;\n  -webkit-transition: .4s;\n  transition: .4s;\n}\n\ninput:checked + .slider {\n  background-color: var(--primary-600);\n}\n\ninput:focus + .slider {\n  box-shadow: 0 0 1px var(--primary-600);\n}\n\ninput:checked + .slider:before {\n  -webkit-transform: translateX(26px);\n  -ms-transform: translateX(26px);\n  transform: translateX(26px);\n}\n\n/* Rounded sliders */\n.slider.round {\n  border-radius: 34px;\n}\n\n.slider.round:before {\n  border-radius: 50%;\n}\n</style>\n\n<script>\nfunction switchTab(tabName) {\n    // Hide all tab contents\n    document.querySelectorAll('.tab-content').forEach(content => {\n        content.classList.remove('active-tab');\n    });\n    // Remove active class from all tab buttons\n    document.querySelectorAll('.tab-btn').forEach(button => {\n        button.classList.remove('active');\n    });\n    // Show selected tab\n    document.getElementById(tabName).classList.add('active-tab');\n    document.getElementById('tab-' + tabName).classList.add('active');\n    if (history.pushState) {\n        var newurl = window.location.protocol + \"//\" + window.location.host + window.location.pathname + '?page=settings&tab=' + tabName;\n        history.pushState({path:newurl},'',newurl);\n    }\n}\nwindow.addEventListener('DOMContentLoaded', function() {\n    var tab = (new URLSearchParams(window.location.search)).get('tab') || 'organization';\n    document.querySelectorAll('.tab-content').forEach(content => {\n        content.classList.remove('active-tab');\n    });\n    var activeTab = document.getElementById(tab);\n    if (activeTab) {\n        activeTab.classList.add('active-tab');\n    } else {\n        document.querySelectorAll('.tab-content')[0].classList.add('active-tab');\n    }\n    document.querySelectorAll('.tab-btn').forEach(button => {\n        button.classList.remove('active');\n        if (button.id === 'tab-' + tab) {\n            button.classList.add('active');\n        }\n    });\n});\n</script>\n<noscript>\n<style>\n    .tab-content { display: block !important; }\n</style>\n<div class=\"alert alert-warning\">La navegación por pestañas requiere JavaScript. Todas las secciones se muestran abajo.</div>\n</noscript>\n\n\n","epoch":2679,"telemetryInfo":{}}],["file:///root/Documentos/github/GestionSocios/src/Views/accounting/reports/trial_balance.php::request_518088f2-fcfe-4f33-b9de-635f26d211bc",{"uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Views/accounting/reports/trial_balance.php","external":"file:///root/Documentos/github/GestionSocios/src/Views/accounting/reports/trial_balance.php","path":"/root/Documentos/github/GestionSocios/src/Views/accounting/reports/trial_balance.php","scheme":"file"},"requestId":"request_518088f2-fcfe-4f33-b9de-635f26d211bc","content":"<?php ob_start(); ?>\n\n<div class=\"main-content\">\n    <div class=\"content-header\">\n        <h1><i class=\"fas fa-balance-scale\"></i> Balance de Sumas y Saldos</h1>\n        <div class=\"header-actions\">\n            <a href=\"index.php?page=accounting&action=exportReport&type=trial_balance&start_date=<?php echo urlencode($startDate ?? date('Y-01-01')); ?>&end_date=<?php echo urlencode($endDate ?? date('Y-12-31')); ?>\" \n               class=\"btn btn-success\">\n                <i class=\"fas fa-file-excel\"></i> Exportar Excel\n            </a>\n            <a href=\"index.php?page=accounting&action=dashboard\" class=\"btn btn-secondary\">\n                <i class=\"fas fa-arrow-left\"></i> Volver\n            </a>\n        </div>\n    </div>\n\n    <!-- Filters -->\n    <div class=\"filters-card\">\n        <form method=\"GET\" action=\"index.php\" class=\"filters-form\">\n            <input type=\"hidden\" name=\"page\" value=\"accounting\">\n            <input type=\"hidden\" name=\"action\" value=\"trialBalance\">\n            \n            <div class=\"filter-group\">\n                <label for=\"start_date\">Fecha Desde</label>\n                <input type=\"date\" name=\"start_date\" id=\"start_date\" class=\"form-control\" \n                       value=\"<?php echo htmlspecialchars($startDate ?? date('Y-01-01')); ?>\">\n            </div>\n\n            <div class=\"filter-group\">\n                <label for=\"end_date\">Fecha Hasta</label>\n                <input type=\"date\" name=\"end_date\" id=\"end_date\" class=\"form-control\" \n                       value=\"<?php echo htmlspecialchars($endDate ?? date('Y-12-31')); ?>\">\n            </div>\n\n            <div class=\"filter-actions\">\n                <button type=\"submit\" class=\"btn btn-primary\">\n                    <i class=\"fas fa-search\"></i> Consultar\n                </button>\n            </div>\n        </form>\n    </div>\n\n    <div class=\"report-card\">\n        <div class=\"report-header\">\n            <h2>Balance de Sumas y Saldos</h2>\n            <p>\n                Período: \n                <?php \n                $startDateTime = DateTime::createFromFormat('Y-m-d', $startDate);\n                $endDateTime = DateTime::createFromFormat('Y-m-d', $endDate);\n                echo ($startDateTime ? $startDateTime->format('d/m/Y') : 'Fecha inválida') . ' - ' . \n                     ($endDateTime ? $endDateTime->format('d/m/Y') : 'Fecha inválida');\n                ?>\n            </p>\n        </div>\n\n        <div class=\"table-responsive\">\n            <table class=\"data-table\">\n                <thead>\n                    <tr>\n                        <th rowspan=\"2\">Código</th>\n                        <th rowspan=\"2\">Cuenta</th>\n                        <th rowspan=\"2\">Tipo</th>\n                        <th colspan=\"2\" class=\"text-center\">Sumas</th>\n                        <th colspan=\"2\" class=\"text-center\">Saldos</th>\n                    </tr>\n                    <tr>\n                        <th class=\"text-right\">Debe</th>\n                        <th class=\"text-right\">Haber</th>\n                        <th class=\"text-right\">Deudor</th>\n                        <th class=\"text-right\">Acreedor</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    <?php\n                    $totalDebit = 0;\n                    $totalCredit = 0;\n                    $totalDebtorBalance = 0;\n                    $totalCreditorBalance = 0;\n\n                    // Group by account type\n                    $groupedBalances = [];\n                    foreach ($balances as $balance) {\n                        $groupedBalances[$balance['account_type']][] = $balance;\n                    }\n\n                    $typeLabels = [\n                        'asset' => 'ACTIVO',\n                        'liability' => 'PASIVO',\n                        'equity' => 'PATRIMONIO',\n                        'income' => 'INGRESOS',\n                        'expense' => 'GASTOS'\n                    ];\n\n                    foreach ($groupedBalances as $type => $items):\n                    ?>\n                        <tr class=\"group-header\">\n                            <td colspan=\"7\"><strong><?php echo $typeLabels[$type] ?? $type; ?></strong></td>\n                        </tr>\n                        <?php foreach ($items as $balance):\n                            $debtorBalance = max(0, $balance['total_debit'] - $balance['total_credit']);\n                            $creditorBalance = max(0, $balance['total_credit'] - $balance['total_debit']);\n                            \n                            $totalDebit += $balance['total_debit'];\n                            $totalCredit += $balance['total_credit'];\n                            $totalDebtorBalance += $debtorBalance;\n                            $totalCreditorBalance += $creditorBalance;\n                        ?>\n                            <tr>\n                                <td><?php echo htmlspecialchars($balance['code']); ?></td>\n                                <td><?php echo htmlspecialchars($balance['name']); ?></td>\n                                <td>\n                                    <?php\n                                    $typeLabel = [\n                                        'asset' => 'Activo',\n                                        'liability' => 'Pasivo',\n                                        'equity' => 'Patrimonio',\n                                        'income' => 'Ingresos',\n                                        'expense' => 'Gastos'\n                                    ];\n                                    echo $typeLabel[$balance['account_type']] ?? $balance['account_type'];\n                                    ?>\n                                </td>\n                                <td class=\"text-right\"><?php echo number_format($balance['total_debit'], 2); ?> €</td>\n                                <td class=\"text-right\"><?php echo number_format($balance['total_credit'], 2); ?> €</td>\n                                <td class=\"text-right\">\n                                    <?php echo $debtorBalance > 0 ? number_format($debtorBalance, 2) . ' €' : '-'; ?>\n                                </td>\n                                <td class=\"text-right\">\n                                    <?php echo $creditorBalance > 0 ? number_format($creditorBalance, 2) . ' €' : '-'; ?>\n                                </td>\n                            </tr>\n                        <?php endforeach; ?>\n                    <?php endforeach; ?>\n                </tbody>\n                <tfoot>\n                    <tr>\n                        <th colspan=\"3\" class=\"text-right\">TOTALES:</th>\n                        <th class=\"text-right\"><?php echo number_format($totalDebit, 2); ?> €</th>\n                        <th class=\"text-right\"><?php echo number_format($totalCredit, 2); ?> €</th>\n                        <th class=\"text-right\"><?php echo number_format($totalDebtorBalance, 2); ?> €</th>\n                        <th class=\"text-right\"><?php echo number_format($totalCreditorBalance, 2); ?> €</th>\n                    </tr>\n                    <tr>\n                        <th colspan=\"3\" class=\"text-right\">VERIFICACIÓN:</th>\n                        <th colspan=\"2\" class=\"text-center <?php echo abs($totalDebit - $totalCredit) < 0.01 ? 'text-success' : 'text-danger'; ?>\">\n                            <?php echo abs($totalDebit - $totalCredit) < 0.01 ? '✓ Cuadrado' : '✗ Descuadrado'; ?>\n                        </th>\n                        <th colspan=\"2\" class=\"text-center <?php echo abs($totalDebtorBalance - $totalCreditorBalance) < 0.01 ? 'text-success' : 'text-danger'; ?>\">\n                            <?php echo abs($totalDebtorBalance - $totalCreditorBalance) < 0.01 ? '✓ Cuadrado' : '✗ Descuadrado'; ?>\n                        </th>\n                    </tr>\n                </tfoot>\n            </table>\n        </div>\n    </div>\n</div>\n\n<style>\n.report-card {\n    background: white;\n    border-radius: 8px;\n    box-shadow: 0 2px 4px rgba(0,0,0,0.1);\n    margin-top: 2rem;\n}\n\n.report-header {\n    padding: 2rem;\n    border-bottom: 1px solid var(--border-color);\n}\n\n.report-header h2 {\n    margin: 0 0 0.5rem 0;\n    font-size: 1.5rem;\n    font-weight: 600;\n}\n\n.report-header p {\n    margin: 0;\n    color: var(--text-secondary);\n}\n\n.group-header td {\n    background: var(--hover-bg);\n    font-weight: 600;\n    padding: 0.75rem 1rem;\n}\n\n.text-success {\n    color: #10b981;\n    font-weight: 600;\n}\n\n.text-danger {\n    color: #ef4444;\n    font-weight: 600;\n}\n</style>\n\n<?php\n$content = ob_get_clean();\nrequire __DIR__ . '/../../layout.php';\n?>\n","epoch":2683,"telemetryInfo":{}}],["file:///root/Documentos/github/GestionSocios/src/Views/accounting/reports/trial_balance.php::request_d56ce38c-97d7-40f3-880e-c9b003edca9e",{"uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Views/accounting/reports/trial_balance.php","external":"file:///root/Documentos/github/GestionSocios/src/Views/accounting/reports/trial_balance.php","path":"/root/Documentos/github/GestionSocios/src/Views/accounting/reports/trial_balance.php","scheme":"file"},"requestId":"request_d56ce38c-97d7-40f3-880e-c9b003edca9e","content":"<?php ob_start(); ?>\n\n<div class=\"main-content\">\n    <div class=\"content-header\">\n        <h1><i class=\"fas fa-balance-scale\"></i> Balance de Sumas y Saldos</h1>\n        <div class=\"header-actions\">\n            <a href=\"index.php?page=accounting&action=exportReport&type=trial_balance&start_date=<?php echo urlencode($startDate ?? date('Y-01-01')); ?>&end_date=<?php echo urlencode($endDate ?? date('Y-12-31')); ?>\" \n               class=\"btn btn-success\">\n                <i class=\"fas fa-file-excel\"></i> Exportar Excel\n            </a>\n            <a href=\"index.php?page=accounting&action=dashboard\" class=\"btn btn-secondary\">\n                <i class=\"fas fa-arrow-left\"></i> Volver\n            </a>\n        </div>\n    </div>\n\n    <!-- Filters -->\n    <div class=\"filters-card\">\n        <form method=\"GET\" action=\"index.php\" class=\"filters-form\">\n            <input type=\"hidden\" name=\"page\" value=\"accounting\">\n            <input type=\"hidden\" name=\"action\" value=\"trialBalance\">\n            \n            <div class=\"filter-group\">\n                <label for=\"start_date\">Fecha Desde</label>\n                <input type=\"date\" name=\"start_date\" id=\"start_date\" class=\"form-control\" \n                       value=\"<?php echo htmlspecialchars($startDate ?? date('Y-01-01')); ?>\">\n            </div>\n\n            <div class=\"filter-group\">\n                <label for=\"end_date\">Fecha Hasta</label>\n                <input type=\"date\" name=\"end_date\" id=\"end_date\" class=\"form-control\" \n                       value=\"<?php echo htmlspecialchars($endDate ?? date('Y-12-31')); ?>\">\n            </div>\n\n            <div class=\"filter-actions\">\n                <button type=\"submit\" class=\"btn btn-primary\">\n                    <i class=\"fas fa-search\"></i> Consultar\n                </button>\n            </div>\n        </form>\n    </div>\n\n    <div class=\"report-card\">\n        <div class=\"report-header\">\n            <h2>Balance de Sumas y Saldos</h2>\n            <p>\n                Período: \n                <?php \n                $startDateTime = DateTime::createFromFormat('Y-m-d', $startDate);\n                $endDateTime = DateTime::createFromFormat('Y-m-d', $endDate);\n                echo ($startDateTime ? $startDateTime->format('d/m/Y') : 'Fecha inválida') . ' - ' . \n                     ($endDateTime ? $endDateTime->format('d/m/Y') : 'Fecha inválida');\n                ?>\n            </p>\n        </div>\n\n        <div class=\"table-responsive\">\n            <table class=\"data-table\">\n                <thead>\n                    <tr>\n                        <th rowspan=\"2\">Código</th>\n                        <th rowspan=\"2\">Cuenta</th>\n                        <th rowspan=\"2\">Tipo</th>\n                        <th colspan=\"2\" class=\"text-center\">Sumas</th>\n                        <th colspan=\"2\" class=\"text-center\">Saldos</th>\n                    </tr>\n                    <tr>\n                        <th class=\"text-right\">Debe</th>\n                        <th class=\"text-right\">Haber</th>\n                        <th class=\"text-right\">Deudor</th>\n                        <th class=\"text-right\">Acreedor</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    <?php\n                    $totalDebit = 0;\n                    $totalCredit = 0;\n                    $totalDebtorBalance = 0;\n                    $totalCreditorBalance = 0;\n\n                    // Group by account type\n                    $groupedBalances = [];\n                    foreach ($balances as $balance) {\n                        $groupedBalances[$balance['account_type']][] = $balance;\n                    }\n\n                    $typeLabels = [\n                        'asset' => 'ACTIVO',\n                        'liability' => 'PASIVO',\n                        'equity' => 'PATRIMONIO',\n                        'income' => 'INGRESOS',\n                        'expense' => 'GASTOS'\n                    ];\n\n                    foreach ($groupedBalances as $type => $items):\n                    ?>\n                        <tr class=\"group-header\">\n                            <td colspan=\"7\"><strong><?php echo $typeLabels[$type] ?? $type; ?></strong></td>\n                        </tr>\n                        <?php foreach ($items as $balance):\n                            $debtorBalance = max(0, $balance['total_debit'] - $balance['total_credit']);\n                            $creditorBalance = max(0, $balance['total_credit'] - $balance['total_debit']);\n                            \n                            $totalDebit += $balance['total_debit'];\n                            $totalCredit += $balance['total_credit'];\n                            $totalDebtorBalance += $debtorBalance;\n                            $totalCreditorBalance += $creditorBalance;\n                        ?>\n                            <tr>\n                                <td><?php echo htmlspecialchars($balance['code']); ?></td>\n                                <td><?php echo htmlspecialchars($balance['name']); ?></td>\n                                <td>\n                                    <?php\n                                    $typeLabel = [\n                                        'asset' => 'Activo',\n                                        'liability' => 'Pasivo',\n                                        'equity' => 'Patrimonio',\n                                        'income' => 'Ingresos',\n                                        'expense' => 'Gastos'\n                                    ];\n                                    echo $typeLabel[$balance['account_type']] ?? $balance['account_type'];\n                                    ?>\n                                </td>\n                                <td class=\"text-right\"><?php echo number_format($balance['total_debit'], 2); ?> €</td>\n                                <td class=\"text-right\"><?php echo number_format($balance['total_credit'], 2); ?> €</td>\n                                <td class=\"text-right\">\n                                    <?php echo $debtorBalance > 0 ? number_format($debtorBalance, 2) . ' €' : '-'; ?>\n                                </td>\n                                <td class=\"text-right\">\n                                    <?php echo $creditorBalance > 0 ? number_format($creditorBalance, 2) . ' €' : '-'; ?>\n                                </td>\n                            </tr>\n                        <?php endforeach; ?>\n                    <?php endforeach; ?>\n                </tbody>\n                <tfoot>\n                    <tr>\n                        <th colspan=\"3\" class=\"text-right\">TOTALES:</th>\n                        <th class=\"text-right\"><?php echo number_format($totalDebit, 2); ?> €</th>\n                        <th class=\"text-right\"><?php echo number_format($totalCredit, 2); ?> €</th>\n                        <th class=\"text-right\"><?php echo number_format($totalDebtorBalance, 2); ?> €</th>\n                        <th class=\"text-right\"><?php echo number_format($totalCreditorBalance, 2); ?> €</th>\n                    </tr>\n                    <tr>\n                        <th colspan=\"3\" class=\"text-right\">VERIFICACIÓN:</th>\n                        <th colspan=\"2\" class=\"text-center <?php echo abs($totalDebit - $totalCredit) < 0.01 ? 'text-success' : 'text-danger'; ?>\">\n                            <?php echo abs($totalDebit - $totalCredit) < 0.01 ? '✓ Cuadrado' : '✗ Descuadrado'; ?>\n                        </th>\n                        <th colspan=\"2\" class=\"text-center <?php echo abs($totalDebtorBalance - $totalCreditorBalance) < 0.01 ? 'text-success' : 'text-danger'; ?>\">\n                            <?php echo abs($totalDebtorBalance - $totalCreditorBalance) < 0.01 ? '✓ Cuadrado' : '✗ Descuadrado'; ?>\n                        </th>\n                    </tr>\n                </tfoot>\n            </table>\n        </div>\n    </div>\n</div>\n\n<style>\n/* Report Card Container */\n.report-card {\n    background: white;\n    border-radius: 12px;\n    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n    margin-top: 2rem;\n    overflow: hidden;\n}\n\n.report-header {\n    padding: 2rem 2rem 1.5rem;\n    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n    color: white;\n    border-bottom: none;\n}\n\n.report-header h2 {\n    margin: 0 0 0.5rem 0;\n    font-size: 1.75rem;\n    font-weight: 700;\n    color: white;\n}\n\n.report-header p {\n    margin: 0;\n    color: rgba(255, 255, 255, 0.9);\n    font-size: 1rem;\n    font-weight: 500;\n}\n\n/* Table Styling */\n.table-responsive {\n    padding: 0;\n    overflow-x: auto;\n}\n\n.data-table {\n    width: 100%;\n    border-collapse: collapse;\n    font-size: 0.95rem;\n}\n\n.data-table thead {\n    background: #f8f9fa;\n    position: sticky;\n    top: 0;\n    z-index: 10;\n}\n\n.data-table thead th {\n    padding: 1rem;\n    font-weight: 600;\n    color: #374151;\n    text-transform: uppercase;\n    font-size: 0.85rem;\n    letter-spacing: 0.05em;\n    border-bottom: 2px solid #e5e7eb;\n}\n\n.data-table thead tr:first-child th {\n    background: #1f2937;\n    color: white;\n    border-bottom: 1px solid #374151;\n}\n\n.data-table thead tr:last-child th {\n    background: #374151;\n    color: white;\n}\n\n.data-table tbody td {\n    padding: 0.875rem 1rem;\n    border-bottom: 1px solid #e5e7eb;\n    color: #1f2937;\n}\n\n.data-table tbody tr {\n    transition: background-color 0.2s ease;\n}\n\n.data-table tbody tr:hover:not(.group-header) {\n    background-color: #f9fafb;\n}\n\n.data-table tbody tr:nth-child(even):not(.group-header) {\n    background-color: #fafbfc;\n}\n\n/* Group Headers */\n.group-header td {\n    background: linear-gradient(90deg, #3b82f6 0%, #2563eb 100%) !important;\n    color: white !important;\n    font-weight: 700;\n    padding: 1rem 1rem !important;\n    font-size: 1rem;\n    letter-spacing: 0.05em;\n    text-transform: uppercase;\n    border-bottom: 2px solid #1e40af !important;\n    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n}\n\n/* Account Type Colors */\n.data-table tbody tr:not(.group-header):hover {\n    box-shadow: inset 4px 0 0 #3b82f6;\n}\n\n/* Number Formatting */\n.text-right {\n    text-align: right;\n    font-variant-numeric: tabular-nums;\n    font-family: 'Courier New', monospace;\n    font-weight: 500;\n}\n\n.text-center {\n    text-align: center;\n}\n\n/* Footer Totals */\n.data-table tfoot {\n    background: #f8f9fa;\n    border-top: 3px solid #3b82f6;\n}\n\n.data-table tfoot tr:first-child {\n    background: linear-gradient(90deg, #1f2937 0%, #374151 100%);\n}\n\n.data-table tfoot tr:first-child th {\n    color: white;\n    padding: 1rem;\n    font-size: 1rem;\n    font-weight: 700;\n    letter-spacing: 0.05em;\n}\n\n.data-table tfoot tr:last-child {\n    background: #e5e7eb;\n}\n\n.data-table tfoot tr:last-child th {\n    padding: 1.25rem 1rem;\n    font-size: 1rem;\n    font-weight: 700;\n    color: #1f2937;\n}\n\n/* Status Badges */\n.text-success {\n    color: #059669 !important;\n    font-weight: 700;\n    background: #d1fae5;\n    padding: 0.5rem 1rem;\n    border-radius: 6px;\n    display: inline-flex;\n    align-items: center;\n    gap: 0.5rem;\n    font-size: 1rem;\n}\n\n.text-danger {\n    color: #dc2626 !important;\n    font-weight: 700;\n    background: #fee2e2;\n    padding: 0.5rem 1rem;\n    border-radius: 6px;\n    display: inline-flex;\n    align-items: center;\n    gap: 0.5rem;\n    font-size: 1rem;\n}\n\n/* Responsive Design */\n@media (max-width: 768px) {\n    .report-header {\n        padding: 1.5rem 1rem;\n    }\n    \n    .report-header h2 {\n        font-size: 1.25rem;\n    }\n    \n    .data-table {\n        font-size: 0.85rem;\n    }\n    \n    .data-table thead th,\n    .data-table tbody td,\n    .data-table tfoot th {\n        padding: 0.75rem 0.5rem;\n    }\n    \n    .group-header td {\n        font-size: 0.9rem;\n    }\n}\n\n/* Print Styles */\n@media print {\n    .report-card {\n        box-shadow: none;\n        border: 1px solid #e5e7eb;\n    }\n    \n    .data-table tbody tr:hover {\n        background-color: transparent !important;\n    }\n    \n    .group-header td {\n        background: #3b82f6 !important;\n        -webkit-print-color-adjust: exact;\n        print-color-adjust: exact;\n    }\n}\n</style>\n\n<?php\n$content = ob_get_clean();\nrequire __DIR__ . '/../../layout.php';\n?>\n","epoch":2687,"telemetryInfo":{}}],["file:///root/Documentos/github/GestionSocios/src/Views/accounting/reports/trial_balance.php::request_fb593d37-7a40-4b03-873d-63a3f5d03621",{"uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Views/accounting/reports/trial_balance.php","external":"file:///root/Documentos/github/GestionSocios/src/Views/accounting/reports/trial_balance.php","path":"/root/Documentos/github/GestionSocios/src/Views/accounting/reports/trial_balance.php","scheme":"file"},"requestId":"request_fb593d37-7a40-4b03-873d-63a3f5d03621","content":"<?php ob_start(); ?>\n\n<div class=\"main-content\">\n    <div class=\"content-header\">\n        <h1><i class=\"fas fa-balance-scale\"></i> Balance de Sumas y Saldos</h1>\n        <div class=\"header-actions\">\n            <a href=\"index.php?page=accounting&action=exportReport&type=trial_balance&start_date=<?php echo urlencode($startDate ?? date('Y-01-01')); ?>&end_date=<?php echo urlencode($endDate ?? date('Y-12-31')); ?>\" \n               class=\"btn btn-success\">\n                <i class=\"fas fa-file-excel\"></i> Exportar Excel\n            </a>\n            <a href=\"index.php?page=accounting&action=dashboard\" class=\"btn btn-secondary\">\n                <i class=\"fas fa-arrow-left\"></i> Volver\n            </a>\n        </div>\n    </div>\n\n    <!-- Filters -->\n    <div class=\"filters-card\">\n        <form method=\"GET\" action=\"index.php\" class=\"filters-form\">\n            <input type=\"hidden\" name=\"page\" value=\"accounting\">\n            <input type=\"hidden\" name=\"action\" value=\"trialBalance\">\n            \n            <div class=\"filter-group\">\n                <label for=\"start_date\">Fecha Desde</label>\n                <input type=\"date\" name=\"start_date\" id=\"start_date\" class=\"form-control\" \n                       value=\"<?php echo htmlspecialchars($startDate ?? date('Y-01-01')); ?>\">\n            </div>\n\n            <div class=\"filter-group\">\n                <label for=\"end_date\">Fecha Hasta</label>\n                <input type=\"date\" name=\"end_date\" id=\"end_date\" class=\"form-control\" \n                       value=\"<?php echo htmlspecialchars($endDate ?? date('Y-12-31')); ?>\">\n            </div>\n\n            <div class=\"filter-actions\">\n                <button type=\"submit\" class=\"btn btn-primary\">\n                    <i class=\"fas fa-search\"></i> Consultar\n                </button>\n            </div>\n        </form>\n    </div>\n\n    <div class=\"report-card\">\n        <div class=\"report-header\">\n            <h2>Balance de Sumas y Saldos</h2>\n            <p>\n                Período: \n                <?php \n                $startDateTime = DateTime::createFromFormat('Y-m-d', $startDate);\n                $endDateTime = DateTime::createFromFormat('Y-m-d', $endDate);\n                echo ($startDateTime ? $startDateTime->format('d/m/Y') : 'Fecha inválida') . ' - ' . \n                     ($endDateTime ? $endDateTime->format('d/m/Y') : 'Fecha inválida');\n                ?>\n            </p>\n        </div>\n\n        <div class=\"table-responsive\">\n            <table class=\"data-table\">\n                <thead>\n                    <tr>\n                        <th rowspan=\"2\">Código</th>\n                        <th rowspan=\"2\">Cuenta</th>\n                        <th rowspan=\"2\">Tipo</th>\n                        <th colspan=\"2\" class=\"text-center\">Sumas</th>\n                        <th colspan=\"2\" class=\"text-center\">Saldos</th>\n                    </tr>\n                    <tr>\n                        <th class=\"text-right\">Debe</th>\n                        <th class=\"text-right\">Haber</th>\n                        <th class=\"text-right\">Deudor</th>\n                        <th class=\"text-right\">Acreedor</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    <?php\n                    $totalDebit = 0;\n                    $totalCredit = 0;\n                    $totalDebtorBalance = 0;\n                    $totalCreditorBalance = 0;\n\n                    // Group by account type\n                    $groupedBalances = [];\n                    foreach ($balances as $balance) {\n                        $groupedBalances[$balance['account_type']][] = $balance;\n                    }\n\n                    $typeLabels = [\n                        'asset' => 'ACTIVO',\n                        'liability' => 'PASIVO',\n                        'equity' => 'PATRIMONIO',\n                        'income' => 'INGRESOS',\n                        'expense' => 'GASTOS'\n                    ];\n\n                    foreach ($groupedBalances as $type => $items):\n                    ?>\n                        <tr class=\"group-header\">\n                            <td colspan=\"7\"><strong><?php echo $typeLabels[$type] ?? $type; ?></strong></td>\n                        </tr>\n                        <?php foreach ($items as $balance):\n                            $debtorBalance = max(0, $balance['total_debit'] - $balance['total_credit']);\n                            $creditorBalance = max(0, $balance['total_credit'] - $balance['total_debit']);\n                            \n                            $totalDebit += $balance['total_debit'];\n                            $totalCredit += $balance['total_credit'];\n                            $totalDebtorBalance += $debtorBalance;\n                            $totalCreditorBalance += $creditorBalance;\n                        ?>\n                            <tr>\n                                <td><?php echo htmlspecialchars($balance['code']); ?></td>\n                                <td><?php echo htmlspecialchars($balance['name']); ?></td>\n                                <td>\n                                    <?php\n                                    $typeLabel = [\n                                        'asset' => 'Activo',\n                                        'liability' => 'Pasivo',\n                                        'equity' => 'Patrimonio',\n                                        'income' => 'Ingresos',\n                                        'expense' => 'Gastos'\n                                    ];\n                                    echo $typeLabel[$balance['account_type']] ?? $balance['account_type'];\n                                    ?>\n                                </td>\n                                <td class=\"text-right\"><?php echo number_format($balance['total_debit'], 2); ?> €</td>\n                                <td class=\"text-right\"><?php echo number_format($balance['total_credit'], 2); ?> €</td>\n                                <td class=\"text-right\">\n                                    <?php echo $debtorBalance > 0 ? number_format($debtorBalance, 2) . ' €' : '-'; ?>\n                                </td>\n                                <td class=\"text-right\">\n                                    <?php echo $creditorBalance > 0 ? number_format($creditorBalance, 2) . ' €' : '-'; ?>\n                                </td>\n                            </tr>\n                        <?php endforeach; ?>\n                    <?php endforeach; ?>\n                </tbody>\n                <tfoot>\n                    <tr>\n                        <th colspan=\"3\" class=\"text-right\">TOTALES:</th>\n                        <th class=\"text-right\"><?php echo number_format($totalDebit, 2); ?> €</th>\n                        <th class=\"text-right\"><?php echo number_format($totalCredit, 2); ?> €</th>\n                        <th class=\"text-right\"><?php echo number_format($totalDebtorBalance, 2); ?> €</th>\n                        <th class=\"text-right\"><?php echo number_format($totalCreditorBalance, 2); ?> €</th>\n                    </tr>\n                    <tr>\n                        <th colspan=\"3\" class=\"text-right\">VERIFICACIÓN:</th>\n                        <th colspan=\"2\" class=\"text-center <?php echo abs($totalDebit - $totalCredit) < 0.01 ? 'text-success' : 'text-danger'; ?>\">\n                            <?php echo abs($totalDebit - $totalCredit) < 0.01 ? '✓ Cuadrado' : '✗ Descuadrado'; ?>\n                        </th>\n                        <th colspan=\"2\" class=\"text-center <?php echo abs($totalDebtorBalance - $totalCreditorBalance) < 0.01 ? 'text-success' : 'text-danger'; ?>\">\n                            <?php echo abs($totalDebtorBalance - $totalCreditorBalance) < 0.01 ? '✓ Cuadrado' : '✗ Descuadrado'; ?>\n                        </th>\n                    </tr>\n                </tfoot>\n            </table>\n        </div>\n    </div>\n</div>\n\n<style>\n/* Report Card Container */\n.report-card {\n    background: white;\n    border-radius: 8px;\n    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.08);\n    margin-top: 2rem;\n    overflow: hidden;\n    border: 1px solid #e5e7eb;\n}\n\n.report-header {\n    padding: 2rem;\n    background: white;\n    border-bottom: 2px solid #f3f4f6;\n}\n\n.report-header h2 {\n    margin: 0 0 0.5rem 0;\n    font-size: 1.5rem;\n    font-weight: 600;\n    color: #111827;\n}\n\n.report-header p {\n    margin: 0;\n    color: #6b7280;\n    font-size: 0.95rem;\n}\n\n/* Table Styling */\n.table-responsive {\n    padding: 0;\n    overflow-x: auto;\n}\n\n.data-table {\n    width: 100%;\n    border-collapse: collapse;\n    font-size: 0.9rem;\n}\n\n.data-table thead {\n    background: #fafafa;\n    position: sticky;\n    top: 0;\n    z-index: 10;\n}\n\n.data-table thead th {\n    padding: 0.875rem 1rem;\n    font-weight: 600;\n    color: #374151;\n    text-transform: uppercase;\n    font-size: 0.75rem;\n    letter-spacing: 0.05em;\n    border-bottom: 1px solid #e5e7eb;\n}\n\n.data-table thead tr:first-child th {\n    background: #f9fafb;\n    color: #111827;\n    border-bottom: 1px solid #d1d5db;\n    padding-bottom: 0.5rem;\n}\n\n.data-table thead tr:last-child th {\n    background: #f3f4f6;\n    color: #374151;\n    padding-top: 0.5rem;\n}\n\n.data-table tbody td {\n    padding: 0.75rem 1rem;\n    border-bottom: 1px solid #f3f4f6;\n    color: #374151;\n}\n\n.data-table tbody tr {\n    transition: background-color 0.15s ease;\n}\n\n.data-table tbody tr:hover:not(.group-header) {\n    background-color: #fafbfc;\n}\n\n/* Group Headers - Diseño minimalista */\n.group-header td {\n    background: #f9fafb !important;\n    color: #111827 !important;\n    font-weight: 600;\n    padding: 0.875rem 1rem !important;\n    font-size: 0.85rem;\n    letter-spacing: 0.025em;\n    text-transform: uppercase;\n    border-top: 2px solid #e5e7eb !important;\n    border-bottom: 1px solid #d1d5db !important;\n}\n\n/* Number Formatting */\n.text-right {\n    text-align: right;\n    font-variant-numeric: tabular-nums;\n    font-family: ui-monospace, 'SF Mono', 'Roboto Mono', monospace;\n    font-weight: 400;\n}\n\n.text-center {\n    text-align: center;\n}\n\n/* Footer Totals - Más limpio */\n.data-table tfoot {\n    background: white;\n    border-top: 2px solid #e5e7eb;\n}\n\n.data-table tfoot tr:first-child {\n    background: #f9fafb;\n}\n\n.data-table tfoot tr:first-child th {\n    color: #111827;\n    padding: 0.875rem 1rem;\n    font-size: 0.9rem;\n    font-weight: 600;\n}\n\n.data-table tfoot tr:last-child {\n    background: white;\n    border-top: 1px solid #e5e7eb;\n}\n\n.data-table tfoot tr:last-child th {\n    padding: 1rem;\n    font-size: 0.9rem;\n    font-weight: 600;\n    color: #374151;\n}\n\n/* Status Badges - Minimalistas */\n.text-success {\n    color: #059669 !important;\n    font-weight: 600;\n    background: #ecfdf5;\n    padding: 0.375rem 0.75rem;\n    border-radius: 4px;\n    display: inline-flex;\n    align-items: center;\n    gap: 0.375rem;\n    font-size: 0.875rem;\n    border: 1px solid #a7f3d0;\n}\n\n.text-danger {\n    color: #dc2626 !important;\n    font-weight: 600;\n    background: #fef2f2;\n    padding: 0.375rem 0.75rem;\n    border-radius: 4px;\n    display: inline-flex;\n    align-items: center;\n    gap: 0.375rem;\n    font-size: 0.875rem;\n    border: 1px solid #fecaca;\n}\n\n/* Responsive Design */\n@media (max-width: 768px) {\n    .report-header {\n        padding: 1.5rem 1rem;\n    }\n    \n    .report-header h2 {\n        font-size: 1.25rem;\n    }\n    \n    .data-table {\n        font-size: 0.85rem;\n    }\n    \n    .data-table thead th,\n    .data-table tbody td,\n    .data-table tfoot th {\n        padding: 0.625rem 0.5rem;\n    }\n    \n    .group-header td {\n        font-size: 0.8rem;\n    }\n}\n\n/* Print Styles */\n@media print {\n    .report-card {\n        box-shadow: none;\n        border: 1px solid #e5e7eb;\n    }\n    \n    .data-table tbody tr:hover {\n        background-color: transparent !important;\n    }\n    \n    .group-header td {\n        background: #f9fafb !important;\n        -webkit-print-color-adjust: exact;\n        print-color-adjust: exact;\n    }\n}\n</style>\n\n<?php\n$content = ob_get_clean();\nrequire __DIR__ . '/../../layout.php';\n?>\n","epoch":2691,"telemetryInfo":{}}],["file:///root/Documentos/github/GestionSocios/src/Views/accounting/reports/general_ledger.php::request_957867f5-dfec-4950-bd22-bffab2e8c048",{"uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Views/accounting/reports/general_ledger.php","external":"file:///root/Documentos/github/GestionSocios/src/Views/accounting/reports/general_ledger.php","path":"/root/Documentos/github/GestionSocios/src/Views/accounting/reports/general_ledger.php","scheme":"file"},"requestId":"request_957867f5-dfec-4950-bd22-bffab2e8c048","content":"<?php ob_start(); ?>\n\n<div class=\"main-content\">\n    <div class=\"content-header\">\n        <h1><i class=\"fas fa-book-open\"></i> Libro Mayor</h1>\n        <div class=\"header-actions\">\n            <?php if (isset($accountId) && $accountId): ?>\n            <a href=\"index.php?page=accounting&action=exportReport&type=general_ledger&account_id=<?php echo $accountId; ?>&start_date=<?php echo urlencode($startDate ?? date('Y-01-01')); ?>&end_date=<?php echo urlencode($endDate ?? date('Y-12-31')); ?>\" \n               class=\"btn btn-success\">\n                <i class=\"fas fa-file-excel\"></i> Exportar Excel\n            </a>\n            <?php endif; ?>\n            <a href=\"index.php?page=accounting&action=dashboard\" class=\"btn btn-secondary\">\n                <i class=\"fas fa-arrow-left\"></i> Volver\n            </a>\n        </div>\n    </div>\n\n    <!-- Filters -->\n    <div class=\"filters-card\">\n        <form method=\"GET\" action=\"index.php\" class=\"filters-form\">\n            <input type=\"hidden\" name=\"page\" value=\"accounting\">\n            <input type=\"hidden\" name=\"action\" value=\"generalLedger\">\n            \n            <div class=\"filter-group\">\n                <label for=\"account_id\">Cuenta <span class=\"required\">*</span></label>\n                <select name=\"account_id\" id=\"account_id\" class=\"form-control\" required>\n                    <option value=\"\">Seleccione una cuenta...</option>\n                    <?php foreach ($accounts as $account): ?>\n                        <option value=\"<?php echo $account['id']; ?>\" \n                                <?php echo ($accountId ?? '') == $account['id'] ? 'selected' : ''; ?>>\n                            <?php echo htmlspecialchars($account['code'] . ' - ' . $account['name']); ?>\n                        </option>\n                    <?php endforeach; ?>\n                </select>\n            </div>\n\n            <div class=\"filter-group\">\n                <label for=\"start_date\">Fecha Desde</label>\n                <input type=\"date\" name=\"start_date\" id=\"start_date\" class=\"form-control\" \n                       value=\"<?php echo htmlspecialchars($startDate ?? date('Y-01-01')); ?>\">\n            </div>\n\n            <div class=\"filter-group\">\n                <label for=\"end_date\">Fecha Hasta</label>\n                <input type=\"date\" name=\"end_date\" id=\"end_date\" class=\"form-control\" \n                       value=\"<?php echo htmlspecialchars($endDate ?? date('Y-12-31')); ?>\">\n            </div>\n\n            <div class=\"filter-actions\">\n                <button type=\"submit\" class=\"btn btn-primary\">\n                    <i class=\"fas fa-search\"></i> Consultar\n                </button>\n            </div>\n        </form>\n    </div>\n\n    <?php if (!empty($accountId) && !empty($ledgerData)): ?>\n        <div class=\"report-card\">\n            <div class=\"report-header\">\n                <h2>\n                    Libro Mayor - <?php echo htmlspecialchars($accountModel->code . ' - ' . $accountModel->name); ?>\n                </h2>\n                <p>\n                    Período: \n                    <?php \n                    $startDateTime = DateTime::createFromFormat('Y-m-d', $startDate);\n                    $endDateTime = DateTime::createFromFormat('Y-m-d', $endDate);\n                    echo ($startDateTime ? $startDateTime->format('d/m/Y') : 'Fecha inválida') . ' - ' . \n                         ($endDateTime ? $endDateTime->format('d/m/Y') : 'Fecha inválida');\n                    ?>\n                </p>\n            </div>\n\n            <div class=\"table-responsive\">\n                <table class=\"data-table\">\n                    <thead>\n                        <tr>\n                            <th>Fecha</th>\n                            <th>Número Asiento</th>\n                            <th>Descripción Asiento</th>\n                            <th>Descripción Línea</th>\n                            <th class=\"text-right\">Débito</th>\n                            <th class=\"text-right\">Crédito</th>\n                            <th class=\"text-right\">Saldo</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <?php\n                        $balance = 0;\n                        foreach ($ledgerData as $row):\n                            $balance += ($row['debit'] - $row['credit']);\n                        ?>\n                            <tr>\n                                <td><?php echo date('d/m/Y', strtotime($row['entry_date'])); ?></td>\n                                <td><?php echo htmlspecialchars($row['entry_number']); ?></td>\n                                <td><?php echo htmlspecialchars($row['description']); ?></td>\n                                <td><?php echo htmlspecialchars($row['line_description'] ?? ''); ?></td>\n                                <td class=\"text-right\">\n                                    <?php echo $row['debit'] > 0 ? number_format($row['debit'], 2) . ' €' : '-'; ?>\n                                </td>\n                                <td class=\"text-right\">\n                                    <?php echo $row['credit'] > 0 ? number_format($row['credit'], 2) . ' €' : '-'; ?>\n                                </td>\n                                <td class=\"text-right <?php echo $balance >= 0 ? 'text-success' : 'text-danger'; ?>\">\n                                    <?php echo number_format($balance, 2); ?> €\n                                </td>\n                            </tr>\n                        <?php endforeach; ?>\n                    </tbody>\n                    <tfoot>\n                        <tr>\n                            <th colspan=\"6\" class=\"text-right\">SALDO FINAL:</th>\n                            <th class=\"text-right <?php echo $balance >= 0 ? 'text-success' : 'text-danger'; ?>\">\n                                <?php echo number_format($balance, 2); ?> €\n                            </th>\n                        </tr>\n                    </tfoot>\n                </table>\n            </div>\n        </div>\n    <?php elseif (!empty($accountId) && empty($ledgerData)): ?>\n        <div class=\"alert alert-info\">\n            <i class=\"fas fa-info-circle\"></i>\n            No hay movimientos para la cuenta seleccionada en el período indicado.\n        </div>\n    <?php endif; ?>\n</div>\n\n<style>\n.report-card {\n    background: white;\n    border-radius: 8px;\n    box-shadow: 0 2px 4px rgba(0,0,0,0.1);\n    margin-top: 2rem;\n}\n\n.report-header {\n    padding: 2rem;\n    border-bottom: 1px solid var(--border-color);\n}\n\n.report-header h2 {\n    margin: 0 0 0.5rem 0;\n    font-size: 1.5rem;\n    font-weight: 600;\n}\n\n.report-header p {\n    margin: 0;\n    color: var(--text-secondary);\n}\n\n.text-success {\n    color: #10b981;\n}\n\n.text-danger {\n    color: #ef4444;\n}\n</style>\n\n<?php\n$content = ob_get_clean();\nrequire __DIR__ . '/../../layout.php';\n?>\n","epoch":2697,"telemetryInfo":{}}],["file:///root/Documentos/github/GestionSocios/src/Views/accounting/entries/index.php::request_e577c165-df3e-45af-a7df-cba6ca015045",{"uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Views/accounting/entries/index.php","external":"file:///root/Documentos/github/GestionSocios/src/Views/accounting/entries/index.php","path":"/root/Documentos/github/GestionSocios/src/Views/accounting/entries/index.php","scheme":"file"},"requestId":"request_e577c165-df3e-45af-a7df-cba6ca015045","content":"<?php ob_start(); ?>\n\n<div class=\"main-content\">\n    <div class=\"content-header\">\n        <h1><i class=\"fas fa-file-invoice\"></i> Libro Diario</h1>\n        <div class=\"header-actions\">\n            <a href=\"index.php?page=accounting&action=dashboard\" class=\"btn btn-secondary\">\n                <i class=\"fas fa-arrow-left\"></i> Volver\n            </a>\n            <a href=\"index.php?page=accounting&action=createEntry\" class=\"btn btn-primary\">\n                <i class=\"fas fa-plus\"></i> Nuevo Asiento\n            </a>\n        </div>\n    </div>\n\n    <!-- Filters -->\n    <div class=\"filters-card\">\n        <form method=\"GET\" action=\"index.php\" class=\"filters-form\">\n            <input type=\"hidden\" name=\"page\" value=\"accounting\">\n            <input type=\"hidden\" name=\"action\" value=\"entries\">\n            \n            <div class=\"filter-group\">\n                <label for=\"period_id\">Período</label>\n                <select name=\"period_id\" id=\"period_id\" class=\"form-control\">\n                    <option value=\"\">Todos</option>\n                    <?php foreach ($periods as $period): ?>\n                        <option value=\"<?php echo $period['id']; ?>\" \n                                <?php echo ($filters['period_id'] ?? '') == $period['id'] ? 'selected' : ''; ?>>\n                            <?php echo htmlspecialchars($period['name']); ?>\n                        </option>\n                    <?php endforeach; ?>\n                </select>\n            </div>\n\n            <div class=\"filter-group\">\n                <label for=\"status\">Estado</label>\n                <select name=\"status\" id=\"status\" class=\"form-control\">\n                    <option value=\"\">Todos</option>\n                    <option value=\"draft\" <?php echo ($filters['status'] ?? '') === 'draft' ? 'selected' : ''; ?>>Borrador</option>\n                    <option value=\"posted\" <?php echo ($filters['status'] ?? '') === 'posted' ? 'selected' : ''; ?>>Contabilizado</option>\n                    <option value=\"cancelled\" <?php echo ($filters['status'] ?? '') === 'cancelled' ? 'selected' : ''; ?>>Cancelado</option>\n                </select>\n            </div>\n\n            <div class=\"filter-group\">\n                <label for=\"start_date\">Fecha Desde</label>\n                <input type=\"date\" name=\"start_date\" id=\"start_date\" class=\"form-control\" \n                       value=\"<?php echo htmlspecialchars($filters['start_date'] ?? ''); ?>\">\n            </div>\n\n            <div class=\"filter-group\">\n                <label for=\"end_date\">Fecha Hasta</label>\n                <input type=\"date\" name=\"end_date\" id=\"end_date\" class=\"form-control\" \n                       value=\"<?php echo htmlspecialchars($filters['end_date'] ?? ''); ?>\">\n            </div>\n\n            <div class=\"filter-actions\">\n                <button type=\"submit\" class=\"btn btn-primary\">\n                    <i class=\"fas fa-search\"></i> Filtrar\n                </button>\n                <a href=\"index.php?page=accounting&action=entries\" class=\"btn btn-secondary\">\n                    <i class=\"fas fa-times\"></i> Limpiar\n                </a>\n            </div>\n        </form>\n    </div>\n\n    <!-- Entries Table -->\n    <div class=\"table-card\">\n        <div class=\"table-responsive\">\n            <table class=\"data-table\">\n                <thead>\n                    <tr>\n                        <th>Número</th>\n                        <th>Fecha</th>\n                        <th>Descripción</th>\n                        <th>Período</th>\n                        <th>Débito</th>\n                        <th>Crédito</th>\n                        <th>Estado</th>\n                        <th>Acciones</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    <?php if (empty($entries)): ?>\n                        <tr>\n                            <td colspan=\"8\" class=\"text-center\">No hay asientos registrados</td>\n                        </tr>\n                    <?php else: ?>\n                        <?php foreach ($entries as $entry): ?>\n                            <tr>\n                                <td><strong><?php echo htmlspecialchars($entry['entry_number']); ?></strong></td>\n                                <td><?php echo date('d/m/Y', strtotime($entry['entry_date'])); ?></td>\n                                <td><?php echo htmlspecialchars($entry['description']); ?></td>\n                                <td><?php echo htmlspecialchars($entry['period_name'] ?? ''); ?></td>\n                                <td class=\"text-right\"><?php echo number_format($entry['total_debit'], 2); ?> €</td>\n                                <td class=\"text-right\"><?php echo number_format($entry['total_credit'], 2); ?> €</td>\n                                <td>\n                                    <?php\n                                    $statusLabels = [\n                                        'draft' => '<span class=\"badge badge-warning\">Borrador</span>',\n                                        'posted' => '<span class=\"badge badge-success\">Contabilizado</span>',\n                                        'cancelled' => '<span class=\"badge badge-danger\">Cancelado</span>'\n                                    ];\n                                    echo $statusLabels[$entry['status']] ?? $entry['status'];\n                                    ?>\n                                </td>\n                                <td>\n                                    <div class=\"action-buttons\">\n                                        <a href=\"index.php?page=accounting&action=viewEntry&id=<?php echo $entry['id']; ?>\" \n                                           class=\"btn btn-sm btn-info\" title=\"Ver\">\n                                            <i class=\"fas fa-eye\"></i>\n                                        </a>\n                                        <?php if ($entry['status'] === 'draft'): ?>\n                                            <a href=\"index.php?page=accounting&action=postEntry&id=<?php echo $entry['id']; ?>\" \n                                               class=\"btn btn-sm btn-success\" title=\"Contabilizar\"\n                                               onclick=\"return confirm('¿Está seguro de contabilizar este asiento? Esta acción no se puede deshacer.');\">\n                                                <i class=\"fas fa-check\"></i>\n                                            </a>\n                                        <?php endif; ?>\n                                    </div>\n                                </td>\n                            </tr>\n                        <?php endforeach; ?>\n                    <?php endif; ?>\n                </tbody>\n            </table>\n        </div>\n\n        <!-- Pagination -->\n        <?php if ($totalPages > 1): ?>\n            <div class=\"pagination\">\n                <?php for ($i = 1; $i <= $totalPages; $i++): ?>\n                    <a href=\"?page=accounting&action=entries&page_num=<?php echo $i; ?><?php \n                        echo isset($filters['period_id']) && $filters['period_id'] ? '&period_id=' . $filters['period_id'] : '';\n                        echo isset($filters['status']) && $filters['status'] ? '&status=' . $filters['status'] : '';\n                    ?>\" \n                       class=\"<?php echo ($page_num ?? 1) == $i ? 'active' : ''; ?>\">\n                        <?php echo $i; ?>\n                    </a>\n                <?php endfor; ?>\n            </div>\n        <?php endif; ?>\n    </div>\n</div>\n\n<?php\n$content = ob_get_clean();\nrequire __DIR__ . '/../../layout.php';\n?>\n","epoch":2701,"telemetryInfo":{}}],["file:///root/Documentos/github/GestionSocios/src/Views/accounting/entries/view.php::request_d3511da5-4b05-4424-b254-96984469ec92",{"uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Views/accounting/entries/view.php","external":"file:///root/Documentos/github/GestionSocios/src/Views/accounting/entries/view.php","path":"/root/Documentos/github/GestionSocios/src/Views/accounting/entries/view.php","scheme":"file"},"requestId":"request_d3511da5-4b05-4424-b254-96984469ec92","content":"<?php ob_start(); ?>\n\n<div class=\"main-content\">\n    <div class=\"content-header\">\n        <h1><i class=\"fas fa-file-invoice\"></i> Asiento Contable #<?php echo htmlspecialchars($entry['entry_number']); ?></h1>\n        <div class=\"header-actions\">\n            <a href=\"index.php?page=accounting&action=entries\" class=\"btn btn-secondary\">\n                <i class=\"fas fa-arrow-left\"></i> Volver\n            </a>\n            <?php if ($entry['status'] === 'draft'): ?>\n                <a href=\"index.php?page=accounting&action=postEntry&id=<?php echo $entry['id']; ?>\" \n                   class=\"btn btn-success\"\n                   onclick=\"return confirm('¿Está seguro de contabilizar este asiento? Esta acción no se puede deshacer.');\">\n                    <i class=\"fas fa-check\"></i> Contabilizar\n                </a>\n            <?php endif; ?>\n        </div>\n    </div>\n\n    <div class=\"detail-card\">\n        <div class=\"detail-section\">\n            <h3>Información del Asiento</h3>\n            <div class=\"detail-grid\">\n                <div class=\"detail-item\">\n                    <span class=\"detail-label\">Número:</span>\n                    <span class=\"detail-value\"><strong><?php echo htmlspecialchars($entry['entry_number']); ?></strong></span>\n                </div>\n                <div class=\"detail-item\">\n                    <span class=\"detail-label\">Fecha:</span>\n                    <span class=\"detail-value\"><?php echo date('d/m/Y', strtotime($entry['entry_date'])); ?></span>\n                </div>\n                <div class=\"detail-item\">\n                    <span class=\"detail-label\">Período:</span>\n                    <span class=\"detail-value\"><?php echo htmlspecialchars($entry['period_name'] ?? 'N/A'); ?></span>\n                </div>\n                <div class=\"detail-item\">\n                    <span class=\"detail-label\">Estado:</span>\n                    <span class=\"detail-value\">\n                        <?php\n                        $statusLabels = [\n                            'draft' => '<span class=\"badge badge-warning\">Borrador</span>',\n                            'posted' => '<span class=\"badge badge-success\">Contabilizado</span>',\n                            'cancelled' => '<span class=\"badge badge-danger\">Cancelado</span>'\n                        ];\n                        echo $statusLabels[$entry['status']] ?? $entry['status'];\n                        ?>\n                    </span>\n                </div>\n                <div class=\"detail-item full-width\">\n                    <span class=\"detail-label\">Descripción:</span>\n                    <span class=\"detail-value\"><?php echo htmlspecialchars($entry['description']); ?></span>\n                </div>\n                <?php if (!empty($entry['reference'])): ?>\n                    <div class=\"detail-item full-width\">\n                        <span class=\"detail-label\">Referencia:</span>\n                        <span class=\"detail-value\"><?php echo htmlspecialchars($entry['reference']); ?></span>\n                    </div>\n                <?php endif; ?>\n                <div class=\"detail-item\">\n                    <span class=\"detail-label\">Creado por:</span>\n                    <span class=\"detail-value\"><?php echo htmlspecialchars($entry['created_by_name'] ?? 'N/A'); ?></span>\n                </div>\n                <div class=\"detail-item\">\n                    <span class=\"detail-label\">Fecha de creación:</span>\n                    <span class=\"detail-value\"><?php echo date('d/m/Y H:i', strtotime($entry['created_at'])); ?></span>\n                </div>\n            </div>\n        </div>\n\n        <div class=\"detail-section\">\n            <h3>Líneas del Asiento</h3>\n            <div class=\"table-responsive\">\n                <table class=\"data-table\">\n                    <thead>\n                        <tr>\n                            <th>Cuenta</th>\n                            <th>Descripción</th>\n                            <th class=\"text-right\">Débito</th>\n                            <th class=\"text-right\">Crédito</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <?php\n                        $totalDebit = 0;\n                        $totalCredit = 0;\n                        foreach ($lines as $line):\n                            $totalDebit += $line['debit'];\n                            $totalCredit += $line['credit'];\n                        ?>\n                            <tr>\n                                <td>\n                                    <strong><?php echo htmlspecialchars($line['account_code']); ?></strong>\n                                    <?php echo htmlspecialchars($line['account_name']); ?>\n                                </td>\n                                <td><?php echo htmlspecialchars($line['description'] ?? ''); ?></td>\n                                <td class=\"text-right\">\n                                    <?php echo $line['debit'] > 0 ? number_format($line['debit'], 2) . ' €' : '-'; ?>\n                                </td>\n                                <td class=\"text-right\">\n                                    <?php echo $line['credit'] > 0 ? number_format($line['credit'], 2) . ' €' : '-'; ?>\n                                </td>\n                            </tr>\n                        <?php endforeach; ?>\n                    </tbody>\n                    <tfoot>\n                        <tr>\n                            <th colspan=\"2\" class=\"text-right\">TOTALES:</th>\n                            <th class=\"text-right\"><?php echo number_format($totalDebit, 2); ?> €</th>\n                            <th class=\"text-right\"><?php echo number_format($totalCredit, 2); ?> €</th>\n                        </tr>\n                    </tfoot>\n                </table>\n            </div>\n        </div>\n    </div>\n</div>\n\n<style>\n.detail-card {\n    background: white;\n    border-radius: 8px;\n    box-shadow: 0 2px 4px rgba(0,0,0,0.1);\n}\n\n.detail-section {\n    padding: 2rem;\n    border-bottom: 1px solid var(--border-color);\n}\n\n.detail-section:last-child {\n    border-bottom: none;\n}\n\n.detail-section h3 {\n    margin: 0 0 1.5rem 0;\n    font-size: 1.25rem;\n    font-weight: 600;\n}\n\n.detail-grid {\n    display: grid;\n    grid-template-columns: repeat(2, 1fr);\n    gap: 1rem;\n}\n\n.detail-item {\n    display: flex;\n    flex-direction: column;\n    gap: 0.25rem;\n}\n\n.detail-item.full-width {\n    grid-column: 1 / -1;\n}\n\n.detail-label {\n    font-size: 0.875rem;\n    color: var(--text-secondary);\n    font-weight: 500;\n}\n\n.detail-value {\n    font-size: 1rem;\n    color: var(--text-color);\n}\n\n@media (max-width: 768px) {\n    .detail-grid {\n        grid-template-columns: 1fr;\n    }\n}\n</style>\n\n<?php\n$content = ob_get_clean();\nrequire __DIR__ . '/../../layout.php';\n?>\n","epoch":2707,"telemetryInfo":{}}],["file:///root/Documentos/github/GestionSocios/src/Controllers/MemberController.php::request_f8904a2d-4999-471f-808f-0626fefbf005",{"uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Controllers/MemberController.php","external":"file:///root/Documentos/github/GestionSocios/src/Controllers/MemberController.php","path":"/root/Documentos/github/GestionSocios/src/Controllers/MemberController.php","scheme":"file"},"requestId":"request_f8904a2d-4999-471f-808f-0626fefbf005","content":"<?php\n\nclass MemberController {\n    private $db;\n    private $member;\n    private $imageHistory;\n\n    public function __construct() {\n        $database = new Database();\n        $this->db = $database->getConnection();\n        $this->member = new Member($this->db);\n        $this->imageHistory = new MemberImageHistory($this->db);\n    }\n\n    private function checkAdmin() {\n        if (($_SESSION['role'] ?? '') !== 'admin') {\n            header('Location: index.php?page=members');\n            exit;\n        }\n    }\n\n    public function index() {\n        // Build filters from GET parameters\n        $filters = [\n            'status' => $_GET['status'] ?? '',\n            'payment_status' => $_GET['payment_status'] ?? '',\n            'category_id' => $_GET['category_id'] ?? '',\n            'search' => $_GET['search'] ?? '',\n            'year_from' => $_GET['year_from'] ?? '',\n            'year_to' => $_GET['year_to'] ?? ''\n        ];\n        \n        // Pagination\n        $limit = 20;\n        $page = isset($_GET['p']) ? max(1, intval($_GET['p'])) : 1;\n        $offset = ($page - 1) * $limit;\n        \n        // Legacy filter support\n        $legacyFilter = $_GET['filter'] ?? 'all';\n        if ($legacyFilter === 'current') {\n            $filters['payment_status'] = 'current';\n        } elseif ($legacyFilter === 'delinquent') {\n            $filters['payment_status'] = 'delinquent';\n        }\n        \n        $members = $this->member->readFiltered($filters, $limit, $offset);\n        $totalRecords = $this->member->countFiltered($filters);\n        $totalPages = ceil($totalRecords / $limit);\n        \n        // Get categories for filter dropdown\n        $categoryModel = new MemberCategory($this->db);\n        $categories = $categoryModel->readAll();\n        \n        require __DIR__ . '/../Views/members/list.php';\n    }\n\n    public function create() {\n        $this->checkAdmin();\n        \n        // Get categories for dropdown\n        $categoryModel = new MemberCategory($this->db);\n        $categories = $categoryModel->readAll();\n        \n        require __DIR__ . '/../Views/members/create.php';\n    }\n\n    public function store() {\n        $this->checkAdmin();\n        if ($_SERVER['REQUEST_METHOD'] === 'POST') {\n            // Validate CSRF token\n            require_once __DIR__ . '/../Helpers/CsrfHelper.php';\n            CsrfHelper::validateRequest();\n            $this->member->first_name = $_POST['first_name'];\n            $this->member->last_name = $_POST['last_name'];\n            $this->member->dni = $_POST['dni'] ?? null;\n            $this->member->email = $_POST['email'];\n            $this->member->phone = $_POST['phone'];\n            $this->member->address = $_POST['address'];\n            $this->member->status = $_POST['status'] ?? 'active';\n            $this->member->category_id = !empty($_POST['category_id']) ? $_POST['category_id'] : null;\n            $this->member->photo_url = $this->handleUpload();\n\n            if ($this->member->create()) {\n                // Registrar en audit_log\n                require_once __DIR__ . '/../Models/AuditLog.php';\n                $audit = new AuditLog($this->db);\n                $lastId = $this->db->lastInsertId();\n                $audit->create(\n                    $_SESSION['user_id'],\n                    'create',\n                    'member',\n                    $lastId,\n                    'Alta de socio: ' . $this->member->first_name . ' ' . $this->member->last_name . ' (' . $this->member->email . ') por el usuario ' . ($_SESSION['username'] ?? '')\n                );\n                \n                // Enviar notificación de bienvenida al nuevo socio\n                try {\n                    require_once __DIR__ . '/../Helpers/NotificationHelper.php';\n                    $member_name = $this->member->first_name . ' ' . $this->member->last_name;\n                    NotificationHelper::sendWelcomeNotification(\n                        $this->db, \n                        $this->member->id, \n                        $member_name\n                    );\n                } catch (Exception $e) {\n                    // No fallar si la notificación no se puede enviar\n                    error_log(\"Error sending welcome notification: \" . $e->getMessage());\n                }\n                \n                header('Location: index.php?page=members');\n            } else {\n                $error = \"Error creating member.\";\n                require __DIR__ . '/../Views/members/create.php';\n            }\n        }\n    }\n\n    private function handleUpload() {\n        if (isset($_FILES['photo']) && $_FILES['photo']['error'] === UPLOAD_ERR_OK) {\n            // Validate file size (5MB maximum)\n            $maxSize = 5 * 1024 * 1024; // 5MB\n            if ($_FILES['photo']['size'] > $maxSize) {\n                throw new Exception('El archivo es demasiado grande. Máximo 5MB permitido.');\n            }\n            \n            // Validate MIME type\n            $allowedMimeTypes = ['image/jpeg', 'image/png', 'image/gif', 'image/webp'];\n            $finfo = finfo_open(FILEINFO_MIME_TYPE);\n            $mimeType = finfo_file($finfo, $_FILES['photo']['tmp_name']);\n            // finfo_close is deprecated and not needed in modern PHP\n            \n            if (!in_array($mimeType, $allowedMimeTypes)) {\n                throw new Exception('Tipo de archivo no permitido. Solo se permiten imágenes JPEG, PNG, GIF y WebP.');\n            }\n            \n            // Validate file extension\n            $allowedExtensions = ['jpg', 'jpeg', 'png', 'gif', 'webp'];\n            $extension = strtolower(pathinfo($_FILES['photo']['name'], PATHINFO_EXTENSION));\n            if (!in_array($extension, $allowedExtensions)) {\n                throw new Exception('Extensión de archivo no permitida.');\n            }\n            \n            $uploadDir = __DIR__ . '/../../public/uploads/members/';\n            if (!is_dir($uploadDir)) {\n                mkdir($uploadDir, 0755, true); // More restrictive permissions\n            }\n            \n            // Generate secure filename\n            $fileName = uniqid() . '_' . bin2hex(random_bytes(8)) . '.' . $extension;\n            $targetPath = $uploadDir . $fileName;\n            \n            if (move_uploaded_file($_FILES['photo']['tmp_name'], $targetPath)) {\n                return 'uploads/members/' . $fileName;\n            }\n        }\n        return null;\n    }\n\n    public function edit($id) {\n        $this->checkAdmin();\n        $this->member->id = $id;\n        if ($this->member->readOne()) {\n            $member = $this->member; // Pass object to view\n            \n            // Get categories for dropdown\n            $categoryModel = new MemberCategory($this->db);\n            $categories = $categoryModel->readAll();\n            \n            require __DIR__ . '/../Views/members/edit.php';\n        } else {\n            header('Location: index.php?page=members');\n        }\n    }\n\n    public function update($id) {\n        $this->checkAdmin();\n        if ($_SERVER['REQUEST_METHOD'] === 'POST') {\n            // Validate CSRF token\n            require_once __DIR__ . '/../Helpers/CsrfHelper.php';\n            CsrfHelper::validateRequest();\n            \n            $this->member->id = $id;\n            // Leer datos originales antes de modificar\n            $this->member->readOne();\n            $original = [\n                'first_name' => $this->member->first_name,\n                'last_name' => $this->member->last_name,\n                'dni' => $this->member->dni,\n                'email' => $this->member->email,\n                'phone' => $this->member->phone,\n                'address' => $this->member->address,\n                'latitude' => $this->member->latitude,\n                'longitude' => $this->member->longitude,\n                'status' => $this->member->status,\n                'category_id' => $this->member->category_id,\n                'photo_url' => $this->member->photo_url,\n                'created_at' => $this->member->created_at\n            ];\n            $currentPhoto = $this->member->photo_url;\n            // Asignar nuevos valores\n            $this->member->first_name = $_POST['first_name'];\n            $this->member->last_name = $_POST['last_name'];\n            $this->member->dni = $_POST['dni'] ?? null;\n            $this->member->email = $_POST['email'];\n            $this->member->phone = $_POST['phone'];\n            $this->member->address = $_POST['address'];\n            $this->member->latitude = $_POST['latitude'] ?? null;\n            $this->member->longitude = $_POST['longitude'] ?? null;\n            $this->member->status = $_POST['status'];\n            $this->member->category_id = !empty($_POST['category_id']) ? $_POST['category_id'] : null;\n            if (!empty($_POST['created_at'])) {\n                $this->member->created_at = $_POST['created_at'];\n            }\n            // Handle photo upload\n            $photoUrl = $currentPhoto; // Keep current photo by default\n            \n            // Check for upload errors first\n            if (isset($_FILES['photo']) && $_FILES['photo']['error'] !== UPLOAD_ERR_OK && $_FILES['photo']['error'] !== UPLOAD_ERR_NO_FILE) {\n                $uploadErrors = [\n                    UPLOAD_ERR_INI_SIZE => 'El archivo es demasiado grande. Tamaño máximo permitido: ' . ini_get('upload_max_filesize'),\n                    UPLOAD_ERR_FORM_SIZE => 'El archivo excede el tamaño máximo permitido por el formulario',\n                    UPLOAD_ERR_PARTIAL => 'El archivo solo se subió parcialmente',\n                    UPLOAD_ERR_NO_TMP_DIR => 'Falta la carpeta temporal en el servidor',\n                    UPLOAD_ERR_CANT_WRITE => 'Error al escribir el archivo en el disco',\n                    UPLOAD_ERR_EXTENSION => 'Una extensión de PHP detuvo la subida del archivo'\n                ];\n                \n                $error = $uploadErrors[$_FILES['photo']['error']] ?? 'Error desconocido al subir el archivo';\n                $member = $this->member;\n                require __DIR__ . '/../Views/members/edit.php';\n                return;\n            }\n            \n            // Check if a new photo is being uploaded and there's already a current photo\n            if (isset($_FILES['photo']) && $_FILES['photo']['error'] === UPLOAD_ERR_OK && $currentPhoto) {\n                \n                // Save the new image temporarily and redirect to comparison\n                $uploadDir = __DIR__ . '/../../public/uploads/members/temp/';\n                if (!is_dir($uploadDir)) {\n                    mkdir($uploadDir, 0777, true);\n                }\n\n                $allowedTypes = ['image/jpeg', 'image/png', 'image/gif', 'image/webp'];\n                $fileType = $_FILES['photo']['type'];\n\n                if (in_array($fileType, $allowedTypes)) {\n                    $extension = pathinfo($_FILES['photo']['name'], PATHINFO_EXTENSION);\n                    $tempFileName = 'temp_' . time() . '_' . uniqid() . '.' . $extension;\n                    $tempPath = $uploadDir . $tempFileName;\n\n                    if (move_uploaded_file($_FILES['photo']['tmp_name'], $tempPath)) {\n                        // Store data in session for comparison\n                        $_SESSION['image_comparison'] = [\n                            'member_id' => $id,\n                            'old_image' => $currentPhoto,\n                            'new_image_temp' => 'uploads/members/temp/' . $tempFileName,\n                            'member_data' => [\n                                'first_name' => $_POST['first_name'],\n                                'last_name' => $_POST['last_name'],\n                                'email' => $_POST['email'],\n                                'phone' => $_POST['phone'],\n                                'address' => $_POST['address'],\n                                'status' => $_POST['status']\n                            ]\n                        ];\n                        \n                        // Redirect to comparison view\n                        header('Location: index.php?page=members&action=compareImages');\n                        exit;\n                    }\n                }\n            } elseif (isset($_FILES['photo']) && $_FILES['photo']['error'] === UPLOAD_ERR_OK) {\n                // New photo upload (no existing photo)\n                $photoUrl = $this->handleUpload();\n                \n                // Add to history\n                if ($photoUrl) {\n                    $this->imageHistory->member_id = $id;\n                    $this->imageHistory->image_url = $photoUrl;\n                    $this->imageHistory->is_current = true;\n                    $this->imageHistory->uploaded_at = date('Y-m-d H:i:s');\n                    $this->imageHistory->replaced_at = null;\n                    $this->imageHistory->create();\n                }\n            }\n            \n            $this->member->photo_url = $photoUrl;\n\n            // Detectar campos modificados antes del update\n            $changedFields = [];\n            if ($original['first_name'] !== $_POST['first_name']) $changedFields[] = 'nombre';\n            if ($original['last_name'] !== $_POST['last_name']) $changedFields[] = 'apellidos';\n            if ($original['dni'] !== ($_POST['dni'] ?? null)) $changedFields[] = 'dni';\n            if ($original['email'] !== $_POST['email']) $changedFields[] = 'email';\n            if ($original['phone'] !== $_POST['phone']) $changedFields[] = 'teléfono';\n            if ($original['address'] !== $_POST['address']) $changedFields[] = 'dirección';\n            if ($original['latitude'] != ($_POST['latitude'] ?? null)) $changedFields[] = 'latitud';\n            if ($original['longitude'] != ($_POST['longitude'] ?? null)) $changedFields[] = 'longitud';\n            if ($original['status'] !== $_POST['status']) $changedFields[] = 'estado';\n            if ($original['category_id'] != (!empty($_POST['category_id']) ? $_POST['category_id'] : null)) $changedFields[] = 'categoría';\n            if ($photoUrl !== $original['photo_url']) $changedFields[] = 'imagen';\n            if (isset($_POST['created_at']) && $original['created_at'] !== $_POST['created_at']) $changedFields[] = 'fecha alta';\n            $detalle = 'Modificación de socio: ' . $original['first_name'] . ' ' . $original['last_name'] . ' (' . $original['email'] . ') por el usuario ' . ($_SESSION['username'] ?? '');\n            if ($changedFields) {\n                $detalle .= ' [Campos modificados: ' . implode(', ', $changedFields) . ']';\n                require_once __DIR__ . '/../Models/AuditLog.php';\n                $audit = new AuditLog($this->db);\n                $audit->create(\n                    $_SESSION['user_id'],\n                    'update',\n                    'member',\n                    $id,\n                    $detalle\n                );\n            }\n                if ($this->member->update()) {\n                    header('Location: index.php?page=members');\n                } else {\n                $error = \"Error updating member.\";\n                // Reload member data to show form again\n                $member = $this->member; \n                require __DIR__ . '/../Views/members/edit.php';\n            }\n        }\n    }\n\n    public function deactivate($id) {\n        $this->checkAdmin();\n        $this->member->id = $id;\n        if ($this->member->readOne()) {\n            $this->member->status = 'inactive';\n            $this->member->deactivated_at = date('Y-m-d H:i:s');\n            \n            if ($this->member->update()) {\n                // Registrar en audit_log\n                require_once __DIR__ . '/../Models/AuditLog.php';\n                $audit = new AuditLog($this->db);\n                $audit->create($_SESSION['user_id'], 'deactivate', 'member', $id, 'Baja de socio por el usuario ' . ($_SESSION['username'] ?? ''));\n                \n                header('Location: index.php?page=members&msg=deactivated');\n                exit;\n            }\n        }\n        header('Location: index.php?page=members&error=1');\n        exit;\n    }\n\n    public function delete($id) {\n        $this->checkAdmin();\n        $this->member->id = $id;\n        if ($this->member->delete()) {\n            // Registrar en audit_log\n            require_once __DIR__ . '/../Models/AuditLog.php';\n            $audit = new AuditLog($this->db);\n            $audit->create($_SESSION['user_id'], 'delete', 'member', $id, 'Borrado de socio por el usuario ' . ($_SESSION['username'] ?? ''));\n            \n            header('Location: index.php?page=members&msg=deleted');\n            exit;\n        }\n        header('Location: index.php?page=members&error=1');\n        exit;\n    }\n\n    public function markPaid($id) {\n        $this->checkAdmin();\n        $currentYear = date('Y');\n        \n        // Obtener la categoría del socio\n        $memberStmt = $this->db->prepare(\"SELECT category_id, first_name, last_name FROM members WHERE id = ?\");\n        $memberStmt->execute([$id]);\n        $member = $memberStmt->fetch(PDO::FETCH_ASSOC);\n        \n        if (!$member) {\n            $_SESSION['error'] = \"Socio no encontrado.\";\n            header('Location: index.php?page=members');\n            exit;\n        }\n        \n        // DEBUG: Log para ver qué categoría tiene el socio\n        error_log(\"DEBUG markPaid - Socio ID: $id, Categoría: \" . ($member['category_id'] ?? 'NULL'));\n        \n        // Obtener la cuota correcta según la categoría del socio\n        $paymentAmount = null;\n        if (!empty($member['category_id'])) {\n            // Intentar obtener cuota específica de la categoría\n            $categoryFeeStmt = $this->db->prepare(\"SELECT fee_amount FROM category_fee_history WHERE category_id = ? AND year = ?\");\n            $categoryFeeStmt->execute([$member['category_id'], $currentYear]);\n            $categoryFee = $categoryFeeStmt->fetch(PDO::FETCH_ASSOC);\n            error_log(\"DEBUG markPaid - Consulta categoría: category_id={$member['category_id']}, year=$currentYear, resultado: \" . json_encode($categoryFee));\n            if ($categoryFee && isset($categoryFee['fee_amount'])) {\n                $paymentAmount = floatval($categoryFee['fee_amount']);\n                error_log(\"DEBUG markPaid - Cuota de categoría encontrada: $paymentAmount\");\n            }\n        }\n        \n        // Si no hay cuota de categoría, usar cuota por defecto\n        if ($paymentAmount === null || $paymentAmount <= 0) {\n            $feeStmt = $this->db->prepare(\"SELECT amount FROM annual_fees WHERE year = ?\");\n            $feeStmt->execute([$currentYear]);\n            $fee = $feeStmt->fetch(PDO::FETCH_ASSOC);\n            error_log(\"DEBUG markPaid - Consulta annual_fees: year=$currentYear, resultado: \" . json_encode($fee));\n            if ($fee && isset($fee['amount'])) {\n                $paymentAmount = floatval($fee['amount']);\n                error_log(\"DEBUG markPaid - Cuota por defecto encontrada: $paymentAmount\");\n            }\n        }\n        \n        error_log(\"DEBUG markPaid - Cuota final: \" . ($paymentAmount ?? 'NULL'));\n        \n        if (!$paymentAmount || $paymentAmount <= 0) {\n            $_SESSION['error'] = \"No hay cuota definida para el año $currentYear. Por favor, define la cuota en Configuración > Categorías.\";\n            \n            // Preserve current filters\n            $redirectParams = [];\n            if (isset($_GET['filter'])) $redirectParams['filter'] = $_GET['filter'];\n            if (isset($_GET['category'])) $redirectParams['category'] = $_GET['category'];\n            if (isset($_GET['payment_status'])) $redirectParams['payment_status'] = $_GET['payment_status'];\n            if (isset($_GET['search'])) $redirectParams['search'] = $_GET['search'];\n            if (isset($_GET['year_from'])) $redirectParams['year_from'] = $_GET['year_from'];\n            if (isset($_GET['year_to'])) $redirectParams['year_to'] = $_GET['year_to'];\n            if (isset($_GET['p'])) $redirectParams['p'] = $_GET['p'];\n            \n            $queryString = !empty($redirectParams) ? '&' . http_build_query($redirectParams) : '';\n            header('Location: index.php?page=members' . $queryString);\n            exit;\n        }\n        \n        try {\n            // Check if payment already exists\n            $checkStmt = $this->db->prepare(\"SELECT id, status FROM payments WHERE member_id = ? AND fee_year = ? AND payment_type = 'fee'\");\n            $checkStmt->execute([$id, $currentYear]);\n            $existingPayment = $checkStmt->fetch(PDO::FETCH_ASSOC);\n            \n            $paymentId = null;\n            $paymentDate = date('Y-m-d');\n            $paymentConcept = \"Cuota Anual \" . $currentYear;\n            \n            if ($existingPayment) {\n                // Update existing payment to paid\n                $updateStmt = $this->db->prepare(\"UPDATE payments SET status = 'paid', payment_date = ? WHERE id = ?\");\n                $success = $updateStmt->execute([$paymentDate, $existingPayment['id']]);\n                if (!$success) {\n                    throw new Exception(\"Error al actualizar el pago existente\");\n                }\n                $paymentId = $existingPayment['id'];\n                // Registrar en audit_log\n                require_once __DIR__ . '/../Models/AuditLog.php';\n                $audit = new AuditLog($this->db);\n                $audit->create($_SESSION['user_id'], 'markPaid', 'member_payment', $paymentId, 'Pago marcado como realizado por el usuario ' . ($_SESSION['username'] ?? ''));\n            } else {\n                // Create new payment as paid\n                $insertStmt = $this->db->prepare(\"INSERT INTO payments (member_id, amount, payment_date, concept, status, fee_year, payment_type) VALUES (?, ?, ?, ?, 'paid', ?, 'fee')\");\n                $success = $insertStmt->execute([\n                    $id,\n                    $paymentAmount,\n                    $paymentDate,\n                    $paymentConcept,\n                    $currentYear\n                ]);\n                if (!$success) {\n                    throw new Exception(\"Error al crear el nuevo pago\");\n                }\n                $paymentId = $this->db->lastInsertId();\n                // Registrar en audit_log\n                require_once __DIR__ . '/../Models/AuditLog.php';\n                $audit = new AuditLog($this->db);\n                $audit->create($_SESSION['user_id'], 'markPaid', 'member_payment', $paymentId, 'Pago creado y marcado como realizado por el usuario ' . ($_SESSION['username'] ?? ''));\n            }\n            \n            // Crear asiento contable automático\n            require_once __DIR__ . '/../Helpers/AccountingHelper.php';\n            $accountingCreated = AccountingHelper::createEntryFromPayment(\n                $this->db,\n                $paymentId,\n                $paymentAmount,\n                $paymentConcept,\n                $paymentDate,\n                'transfer', // Método de pago por defecto\n                'fee'\n            );\n            \n            if (!$accountingCreated) {\n                error_log(\"No se pudo crear el asiento contable para el pago de cuota #$paymentId\");\n            }\n            \n            $_SESSION['success'] = 'Pago marcado correctamente' . ($accountingCreated ? ' y registrado en contabilidad' : '');        } catch (Exception $e) {\n            error_log(\"Error in markPaid: \" . $e->getMessage());\n            $_SESSION['error'] = 'Error al marcar el pago: ' . $e->getMessage();\n        }\n        \n        // Preserve current filters\n        $redirectParams = [];\n        if (isset($_GET['filter'])) $redirectParams['filter'] = $_GET['filter'];\n        if (isset($_GET['category'])) $redirectParams['category'] = $_GET['category'];\n        if (isset($_GET['payment_status'])) $redirectParams['payment_status'] = $_GET['payment_status'];\n        if (isset($_GET['search'])) $redirectParams['search'] = $_GET['search'];\n        if (isset($_GET['year_from'])) $redirectParams['year_from'] = $_GET['year_from'];\n        if (isset($_GET['year_to'])) $redirectParams['year_to'] = $_GET['year_to'];\n        if (isset($_GET['p'])) $redirectParams['p'] = $_GET['p'];\n        \n        $queryString = !empty($redirectParams) ? '&' . http_build_query($redirectParams) : '';\n        header('Location: index.php?page=members' . $queryString);\n        exit;\n    }\n\n    public function compareImages() {\n        $this->checkAdmin();\n        \n        if (!isset($_SESSION['image_comparison'])) {\n            header('Location: index.php?page=members');\n            exit;\n        }\n        \n        $comparisonData = $_SESSION['image_comparison'];\n        \n        // Load member data\n        $this->member->id = $comparisonData['member_id'];\n        $this->member->readOne();\n        $member = $this->member;\n        \n        require __DIR__ . '/../Views/members/compare_images.php';\n    }\n\n    public function selectImage($id) {\n        $this->checkAdmin();\n        \n        if (!isset($_SESSION['image_comparison']) || $_SESSION['image_comparison']['member_id'] != $id) {\n            header('Location: index.php?page=members');\n            exit;\n        }\n        \n        $comparisonData = $_SESSION['image_comparison'];\n        $choice = $_POST['choice'] ?? '';\n        \n        if ($choice === 'new') {\n            // User chose the new image\n            // Move temp file to permanent location\n            $tempPath = __DIR__ . '/../../public/' . $comparisonData['new_image_temp'];\n            $permanentFileName = 'member_' . time() . '_' . uniqid() . '.' . pathinfo($tempPath, PATHINFO_EXTENSION);\n            $permanentPath = __DIR__ . '/../../public/uploads/members/' . $permanentFileName;\n            \n            if (rename($tempPath, $permanentPath)) {\n                $newPhotoUrl = 'uploads/members/' . $permanentFileName;\n                \n                // Mark old image as not current in history\n                $this->imageHistory->markAllAsNotCurrent($id);\n                \n                // Add old image to history if not already there\n                if ($comparisonData['old_image'] && !$this->imageHistory->imageExists($id, $comparisonData['old_image'])) {\n                    $this->imageHistory->member_id = $id;\n                    $this->imageHistory->image_url = $comparisonData['old_image'];\n                    $this->imageHistory->is_current = false;\n                    $this->imageHistory->uploaded_at = date('Y-m-d H:i:s');\n                    $this->imageHistory->replaced_at = date('Y-m-d H:i:s');\n                    $this->imageHistory->create();\n                }\n                \n                // Add new image to history as current\n                $this->imageHistory->member_id = $id;\n                $this->imageHistory->image_url = $newPhotoUrl;\n                $this->imageHistory->is_current = true;\n                $this->imageHistory->uploaded_at = date('Y-m-d H:i:s');\n                $this->imageHistory->replaced_at = null;\n                $this->imageHistory->create();\n                \n                // Update member with new photo\n                $this->member->id = $id;\n                $this->member->readOne();\n                $this->member->photo_url = $newPhotoUrl;\n            }\n        } else {\n            // User chose to keep the old image\n            // Delete the temporary new image\n            $tempPath = __DIR__ . '/../../public/' . $comparisonData['new_image_temp'];\n            if (file_exists($tempPath)) {\n                unlink($tempPath);\n            }\n        }\n        \n        // Update member with other data\n        $this->member->id = $id;\n        $this->member->readOne();\n        $this->member->first_name = $comparisonData['member_data']['first_name'];\n        $this->member->last_name = $comparisonData['member_data']['last_name'];\n        $this->member->email = $comparisonData['member_data']['email'];\n        $this->member->phone = $comparisonData['member_data']['phone'];\n        $this->member->address = $comparisonData['member_data']['address'];\n        $this->member->status = $comparisonData['member_data']['status'];\n        $this->member->update();\n        \n        // Clean up session\n        unset($_SESSION['image_comparison']);\n        \n        header('Location: index.php?page=members&msg=updated');\n        exit;\n    }\n\n    public function imageHistory($id) {\n        $this->checkAdmin();\n        \n        // Load member data\n        $this->member->id = $id;\n        if (!$this->member->readOne()) {\n            header('Location: index.php?page=members');\n            exit;\n        }\n        $member = $this->member;\n        \n        // Get image history\n        $historyStmt = $this->imageHistory->getByMember($id);\n        $images = $historyStmt->fetchAll(PDO::FETCH_ASSOC);\n        \n        require __DIR__ . '/../Views/members/image_history.php';\n    }\n\n    public function restoreImage($memberId, $historyId) {\n        $this->checkAdmin();\n        \n        // Verify history entry exists and belongs to this member\n        $this->imageHistory->id = $historyId;\n        if (!$this->imageHistory->readOne() || $this->imageHistory->member_id != $memberId) {\n            header('Location: index.php?page=members&action=imageHistory&id=' . $memberId . '&error=invalid');\n            exit;\n        }\n        \n        // Set this image as current\n        $this->imageHistory->setAsCurrent($historyId, $memberId);\n        \n        // Update member's photo_url\n        $this->member->id = $memberId;\n        $this->member->readOne();\n        $this->member->photo_url = $this->imageHistory->image_url;\n        $this->member->update();\n        \n        header('Location: index.php?page=members&action=imageHistory&id=' . $memberId . '&msg=restored');\n        exit;\n    }\n    \n    // ... Funcionalidad de mapa y GPS eliminada ...\n}\n\n","epoch":2711,"telemetryInfo":{}}]],"operations":[{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Controllers/FeeController.php","external":"file:///root/Documentos/github/GestionSocios/src/Controllers/FeeController.php","path":"/root/Documentos/github/GestionSocios/src/Controllers/FeeController.php","scheme":"file"},"requestId":"request_5ffb6f99-874c-4df4-9612-100a1dfb4ee0","epoch":7,"edits":[{"text":"    public function generatePayments($year) {\n        $this->checkAdmin();\n        \n        // Load CategoryFeeHistory model\n        require_once __DIR__ . '/../Models/CategoryFeeHistory.php';\n        $feeHistory = new CategoryFeeHistory($this->db);\n        \n        // Get all category fees for the year\n        $stmt = $feeHistory->readByYear($year);\n        $categoryFees = [];\n        \n        while ($row = $stmt->fetch(PDO::FETCH_ASSOC)) {\n            $categoryFees[$row['category_id']] = $row['fee_amount'];\n        }\n        \n        // Get all active members with their categories\n        $memberModel = new Member($this->db);\n        $stmtMembers = $this->db->prepare(\"\n            SELECT m.id, m.category_id, mc.name as category_name, mc.default_fee\n            FROM members m\n            LEFT JOIN member_categories mc ON m.category_id = mc.id\n            WHERE m.status = 'active'\n        \");\n        $stmtMembers->execute();\n        $members = $stmtMembers->fetchAll(PDO::FETCH_ASSOC);\n\n        $count = 0;\n        $skipped = 0;\n        $categoriesWithoutFee = [];\n        \n        foreach ($members as $member) {\n            // Check if payment already exists for this member and year\n            $check = $this->db->prepare(\"SELECT id FROM payments WHERE member_id = ? AND fee_year = ? AND payment_type = 'fee'\");\n            $check->execute([$member['id'], $year]);\n            \n            if ($check->fetch()) {\n                continue; // Payment already exists\n            }\n            \n            // Determine the fee amount for this member\n            $amount = null;\n            $concept = \"Cuota Anual \" . $year;\n            \n            if ($member['category_id'] && isset($categoryFees[$member['category_id']])) {\n                // Use category fee for the specific year\n                $amount = $categoryFees[$member['category_id']];\n                $concept .= \" - \" . $member['category_name'];\n            } elseif ($member['category_id'] && $member['default_fee'] !== null) {\n                // Fallback to default_fee if no fee defined for the year\n                $amount = $member['default_fee'];\n                $concept .= \" - \" . $member['category_name'];\n            } else {\n                // No category or no fee defined - skip this member\n                $skipped++;\n                if ($member['category_name'] && !in_array($member['category_name'], $categoriesWithoutFee)) {\n                    $categoriesWithoutFee[] = $member['category_name'];\n                }\n                continue;\n            }\n            \n            // Create pending payment\n            $query = \"INSERT INTO payments (member_id, amount, payment_date, concept, status, fee_year, payment_type) \n                      VALUES (?, ?, ?, ?, 'pending', ?, 'fee')\";\n            $ins = $this->db->prepare($query);\n            $ins->execute([$member['id'], $amount, date('Y-m-d'), $concept, $year]);\n            $count++;\n        }\n        \n        // Build redirect with results\n        $redirect = \"Location: index.php?page=settings&tab=members&success=generated&count=$count&year=$year\";\n        if ($skipped > 0) {\n            $redirect .= \"&skipped=$skipped\";\n            if (!empty($categoriesWithoutFee)) {\n                $redirect .= \"&categories=\" . urlencode(implode(',', $categoriesWithoutFee));\n            }\n        }\n        header($redirect);\n    }","range":{"startLineNumber":62,"startColumn":1,"endLineNumber":112,"endColumn":6}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Views/settings/index.php","external":"file:///root/Documentos/github/GestionSocios/src/Views/settings/index.php","path":"/root/Documentos/github/GestionSocios/src/Views/settings/index.php","scheme":"file"},"requestId":"request_5ffb6f99-874c-4df4-9612-100a1dfb4ee0","epoch":8,"edits":[{"text":"                <div class=\"card\" style=\"margin-bottom: 2rem;\">\n                    <h3 class=\"text-md font-semibold mb-4\">Generar Pagos Pendientes</h3>\n                    <p style=\"color: var(--text-muted); margin-bottom: 1.5rem;\">\n                        Esta acción creará pagos pendientes para todos los socios activos usando las <strong>cuotas por categoría definidas para el año seleccionado</strong>. Si una categoría no tiene cuota definida para ese año, se usará la cuota predeterminada.\n                    </p>\n                    <form action=\"index.php?page=fees&action=generate\" method=\"GET\" onsubmit=\"return confirm('¿Generar pagos pendientes para todos los socios activos del año seleccionado? Se usarán las cuotas específicas de cada categoría para ese año.');\">","range":{"startLineNumber":699,"startColumn":1,"endLineNumber":704,"endColumn":245}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Views/settings/index.php","external":"file:///root/Documentos/github/GestionSocios/src/Views/settings/index.php","path":"/root/Documentos/github/GestionSocios/src/Views/settings/index.php","scheme":"file"},"requestId":"request_5ffb6f99-874c-4df4-9612-100a1dfb4ee0","epoch":10,"edits":[{"text":"        <!-- Member Fees Tab -->\n        <div id=\"members\" class=\"tab-content\">\n                \n                <!-- Success/Warning Messages for Payment Generation -->\n                <?php if (isset($_GET['success']) && $_GET['success'] === 'generated'): ?>\n                    <div class=\"alert alert-success\">\n                        <i class=\"fas fa-check-circle\"></i>\n                        <strong>Pagos generados:</strong> Se crearon <?php echo intval($_GET['count'] ?? 0); ?> pagos pendientes para el año <?php echo htmlspecialchars($_GET['year'] ?? ''); ?>.\n                        <?php if (isset($_GET['skipped']) && intval($_GET['skipped']) > 0): ?>\n                            <br><strong>Nota:</strong> Se omitieron <?php echo intval($_GET['skipped']); ?> socios sin cuota definida<?php \n                                if (isset($_GET['categories'])) {\n                                    echo ' (categorías: ' . htmlspecialchars($_GET['categories']) . ')';\n                                }\n                            ?>.\n                        <?php endif; ?>\n                    </div>\n                <?php endif; ?>\n\n                <!-- Generate Payments Widget -->\n                <div style=\"display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem;\">\n                    <h2 class=\"section-title\" style=\"margin: 0;\">Generar Pagos de Cuotas</h2>\n                </div>\n                \n                <div class=\"card\" style=\"margin-bottom: 2rem;\">","range":{"startLineNumber":691,"startColumn":1,"endLineNumber":699,"endColumn":64}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Views/settings/index.php","external":"file:///root/Documentos/github/GestionSocios/src/Views/settings/index.php","path":"/root/Documentos/github/GestionSocios/src/Views/settings/index.php","scheme":"file"},"requestId":"request_5ffb6f99-874c-4df4-9612-100a1dfb4ee0","epoch":12,"edits":[{"text":"                            <div class=\"category-stats\">\n                                <div class=\"stat-item\">\n                                    <div class=\"stat-value\"><?php echo number_format($category['default_fee'], 2); ?> €</div>\n                                    <div class=\"stat-label\">Cuota predeterminada</div>\n                                </div>\n                                <div class=\"stat-item\">\n                                    <div class=\"stat-value\" style=\"color: <?php echo htmlspecialchars($category['color']); ?>\">\n                                        <?php\n                                        $catStat = null;\n                                        foreach ($statistics as $s) {\n                                            if ($s['id'] == $category['id']) {\n                                                $catStat = $s;\n                                                break;\n                                            }\n                                        }\n                                        echo $catStat ? $catStat['member_count'] : 0;\n                                        ?>\n                                    </div>\n                                    <div class=\"stat-label\">Socios asignados</div>\n                                </div>\n                                <div class=\"stat-item\">\n                                    <?php\n                                    // Check if category has fee for current year\n                                    require_once __DIR__ . '/../../Models/CategoryFeeHistory.php';\n                                    $feeHistory = new CategoryFeeHistory($GLOBALS['db'] ?? $this->db ?? null);\n                                    $currentYearFee = null;\n                                    if ($feeHistory && isset($category['id'])) {\n                                        $currentYearFee = $feeHistory->readByCategoryAndYear($category['id'], date('Y'));\n                                    }\n                                    ?>\n                                    <div class=\"stat-value\" style=\"color: <?php echo $currentYearFee ? 'var(--success-600)' : 'var(--text-muted)'; ?>\">\n                                        <?php if ($currentYearFee): ?>\n                                            <i class=\"fas fa-check-circle\"></i> <?php echo number_format($currentYearFee, 2); ?> €\n                                        <?php else: ?>\n                                            <i class=\"fas fa-minus-circle\"></i> No definida\n                                        <?php endif; ?>\n                                    </div>\n                                    <div class=\"stat-label\">Cuota año <?php echo date('Y'); ?></div>\n                                </div>\n                            </div>","range":{"startLineNumber":769,"startColumn":1,"endLineNumber":793,"endColumn":35}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Controllers/MemberController.php","external":"file:///root/Documentos/github/GestionSocios/src/Controllers/MemberController.php","path":"/root/Documentos/github/GestionSocios/src/Controllers/MemberController.php","scheme":"file"},"requestId":"request_6fc134d9-a4c9-45b7-991a-aeb72b48204e","epoch":18,"edits":[{"text":"            $paymentId = null;\n            $paymentAmount = $fee['amount'];\n            $paymentDate = date('Y-m-d');\n            $paymentConcept = \"Cuota Anual \" . $currentYear;\n            \n            if ($existingPayment) {\n                // Update existing payment to paid\n                $updateStmt = $this->db->prepare(\"UPDATE payments SET status = 'paid', payment_date = ? WHERE id = ?\");\n                $success = $updateStmt->execute([$paymentDate, $existingPayment['id']]);\n                if (!$success) {\n                    throw new Exception(\"Error al actualizar el pago existente\");\n                }\n                $paymentId = $existingPayment['id'];\n                // Registrar en audit_log\n                require_once __DIR__ . '/../Models/AuditLog.php';\n                $audit = new AuditLog($this->db);\n                $audit->create($_SESSION['user_id'], 'markPaid', 'member_payment', $paymentId, 'Pago marcado como realizado por el usuario ' . ($_SESSION['username'] ?? ''));\n            } else {\n                // Create new payment as paid\n                $insertStmt = $this->db->prepare(\"INSERT INTO payments (member_id, amount, payment_date, concept, status, fee_year, payment_type) VALUES (?, ?, ?, ?, 'paid', ?, 'fee')\");\n                $success = $insertStmt->execute([\n                    $id,\n                    $paymentAmount,\n                    $paymentDate,\n                    $paymentConcept,\n                    $currentYear\n                ]);\n                if (!$success) {\n                    throw new Exception(\"Error al crear el nuevo pago\");\n                }\n                $paymentId = $this->db->lastInsertId();\n                // Registrar en audit_log\n                require_once __DIR__ . '/../Models/AuditLog.php';\n                $audit = new AuditLog($this->db);\n                $audit->create($_SESSION['user_id'], 'markPaid', 'member_payment', $paymentId, 'Pago creado y marcado como realizado por el usuario ' . ($_SESSION['username'] ?? ''));\n            }\n            \n            // Crear asiento contable automático\n            require_once __DIR__ . '/../Helpers/AccountingHelper.php';\n            $accountingCreated = AccountingHelper::createEntryFromPayment(\n                $this->db,\n                $paymentId,\n                $paymentAmount,\n                $paymentConcept,\n                $paymentDate,\n                'transfer', // Método de pago por defecto\n                'fee'\n            );\n            \n            if (!$accountingCreated) {\n                error_log(\"No se pudo crear el asiento contable para el pago de cuota #$paymentId\");\n            }\n            \n            $_SESSION['success'] = 'Pago marcado correctamente' . ($accountingCreated ? ' y registrado en contabilidad' : '');","range":{"startLineNumber":396,"startColumn":1,"endLineNumber":429,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Controllers/PaymentController.php","external":"file:///root/Documentos/github/GestionSocios/src/Controllers/PaymentController.php","path":"/root/Documentos/github/GestionSocios/src/Controllers/PaymentController.php","scheme":"file"},"requestId":"request_6fc134d9-a4c9-45b7-991a-aeb72b48204e","epoch":19,"edits":[{"text":"    public function update($id) {\n        $this->checkAdmin();\n        if ($_SERVER['REQUEST_METHOD'] === 'POST') {\n            // Validate CSRF token\n            require_once __DIR__ . '/../Helpers/CsrfHelper.php';\n            CsrfHelper::validateRequest();\n            \n            // Get previous status to check if it changed to 'paid'\n            $this->payment->id = $id;\n            $this->payment->readOne();\n            $previousStatus = $this->payment->status;\n            \n            $this->payment->member_id = $_POST['member_id'];\n            $this->payment->amount = $_POST['amount'];\n            $this->payment->payment_date = $_POST['payment_date'];\n            $this->payment->concept = $_POST['concept'];\n            $this->payment->status = $_POST['status'];\n\n            if ($this->payment->update()) {\n                // Audit log registro modificación pago\n                require_once __DIR__ . '/../Models/AuditLog.php';\n                $auditLog = new AuditLog($this->db);\n                $userId = $_SESSION['user_id'] ?? null;\n                $details = json_encode([\n                    'payment_id' => $id,\n                    'member_id' => $_POST['member_id'],\n                    'amount' => $_POST['amount'],\n                    'payment_date' => $_POST['payment_date']\n                ]);\n                $auditLog->create($userId, 'update', 'payment', $id, $details);\n                \n                // Si el pago cambió a 'paid', crear asiento contable\n                if ($previousStatus !== 'paid' && $_POST['status'] === 'paid') {\n                    require_once __DIR__ . '/../Helpers/AccountingHelper.php';\n                    \n                    // Determinar el tipo de pago\n                    $stmt = $this->db->prepare(\"SELECT payment_type FROM payments WHERE id = ?\");\n                    $stmt->execute([$id]);\n                    $row = $stmt->fetch(PDO::FETCH_ASSOC);\n                    $paymentType = $row['payment_type'] ?? 'fee';\n                    \n                    $accountingCreated = AccountingHelper::createEntryFromPayment(\n                        $this->db,\n                        $id,\n                        $_POST['amount'],\n                        $_POST['concept'],\n                        $_POST['payment_date'],\n                        'transfer',\n                        $paymentType\n                    );\n                    \n                    if (!$accountingCreated) {\n                        error_log(\"No se pudo crear el asiento contable para el pago #$id\");\n                    }\n                }\n\n                header('Location: index.php?page=payments');\n            } else {\n                // ...existing code...\n            }\n        }\n    }","range":{"startLineNumber":154,"startColumn":1,"endLineNumber":185,"endColumn":6}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Controllers/EventController.php","external":"file:///root/Documentos/github/GestionSocios/src/Controllers/EventController.php","path":"/root/Documentos/github/GestionSocios/src/Controllers/EventController.php","scheme":"file"},"requestId":"request_6fc134d9-a4c9-45b7-991a-aeb72b48204e","epoch":24,"edits":[{"text":"    // Mark participant as paid for an event\n    public function markPaid($eventId, $memberId) {\n        $this->checkAdmin();\n        // Ensure event exists\n        $this->event->id = $eventId;\n        if (!$this->event->readOne()) {\n            header('Location: index.php?page=events&error=notfound');\n            exit;\n        }\n        \n        $paymentId = null;\n        $paymentAmount = $this->event->price;\n        $paymentDate = date('Y-m-d');\n        $paymentConcept = $this->event->name;\n        \n        // Check existing payment record\n        $checkStmt = $this->db->prepare(\"SELECT id FROM payments WHERE member_id = ? AND event_id = ? AND payment_type = 'event'\");\n        $checkStmt->execute([$memberId, $eventId]);\n        $existing = $checkStmt->fetch(PDO::FETCH_ASSOC);\n        if ($existing) {\n            $upd = $this->db->prepare(\"UPDATE payments SET status = 'paid', payment_date = ? WHERE id = ?\");\n            $upd->execute([$paymentDate, $existing['id']]);\n            $paymentId = $existing['id'];\n            // Registrar en audit_log\n            require_once __DIR__ . '/../Models/AuditLog.php';\n            $audit = new AuditLog($this->db);\n            $audit->create($_SESSION['user_id'], 'markPaid', 'event_payment', $paymentId, 'Pago de evento marcado como realizado por el usuario ' . ($_SESSION['username'] ?? ''));\n        } else {\n            $ins = $this->db->prepare(\"INSERT INTO payments (member_id, amount, payment_date, concept, status, fee_year, payment_type, event_id) VALUES (?, ?, ?, ?, 'paid', NULL, 'event', ?)\");\n            $ins->execute([\n                $memberId,\n                $paymentAmount,\n                $paymentDate,\n                $paymentConcept,\n                $eventId\n            ]);\n            $paymentId = $this->db->lastInsertId();\n            // Registrar en audit_log\n            require_once __DIR__ . '/../Models/AuditLog.php';\n            $audit = new AuditLog($this->db);\n            $audit->create($_SESSION['user_id'], 'markPaid', 'event_payment', $paymentId, 'Pago de evento creado y marcado como realizado por el usuario ' . ($_SESSION['username'] ?? ''));\n        }\n        \n        // Crear asiento contable automático\n        require_once __DIR__ . '/../Helpers/AccountingHelper.php';\n        $accountingCreated = AccountingHelper::createEntryFromPayment(\n            $this->db,\n            $paymentId,\n            $paymentAmount,\n            $paymentConcept,\n            $paymentDate,\n            'transfer',\n            'event'\n        );\n        \n        if (!$accountingCreated) {\n            error_log(\"No se pudo crear el asiento contable para el pago de evento #$paymentId\");\n        }\n        \n        header(\"Location: index.php?page=events&action=show&id=$eventId&msg=paid\");\n        exit;\n    }","range":{"startLineNumber":90,"startColumn":1,"endLineNumber":127,"endColumn":6}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Controllers/BookAdController.php","external":"file:///root/Documentos/github/GestionSocios/src/Controllers/BookAdController.php","path":"/root/Documentos/github/GestionSocios/src/Controllers/BookAdController.php","scheme":"file"},"requestId":"request_6fc134d9-a4c9-45b7-991a-aeb72b48204e","epoch":25,"edits":[{"text":"        $paymentId = null;\n        $isPaid = $this->bookAd->status === 'paid';\n        \n        if ($existingPayment) {\n            // Update existing payment\n            $paymentStatus = $isPaid ? 'paid' : 'pending';\n            $paymentDate = $isPaid ? date('Y-m-d') : NULL;\n            $updateStmt = $this->db->prepare(\"UPDATE payments SET amount = ?, payment_date = ?, status = ? WHERE id = ?\");\n            $updateStmt->execute([\n                $this->bookAd->amount,\n                $paymentDate,\n                $paymentStatus,\n                $existingPayment['id']\n            ]);\n            $paymentId = $existingPayment['id'];\n        } else {\n            // Create new payment record (pending or paid)\n            $paymentStatus = $isPaid ? 'paid' : 'pending';\n            $paymentDate = $isPaid ? date('Y-m-d') : NULL;\n            $insertStmt = $this->db->prepare(\"INSERT INTO payments (member_id, amount, payment_date, concept, status, fee_year, payment_type, book_ad_id) VALUES (?, ?, ?, ?, ?, ?, 'book_ad', ?)\");\n            $insertStmt->execute([\n                $this->bookAd->donor_id,\n                $this->bookAd->amount,\n                $paymentDate,\n                'Anuncio Libro Fiestas ' . $this->bookAd->year . ' - ' . $donorModel->name,\n                $paymentStatus,\n                $this->bookAd->year,\n                $adId\n            ]);\n            $paymentId = $this->db->lastInsertId();\n        }\n        \n        // Si el pago está marcado como pagado, crear asiento contable\n        if ($isPaid && $paymentId) {\n            require_once __DIR__ . '/../Helpers/AccountingHelper.php';\n            $accountingCreated = AccountingHelper::createEntryFromBookAd(\n                $this->db,\n                $adId,\n                $this->bookAd->amount,\n                'Anuncio Libro Fiestas ' . $this->bookAd->year . ' - ' . $donorModel->name,\n                $paymentDate ?? date('Y-m-d'),\n                'transfer'\n            );\n            \n            if (!$accountingCreated) {\n                error_log(\"No se pudo crear el asiento contable para el anuncio #$adId\");\n            }\n        }","range":{"startLineNumber":255,"startColumn":1,"endLineNumber":279,"endColumn":16}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Controllers/BookAdController.php","external":"file:///root/Documentos/github/GestionSocios/src/Controllers/BookAdController.php","path":"/root/Documentos/github/GestionSocios/src/Controllers/BookAdController.php","scheme":"file"},"requestId":"request_6fc134d9-a4c9-45b7-991a-aeb72b48204e","epoch":27,"edits":[{"text":"            if (!$accountingCreated) {\n                error_log(\"No se pudo crear el asiento contable para el anuncio #$adId\");\n            }\n        }\n    }","range":{"startLineNumber":299,"startColumn":1,"endLineNumber":321,"endColumn":6}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Controllers/SupplierController.php","external":"file:///root/Documentos/github/GestionSocios/src/Controllers/SupplierController.php","path":"/root/Documentos/github/GestionSocios/src/Controllers/SupplierController.php","scheme":"file"},"requestId":"request_f8451068-e611-4234-b20b-7ddc07e79199","epoch":33,"edits":[{"text":"    public function updateInvoiceStatus() {\n        CsrfHelper::validateRequest();\n        \n        $id = isset($_GET['id']) ? intval($_GET['id']) : 0;\n        $status = isset($_GET['status']) ? $_GET['status'] : '';\n        \n        if ($id <= 0 || !in_array($status, ['paid', 'pending', 'cancelled'])) {\n            $_SESSION['error'] = \"Parámetros inválidos.\";\n            header(\"Location: index.php?page=suppliers\");\n            exit;\n        }\n        \n        $this->invoice->id = $id;\n        $this->invoice->readOne();\n        \n        $supplierId = $this->invoice->supplier_id;\n        $previousStatus = $this->invoice->status;\n        \n        // Actualizar estado\n        $query = \"UPDATE supplier_invoices SET status = :status WHERE id = :id\";\n        $stmt = $this->db->prepare($query);\n        $stmt->bindParam(':status', $status);\n        $stmt->bindParam(':id', $id);\n        \n        if ($stmt->execute()) {\n            // Si se marca como pagada, crear asiento contable\n            if ($previousStatus !== 'paid' && $status === 'paid') {\n                require_once __DIR__ . '/../Helpers/AccountingHelper.php';\n                $accountingCreated = AccountingHelper::createEntryFromSupplierInvoice(\n                    $this->db,\n                    $id,\n                    $this->invoice->amount,\n                    'Factura ' . $this->invoice->invoice_number . ' - ' . $this->supplier->name,\n                    $this->invoice->invoice_date,\n                    date('Y-m-d'), // Fecha de pago = hoy\n                    'transfer'\n                );\n                \n                if (!$accountingCreated) {\n                    error_log(\"No se pudo crear el asiento contable para la factura #$id\");\n                }\n                \n                $_SESSION['success'] = \"Factura marcada como pagada\" . ($accountingCreated ? \" y registrada en contabilidad\" : \"\") . \".\";\n            } else {\n                $_SESSION['success'] = \"Estado de factura actualizado.\";\n            }\n        } else {\n            $_SESSION['error'] = \"Error al actualizar el estado.\";\n        }\n        \n        header(\"Location: index.php?page=suppliers&action=show&id=\" . $supplierId);\n        exit;\n    }\n\n    public function dashboard() {\n        $year = isset($_GET['year']) ? intval($_GET['year']) : date('Y');\n        \n        // Fetch stats\n        $totalAmount = $this->invoice->getTotalAmount($year);\n        $pendingAmount = $this->invoice->getPendingAmount();\n        $topSuppliers = $this->invoice->getTopSuppliers(5, $year);\n        $monthlyStats = $this->invoice->getMonthlyStats($year);\n        $recentInvoices = $this->invoice->getRecentInvoices(5);\n        \n        // Total suppliers count\n        $stmt = $this->supplier->readAll();\n        $totalSuppliers = $stmt->rowCount();\n        \n        require __DIR__ . '/../Views/suppliers/dashboard.php';\n    }\n}\n?>","range":{"startLineNumber":344,"startColumn":1,"endLineNumber":361,"endColumn":3}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Views/suppliers/show.php","external":"file:///root/Documentos/github/GestionSocios/src/Views/suppliers/show.php","path":"/root/Documentos/github/GestionSocios/src/Views/suppliers/show.php","scheme":"file"},"requestId":"request_f8451068-e611-4234-b20b-7ddc07e79199","epoch":34,"edits":[{"text":"                                        <td>\n                                            <?php if ($inv['status'] !== 'paid'): ?>\n                                                <a href=\"index.php?page=suppliers&action=updateInvoiceStatus&id=<?php echo $inv['id']; ?>&status=paid\" \n                                                   class=\"btn btn-sm btn-success mr-2\" \n                                                   onclick=\"return confirm('¿Marcar esta factura como pagada? Se registrará en contabilidad.')\"\n                                                   title=\"Marcar como pagada\">\n                                                    <i class=\"fas fa-check\"></i> Pagar\n                                                </a>\n                                            <?php endif; ?>\n                                            <a href=\"index.php?page=suppliers&action=deleteInvoice&id=<?php echo $inv['id']; ?>\" \n                                               class=\"text-danger\" \n                                               onclick=\"return confirm('¿Eliminar esta factura?')\"\n                                               title=\"Eliminar\">\n                                                <i class=\"fas fa-trash\"></i>\n                                            </a>\n                                        </td>","range":{"startLineNumber":139,"startColumn":1,"endLineNumber":146,"endColumn":46}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/public/index.php","external":"file:///root/Documentos/github/GestionSocios/public/index.php","path":"/root/Documentos/github/GestionSocios/public/index.php","scheme":"file"},"requestId":"request_f8451068-e611-4234-b20b-7ddc07e79199","epoch":37,"edits":[{"text":"    case 'suppliers':\n        require_once __DIR__ . '/../src/Controllers/SupplierController.php';\n        $controller = new SupplierController();\n        if ($action === 'create') $controller->create();\n        else if ($action === 'store') $controller->store();\n        else if ($action === 'edit') $controller->edit();\n        else if ($action === 'update') $controller->update();\n        else if ($action === 'delete') $controller->delete();\n        else if ($action === 'show') $controller->show();\n        else if ($action === 'uploadInvoice') $controller->uploadInvoice();\n        else if ($action === 'deleteInvoice') $controller->deleteInvoice();\n        else if ($action === 'updateInvoiceStatus') $controller->updateInvoiceStatus();\n        else if ($action === 'dashboard') $controller->dashboard();\n        else $controller->index();\n        break;","range":{"startLineNumber":179,"startColumn":1,"endLineNumber":192,"endColumn":15}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Controllers/SupplierController.php","external":"file:///root/Documentos/github/GestionSocios/src/Controllers/SupplierController.php","path":"/root/Documentos/github/GestionSocios/src/Controllers/SupplierController.php","scheme":"file"},"requestId":"request_9a87398a-cd2f-45b9-8818-0e0a5f6d2c26","epoch":41,"edits":[{"text":"        $this->invoice->id = $id;\n        $this->invoice->readOne();\n        \n        $supplierId = $this->invoice->supplier_id;\n        $previousStatus = $this->invoice->status;\n        \n        // Cargar datos del proveedor\n        $this->supplier->id = $supplierId;\n        $this->supplier->readOne();\n        \n        // Actualizar estado\n        $query = \"UPDATE supplier_invoices SET status = :status WHERE id = :id\";\n        $stmt = $this->db->prepare($query);\n        $stmt->bindParam(':status', $status);\n        $stmt->bindParam(':id', $id);\n        \n        if ($stmt->execute()) {\n            // Si se marca como pagada, crear asiento contable\n            if ($previousStatus !== 'paid' && $status === 'paid') {\n                require_once __DIR__ . '/../Helpers/AccountingHelper.php';\n                $accountingCreated = AccountingHelper::createEntryFromSupplierInvoice(\n                    $this->db,\n                    $id,\n                    $this->invoice->amount,\n                    'Factura ' . $this->invoice->invoice_number . ' - ' . $this->supplier->name,\n                    $this->invoice->invoice_date,\n                    date('Y-m-d'), // Fecha de pago = hoy\n                    'transfer'\n                );\n                \n                if (!$accountingCreated) {\n                    error_log(\"No se pudo crear el asiento contable para la factura #$id\");\n                }\n                \n                $_SESSION['success'] = \"Factura marcada como pagada\" . ($accountingCreated ? \" y registrada en contabilidad\" : \"\") . \".\";\n            } else {\n                $_SESSION['success'] = \"Estado de factura actualizado.\";\n            }\n        } else {\n            $_SESSION['error'] = \"Error al actualizar el estado.\";\n        }","range":{"startLineNumber":356,"startColumn":1,"endLineNumber":392,"endColumn":10}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Controllers/PaymentController.php","external":"file:///root/Documentos/github/GestionSocios/src/Controllers/PaymentController.php","path":"/root/Documentos/github/GestionSocios/src/Controllers/PaymentController.php","scheme":"file"},"requestId":"request_73b8f7ce-229c-46a5-9f3b-926190494f6d","epoch":48,"edits":[{"text":"    public function delete($id) {\n        $this->checkAdmin();\n        \n        // Cancelar asiento contable asociado si existe\n        require_once __DIR__ . '/../Models/AccountingEntry.php';\n        $stmt = $this->db->prepare(\"SELECT id FROM accounting_entries WHERE source_type = 'payment' AND source_id = ?\");\n        $stmt->execute([$id]);\n        $entry = $stmt->fetch(PDO::FETCH_ASSOC);\n        \n        if ($entry) {\n            $entryModel = new AccountingEntry($this->db);\n            $entryModel->id = $entry['id'];\n            $entryModel->cancel();\n        }\n        \n        $this->payment->id = $id;\n        if ($this->payment->delete()) {\n            // Audit log registro eliminación pago\n            require_once __DIR__ . '/../Models/AuditLog.php';\n            $auditLog = new AuditLog($this->db);\n            $userId = $_SESSION['user_id'] ?? null;\n            $details = json_encode(['payment_id' => $id]);\n            $auditLog->create($userId, 'delete', 'payment', $id, $details);\n\n            header('Location: index.php?page=payments');\n        } else {\n            header('Location: index.php?page=payments&error=delete_failed');\n        }\n    }","range":{"startLineNumber":217,"startColumn":1,"endLineNumber":232,"endColumn":6}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Controllers/BookAdController.php","external":"file:///root/Documentos/github/GestionSocios/src/Controllers/BookAdController.php","path":"/root/Documentos/github/GestionSocios/src/Controllers/BookAdController.php","scheme":"file"},"requestId":"request_73b8f7ce-229c-46a5-9f3b-926190494f6d","epoch":49,"edits":[{"text":"    public function delete($id) {\n        $this->checkAdmin();\n        $this->bookAd->id = $id;\n        if ($this->bookAd->readOne()) {\n            $year = $this->bookAd->year;\n            \n            // Cancelar asiento contable asociado si existe\n            require_once __DIR__ . '/../Models/AccountingEntry.php';\n            $stmt = $this->db->prepare(\"SELECT id FROM accounting_entries WHERE source_type = 'book_ad' AND source_id = ?\");\n            $stmt->execute([$id]);\n            $entry = $stmt->fetch(PDO::FETCH_ASSOC);\n            \n            if ($entry) {\n                $entryModel = new AccountingEntry($this->db);\n                $entryModel->id = $entry['id'];\n                $entryModel->cancel();\n            }\n            \n            // Delete associated payment if exists\n            $deletePaymentStmt = $this->db->prepare(\"DELETE FROM payments WHERE payment_type = 'book_ad' AND book_ad_id = ?\");\n            $deletePaymentStmt->execute([$id]);\n            \n            if ($this->bookAd->delete()) {\n                header('Location: index.php?page=book&year=' . $year . '&msg=deleted');\n                exit;","range":{"startLineNumber":305,"startColumn":1,"endLineNumber":317,"endColumn":22}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Controllers/SupplierController.php","external":"file:///root/Documentos/github/GestionSocios/src/Controllers/SupplierController.php","path":"/root/Documentos/github/GestionSocios/src/Controllers/SupplierController.php","scheme":"file"},"requestId":"request_73b8f7ce-229c-46a5-9f3b-926190494f6d","epoch":52,"edits":[{"text":"    public function deleteInvoice() {\n        CsrfHelper::validateRequest();\n        \n        $id = isset($_GET['id']) ? intval($_GET['id']) : 0;\n        if ($id <= 0) {\n            $_SESSION['error'] = \"ID inválido.\";\n            header(\"Location: index.php?page=suppliers\");\n            exit;\n        }\n        \n        $this->invoice->id = $id;\n        $this->invoice->readOne();\n        \n        $supplierId = $this->invoice->supplier_id;\n        $filePath = $this->invoice->file_path;\n        \n        // Cancelar asiento contable asociado si existe\n        require_once __DIR__ . '/../Models/AccountingEntry.php';\n        $stmt = $this->db->prepare(\"SELECT id FROM accounting_entries WHERE source_type = 'supplier_invoice' AND source_id = ?\");\n        $stmt->execute([$id]);\n        $entry = $stmt->fetch(PDO::FETCH_ASSOC);\n        \n        if ($entry) {\n            $entryModel = new AccountingEntry($this->db);\n            $entryModel->id = $entry['id'];\n            $entryModel->cancel();\n        }\n        \n        if ($this->invoice->delete()) {\n            if (file_exists($filePath)) {\n                unlink($filePath);\n            }\n            \n            // Audit log\n            require_once __DIR__ . '/../Models/AuditLog.php';\n            $audit = new AuditLog($this->db);\n            $audit->create($_SESSION['user_id'], 'delete', 'supplier_invoice', $id, 'Factura de proveedor eliminada por el usuario ' . ($_SESSION['username'] ?? ''));\n            \n            $_SESSION['success'] = \"Factura eliminada.\";\n        } else {\n            $_SESSION['error'] = \"Error al eliminar factura.\";\n        }\n        \n        header(\"Location: index.php?page=suppliers&action=show&id=\" . $supplierId);\n        exit;\n    }","range":{"startLineNumber":315,"startColumn":1,"endLineNumber":342,"endColumn":6}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Controllers/MapController.php","external":"file:///root/Documentos/github/GestionSocios/src/Controllers/MapController.php","path":"/root/Documentos/github/GestionSocios/src/Controllers/MapController.php","scheme":"file"},"requestId":"request_38140dc0-13e5-4b19-ad26-6aba426d5e9c","epoch":56,"edits":[{"text":"    public function getLocations() {\n        header('Content-Type: application/json');\n        \n        try {\n            $currentYear = date('Y');\n            \n            // Fetch active members with coordinates and payment status\n            $stmtMembers = $this->db->prepare(\"\n                SELECT \n                    m.id, \n                    m.first_name, \n                    m.last_name, \n                    m.latitude, \n                    m.longitude, \n                    m.address,\n                    (SELECT COUNT(*) FROM payments p \n                     WHERE p.member_id = m.id \n                     AND p.payment_type = 'fee' \n                     AND p.fee_year = :year \n                     AND p.status = 'paid') as has_paid\n                FROM members m\n                WHERE m.status = 'active' \n                AND m.latitude IS NOT NULL \n                AND m.longitude IS NOT NULL\n            \");\n            $stmtMembers->bindParam(':year', $currentYear);\n            $stmtMembers->execute();\n            $members = $stmtMembers->fetchAll(PDO::FETCH_ASSOC);\n\n            // Fetch donors with coordinates and donation status for current year\n            $stmtDonors = $this->db->prepare(\"\n                SELECT \n                    d.id, \n                    d.name, \n                    d.latitude, \n                    d.longitude, \n                    d.address,\n                    (SELECT COUNT(*) FROM donations dn \n                     WHERE dn.donor_id = d.id \n                     AND dn.year = :year) as has_donated\n                FROM donors d\n                WHERE d.latitude IS NOT NULL \n                AND d.longitude IS NOT NULL\n            \");\n            $stmtDonors->bindParam(':year', $currentYear);\n            $stmtDonors->execute();\n            $donors = $stmtDonors->fetchAll(PDO::FETCH_ASSOC);\n\n            $locations = [];\n\n            foreach ($members as $member) {\n                $locations[] = [\n                    'type' => 'member',\n                    'id' => $member['id'],\n                    'name' => $member['first_name'] . ' ' . $member['last_name'],\n                    'lat' => $member['latitude'],\n                    'lng' => $member['longitude'],\n                    'address' => $member['address'],\n                    'paid' => (int)$member['has_paid'] > 0\n                ];\n            }\n\n            foreach ($donors as $donor) {\n                $locations[] = [\n                    'type' => 'donor',\n                    'id' => $donor['id'],\n                    'name' => $donor['name'],\n                    'lat' => $donor['latitude'],\n                    'lng' => $donor['longitude'],\n                    'address' => $donor['address'],\n                    'paid' => (int)$donor['has_donated'] > 0\n                ];\n            }","range":{"startLineNumber":20,"startColumn":1,"endLineNumber":56,"endColumn":14}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Views/map/index.php","external":"file:///root/Documentos/github/GestionSocios/src/Views/map/index.php","path":"/root/Documentos/github/GestionSocios/src/Views/map/index.php","scheme":"file"},"requestId":"request_38140dc0-13e5-4b19-ad26-6aba426d5e9c","epoch":59,"edits":[{"text":"<div class=\"map-container\">\n    <div class=\"map-controls card\">\n        <h2><i class=\"fas fa-map-marked-alt\"></i> Mapa Global - Año ' . date('Y') . '</h2>\n        <div class=\"filter-buttons\">\n            <button class=\"btn btn-primary active\" id=\"filterAll\" onclick=\"filterMarkers(\\'all\\')\">\n                <i class=\"fas fa-globe\"></i> Todos\n            </button>\n            <button class=\"btn btn-secondary\" id=\"filterMembers\" onclick=\"filterMarkers(\\'member\\')\">\n                <i class=\"fas fa-users\"></i> Solo Socios\n            </button>\n            <button class=\"btn btn-secondary\" id=\"filterDonors\" onclick=\"filterMarkers(\\'donor\\')\">\n                <i class=\"fas fa-hand-holding-heart\"></i> Solo Donantes\n            </button>\n            <button class=\"btn btn-secondary\" id=\"filterPending\" onclick=\"filterMarkers(\\'pending\\')\">\n                <i class=\"fas fa-exclamation-triangle\"></i> Pendientes de Pago\n            </button>\n        </div>\n        <div class=\"map-legend\">\n            <div class=\"legend-title\"><strong>Leyenda:</strong></div>\n            <div class=\"legend-items\">\n                <span class=\"legend-item\">\n                    <span class=\"legend-marker\" style=\"background-color: #22c55e;\"></span>\n                    <span>Al día (Socios)</span>\n                </span>\n                <span class=\"legend-item\">\n                    <span class=\"legend-marker\" style=\"background-color: #f59e0b;\"></span>\n                    <span>Pendiente (Socios)</span>\n                </span>\n                <span class=\"legend-item\">\n                    <span class=\"legend-marker\" style=\"background-color: #10b981;\"></span>\n                    <span>Ha donado (Donantes)</span>\n                </span>\n                <span class=\"legend-item\">\n                    <span class=\"legend-marker\" style=\"background-color: #f97316;\"></span>\n                    <span>Sin donar (Donantes)</span>\n                </span>\n            </div>\n        </div>\n        <div class=\"map-stats\">\n            <span class=\"stat-badge stat-paid\" id=\"paidCount\">Al día: 0</span>\n            <span class=\"stat-badge stat-pending\" id=\"pendingCount\">Pendientes: 0</span>\n        </div>\n    </div>","range":{"startLineNumber":4,"startColumn":1,"endLineNumber":22,"endColumn":11}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Views/map/index.php","external":"file:///root/Documentos/github/GestionSocios/src/Views/map/index.php","path":"/root/Documentos/github/GestionSocios/src/Views/map/index.php","scheme":"file"},"requestId":"request_38140dc0-13e5-4b19-ad26-6aba426d5e9c","epoch":61,"edits":[{"text":".map-legend {\n    margin-bottom: 1rem;\n    padding: 1rem;\n    background: var(--gray-50);\n    border-radius: var(--radius-md);\n    border: 1px solid var(--border-light);\n}\n\n.map-legend .legend-title {\n    margin-bottom: 0.5rem;\n    color: var(--text-main);\n}\n\n.legend-items {\n    display: flex;\n    gap: 1.5rem;\n    flex-wrap: wrap;\n}\n\n.legend-item {\n    display: flex;\n    align-items: center;\n    gap: 0.5rem;\n    font-size: 0.85rem;\n}\n\n.legend-marker {\n    width: 18px;\n    height: 18px;\n    border-radius: 50%;\n    border: 2px solid white;\n    box-shadow: 0 2px 4px rgba(0,0,0,0.2);\n}\n\n.map-stats {\n    display: flex;\n    gap: 1rem;\n    flex-wrap: wrap;\n}\n\n.stat-badge {\n    background: var(--primary-50);\n    color: var(--primary-700);\n    padding: 0.5rem 1rem;\n    border-radius: var(--radius-md);\n    font-weight: 600;\n    font-size: 0.9rem;\n}\n\n.stat-badge.stat-paid {\n    background: #d1fae5;\n    color: #065f46;\n}\n\n.stat-badge.stat-pending {\n    background: #fef3c7;\n    color: #92400e;\n}","range":{"startLineNumber":77,"startColumn":1,"endLineNumber":90,"endColumn":2}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Views/map/index.php","external":"file:///root/Documentos/github/GestionSocios/src/Views/map/index.php","path":"/root/Documentos/github/GestionSocios/src/Views/map/index.php","scheme":"file"},"requestId":"request_38140dc0-13e5-4b19-ad26-6aba426d5e9c","epoch":63,"edits":[{"text":".popup-content .type-badge.donor {\n    background: #ef4444;\n    color: white;\n}\n\n.popup-content .status-badge {\n    display: inline-block;\n    padding: 0.25rem 0.5rem;\n    border-radius: var(--radius-md);\n    font-size: 0.75rem;\n    font-weight: 600;\n}\n\n.popup-content .status-badge.status-paid {\n    background: #d1fae5;\n    color: #065f46;\n}\n\n.popup-content .status-badge.status-pending {\n    background: #fef3c7;\n    color: #92400e;\n}\n\n/* Marker labels that appear on zoom */\n.marker-label {","range":{"startLineNumber":165,"startColumn":1,"endLineNumber":171,"endColumn":16}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Views/map/index.php","external":"file:///root/Documentos/github/GestionSocios/src/Views/map/index.php","path":"/root/Documentos/github/GestionSocios/src/Views/map/index.php","scheme":"file"},"requestId":"request_38140dc0-13e5-4b19-ad26-6aba426d5e9c","epoch":65,"edits":[{"text":"        // Choose icon color based on type and payment status\n        let iconColor;\n        let statusLabel;\n        let statusClass;\n        \n        if (location.type === \\'member\\') {\n            iconColor = location.paid ? \\'#22c55e\\' : \\'#f59e0b\\'; // Verde si pagó, naranja si no\n            statusLabel = location.paid ? \\'Al día\\' : \\'Pendiente de pago\\';\n            statusClass = location.paid ? \\'status-paid\\' : \\'status-pending\\';\n        } else {\n            iconColor = location.paid ? \\'#10b981\\' : \\'#f97316\\'; // Verde oscuro si donó, naranja oscuro si no\n            statusLabel = location.paid ? \\'Ha donado este año\\' : \\'Sin donar este año\\';\n            statusClass = location.paid ? \\'status-paid\\' : \\'status-pending\\';\n        }\n        \n        const icon = L.divIcon({\n            className: \\'custom-marker\\',\n            html: `<div style=\"background-color: ${iconColor}; width: 25px; height: 25px; border-radius: 50%; border: 3px solid white; box-shadow: 0 2px 5px rgba(0,0,0,0.3);\"></div>`,\n            iconSize: [25, 25],\n            iconAnchor: [12, 12]\n        });\n        \n        const marker = L.marker([lat, lng], { icon: icon })\n            .bindPopup(`\n                <div class=\"popup-content\">\n                    <span class=\"type-badge ${location.type}\">\n                        ${location.type === \\'member\\' ? \\'Socio\\' : \\'Donante\\'}\n                    </span>\n                    <span class=\"status-badge ${statusClass}\" style=\"margin-left: 0.5rem;\">\n                        ${statusLabel}\n                    </span>\n                    <h3>${location.name}</h3>\n                    ${location.address ? `<p><i class=\"fas fa-map-marker-alt\"></i> ${location.address}</p>` : \\'\\'}\n                    <p><a href=\"index.php?page=${location.type === \\'member\\' ? \\'members\\' : \\'donors\\'}&action=edit&id=${location.id}\" class=\"btn btn-sm btn-primary\" style=\"margin-top: 0.5rem;\">\n                        <i class=\"fas fa-edit\"></i> Ver detalles\n                    </a></p>\n                </div>\n            `);","range":{"startLineNumber":291,"startColumn":1,"endLineNumber":312,"endColumn":16}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Views/map/index.php","external":"file:///root/Documentos/github/GestionSocios/src/Views/map/index.php","path":"/root/Documentos/github/GestionSocios/src/Views/map/index.php","scheme":"file"},"requestId":"request_38140dc0-13e5-4b19-ad26-6aba426d5e9c","epoch":67,"edits":[{"text":"function filterMarkers(type) {\n    currentFilter = type;\n    \n    // Update button states\n    document.querySelectorAll(\\'.filter-buttons .btn\\').forEach(btn => {\n        btn.classList.remove(\\'active\\');\n        btn.classList.add(\\'btn-secondary\\');\n        btn.classList.remove(\\'btn-primary\\');\n    });\n    \n    let activeBtn;\n    if (type === \\'all\\') activeBtn = \\'filterAll\\';\n    else if (type === \\'member\\') activeBtn = \\'filterMembers\\';\n    else if (type === \\'donor\\') activeBtn = \\'filterDonors\\';\n    else if (type === \\'pending\\') activeBtn = \\'filterPending\\';\n    \n    document.getElementById(activeBtn).classList.add(\\'active\\');\n    document.getElementById(activeBtn).classList.add(\\'btn-primary\\');\n    document.getElementById(activeBtn).classList.remove(\\'btn-secondary\\');\n    \n    // Filter locations\n    let filteredLocations;\n    if (type === \\'all\\') {\n        filteredLocations = allLocations;\n    } else if (type === \\'pending\\') {\n        filteredLocations = allLocations.filter(loc => !loc.paid);\n    } else {\n        filteredLocations = allLocations.filter(loc => loc.type === type);\n    }\n    \n    displayMarkers(filteredLocations);\n}\n\nfunction updateStats() {\n    const paidCount = allLocations.filter(loc => loc.paid).length;\n    const pendingCount = allLocations.filter(loc => !loc.paid).length;\n    \n    document.getElementById(\\'paidCount\\').textContent = `Al día: ${paidCount}`;\n    document.getElementById(\\'pendingCount\\').textContent = `Pendientes: ${pendingCount}`;\n}","range":{"startLineNumber":385,"startColumn":1,"endLineNumber":414,"endColumn":2}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/schema.sql","external":"file:///root/Documentos/github/GestionSocios/database/schema.sql","path":"/root/Documentos/github/GestionSocios/database/schema.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":71,"edits":[{"text":"CREATE TABLE IF NOT EXISTS suppliers (\n    id INT AUTO_INCREMENT PRIMARY KEY,\n    name VARCHAR(255) NOT NULL,\n    cif_nif VARCHAR(20),\n    tax_id VARCHAR(50), -- NIF/VAT completo para facturación\n    email VARCHAR(255),\n    phone VARCHAR(20),\n    address TEXT,\n    postal_code VARCHAR(10),\n    city VARCHAR(100),\n    province VARCHAR(100),\n    country VARCHAR(100) DEFAULT 'España',\n    website VARCHAR(255),\n    logo_path VARCHAR(255),\n    tipo_proveedor ENUM('servicios', 'productos', 'mixto', 'profesional') DEFAULT 'servicios',\n    categoria VARCHAR(100), -- Categoría de proveedor (tecnología, papelería, etc)\n    estado ENUM('activo', 'inactivo', 'bloqueado') DEFAULT 'activo',\n    payment_terms INT DEFAULT 30, -- Días de plazo de pago\n    default_payment_method ENUM('transfer', 'cash', 'card', 'check', 'other') DEFAULT 'transfer',\n    iban VARCHAR(34),\n    swift VARCHAR(11),\n    bank_name VARCHAR(255),\n    default_discount DECIMAL(5,2) DEFAULT 0.00, -- Descuento por defecto en %\n    credit_limit DECIMAL(10,2), -- Límite de crédito\n    contact_person VARCHAR(255),\n    contact_email VARCHAR(255),\n    contact_phone VARCHAR(20),\n    rating TINYINT CHECK (rating >= 1 AND rating <= 5), -- Valoración del proveedor\n    notes TEXT,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_tipo (tipo_proveedor),\n    INDEX idx_estado (estado),\n    INDEX idx_categoria (categoria)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;\n\n-- Tabla de contactos de proveedores\nCREATE TABLE IF NOT EXISTS supplier_contacts (\n    id INT AUTO_INCREMENT PRIMARY KEY,\n    supplier_id INT NOT NULL,\n    name VARCHAR(255) NOT NULL,\n    position VARCHAR(100), -- Cargo\n    email VARCHAR(255),\n    phone VARCHAR(20),\n    mobile VARCHAR(20),\n    is_primary BOOLEAN DEFAULT 0, -- Contacto principal\n    notes TEXT,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (supplier_id) REFERENCES suppliers(id) ON DELETE CASCADE,\n    INDEX idx_supplier (supplier_id),\n    INDEX idx_primary (is_primary)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;\n\n-- Tabla de documentos de proveedores\nCREATE TABLE IF NOT EXISTS supplier_documents (\n    id INT AUTO_INCREMENT PRIMARY KEY,\n    supplier_id INT NOT NULL,\n    document_id INT, -- Referencia al gestor documental general si existe\n    document_type ENUM('contrato', 'certificado', 'seguro', 'licencia', 'otro') DEFAULT 'otro',\n    name VARCHAR(255) NOT NULL,\n    file_path VARCHAR(255),\n    description TEXT,\n    upload_date DATE,\n    expiry_date DATE, -- Fecha de caducidad (para seguros, certificados, etc)\n    status ENUM('vigente', 'caducado', 'renovado', 'cancelado') DEFAULT 'vigente',\n    tags VARCHAR(255), -- Tags separados por comas para búsqueda\n    uploaded_by INT,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (supplier_id) REFERENCES suppliers(id) ON DELETE CASCADE,\n    FOREIGN KEY (uploaded_by) REFERENCES users(id) ON DELETE SET NULL,\n    INDEX idx_supplier (supplier_id),\n    INDEX idx_type (document_type),\n    INDEX idx_status (status),\n    INDEX idx_expiry (expiry_date)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;\n\n-- Tabla de órdenes de compra\nCREATE TABLE IF NOT EXISTS supplier_orders (\n    id INT AUTO_INCREMENT PRIMARY KEY,\n    supplier_id INT NOT NULL,\n    order_number VARCHAR(50) NOT NULL UNIQUE,\n    order_date DATE NOT NULL,\n    expected_delivery_date DATE,\n    status ENUM('draft', 'sent', 'confirmed', 'received', 'cancelled') DEFAULT 'draft',\n    subtotal DECIMAL(10,2) DEFAULT 0.00,\n    tax_amount DECIMAL(10,2) DEFAULT 0.00,\n    discount_amount DECIMAL(10,2) DEFAULT 0.00,\n    total_amount DECIMAL(10,2) DEFAULT 0.00,\n    notes TEXT,\n    approved_by INT,\n    approved_at DATETIME,\n    created_by INT,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (supplier_id) REFERENCES suppliers(id) ON DELETE CASCADE,\n    FOREIGN KEY (approved_by) REFERENCES users(id) ON DELETE SET NULL,\n    FOREIGN KEY (created_by) REFERENCES users(id) ON DELETE SET NULL,\n    INDEX idx_supplier (supplier_id),\n    INDEX idx_order_number (order_number),\n    INDEX idx_status (status),\n    INDEX idx_order_date (order_date)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;\n\n-- Tabla de líneas de órdenes de compra\nCREATE TABLE IF NOT EXISTS supplier_order_lines (\n    id INT AUTO_INCREMENT PRIMARY KEY,\n    order_id INT NOT NULL,\n    line_number INT NOT NULL,\n    description VARCHAR(255) NOT NULL,\n    quantity DECIMAL(10,2) NOT NULL,\n    unit_price DECIMAL(10,2) NOT NULL,\n    tax_rate DECIMAL(5,2) DEFAULT 21.00, -- % IVA\n    discount_rate DECIMAL(5,2) DEFAULT 0.00,\n    line_total DECIMAL(10,2),\n    notes TEXT,\n    FOREIGN KEY (order_id) REFERENCES supplier_orders(id) ON DELETE CASCADE,\n    INDEX idx_order (order_id)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;\n\n-- Tabla de cuotas anuales\nCREATE TABLE IF NOT EXISTS annual_fees (\n     year INT PRIMARY KEY,\n     amount DECIMAL(10,2) NOT NULL,\n     created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;\n\nCREATE TABLE IF NOT EXISTS supplier_invoices (\n    id INT AUTO_INCREMENT PRIMARY KEY,\n    supplier_id INT NOT NULL,\n    order_id INT, -- Referencia a orden de compra si viene de una\n    invoice_number VARCHAR(50) NOT NULL,\n    invoice_date DATE NOT NULL,\n    due_date DATE, -- Fecha de vencimiento\n    payment_date DATE, -- Fecha real de pago\n    subtotal DECIMAL(10,2) DEFAULT 0.00,\n    tax_amount DECIMAL(10,2) DEFAULT 0.00,\n    discount_amount DECIMAL(10,2) DEFAULT 0.00,\n    amount DECIMAL(10, 2), -- Total\n    status ENUM('paid', 'pending', 'overdue', 'cancelled') DEFAULT 'pending',\n    payment_method ENUM('transfer', 'cash', 'card', 'check', 'other') DEFAULT 'transfer',\n    bank_reference VARCHAR(100), -- Referencia bancaria del pago\n    tipo_factura ENUM('normal', 'rectificativa', 'abono') DEFAULT 'normal',\n    file_path VARCHAR(255),\n    notes TEXT,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (supplier_id) REFERENCES suppliers(id) ON DELETE CASCADE,\n    FOREIGN KEY (order_id) REFERENCES supplier_orders(id) ON DELETE SET NULL,\n    INDEX idx_supplier (supplier_id),\n    INDEX idx_invoice_number (invoice_number),\n    INDEX idx_invoice_date (invoice_date),\n    INDEX idx_due_date (due_date),\n    INDEX idx_status (status)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;","range":{"startLineNumber":507,"startColumn":1,"endLineNumber":541,"endColumn":68}}]},{"type":"create","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":72,"initialContent":"","telemetryInfo":{}},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":74,"edits":[{"text":"-- Migración para profesionalizar el módulo de proveedores","range":{"startLineNumber":1,"startColumn":1,"endLineNumber":1,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":75,"edits":[{"text":"\n-- Fecha: 2025-12-03","range":{"startLineNumber":2,"startColumn":1,"endLineNumber":2,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":76,"edits":[{"text":"\n-- IMPORTANTE: Hacer backup antes de ejecutar esta migración","range":{"startLineNumber":3,"startColumn":1,"endLineNumber":3,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":77,"edits":[{"text":"\n","range":{"startLineNumber":4,"startColumn":1,"endLineNumber":4,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":78,"edits":[{"text":"\n-- 1. Mejorar tabla suppliers con campos profesionales","range":{"startLineNumber":5,"startColumn":1,"endLineNumber":5,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":79,"edits":[{"text":"\nALTER TABLE suppliers","range":{"startLineNumber":6,"startColumn":1,"endLineNumber":6,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":80,"edits":[{"text":"\nADD COLUMN tax_id VARCHAR(50) AFTER cif_nif,","range":{"startLineNumber":7,"startColumn":1,"endLineNumber":7,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":81,"edits":[{"text":"\nADD COLUMN postal_code VARCHAR(10) AFTER address,","range":{"startLineNumber":8,"startColumn":1,"endLineNumber":8,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":82,"edits":[{"text":"\nADD COLUMN city VARCHAR(100) AFTER postal_code,","range":{"startLineNumber":9,"startColumn":1,"endLineNumber":9,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":83,"edits":[{"text":"\nADD COLUMN province VARCHAR(100) AFTER city,","range":{"startLineNumber":10,"startColumn":1,"endLineNumber":10,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":84,"edits":[{"text":"\nADD COLUMN country VARCHAR(100) DEFAULT 'España' AFTER province,","range":{"startLineNumber":11,"startColumn":1,"endLineNumber":11,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":85,"edits":[{"text":"\nADD COLUMN tipo_proveedor ENUM('servicios', 'productos', 'mixto', 'profesional') DEFAULT 'servicios' AFTER logo_path,","range":{"startLineNumber":12,"startColumn":1,"endLineNumber":12,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":86,"edits":[{"text":"\nADD COLUMN categoria VARCHAR(100) AFTER tipo_proveedor,","range":{"startLineNumber":13,"startColumn":1,"endLineNumber":13,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":87,"edits":[{"text":"\nADD COLUMN estado ENUM('activo', 'inactivo', 'bloqueado') DEFAULT 'activo' AFTER categoria,","range":{"startLineNumber":14,"startColumn":1,"endLineNumber":14,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":88,"edits":[{"text":"\nADD COLUMN payment_terms INT DEFAULT 30 AFTER estado,","range":{"startLineNumber":15,"startColumn":1,"endLineNumber":15,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":89,"edits":[{"text":"\nADD COLUMN default_payment_method ENUM('transfer', 'cash', 'card', 'check', 'other') DEFAULT 'transfer' AFTER payment_terms,","range":{"startLineNumber":16,"startColumn":1,"endLineNumber":16,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":90,"edits":[{"text":"\nADD COLUMN iban VARCHAR(34) AFTER default_payment_method,","range":{"startLineNumber":17,"startColumn":1,"endLineNumber":17,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":91,"edits":[{"text":"\nADD COLUMN swift VARCHAR(11) AFTER iban,","range":{"startLineNumber":18,"startColumn":1,"endLineNumber":18,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":92,"edits":[{"text":"\nADD COLUMN bank_name VARCHAR(255) AFTER swift,","range":{"startLineNumber":19,"startColumn":1,"endLineNumber":19,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":93,"edits":[{"text":"\nADD COLUMN default_discount DECIMAL(5,2) DEFAULT 0.00 AFTER bank_name,","range":{"startLineNumber":20,"startColumn":1,"endLineNumber":20,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":94,"edits":[{"text":"\nADD COLUMN credit_limit DECIMAL(10,2) AFTER default_discount,","range":{"startLineNumber":21,"startColumn":1,"endLineNumber":21,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":95,"edits":[{"text":"\nADD COLUMN contact_person VARCHAR(255) AFTER credit_limit,","range":{"startLineNumber":22,"startColumn":1,"endLineNumber":22,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":96,"edits":[{"text":"\nADD COLUMN contact_email VARCHAR(255) AFTER contact_person,","range":{"startLineNumber":23,"startColumn":1,"endLineNumber":23,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":97,"edits":[{"text":"\nADD COLUMN contact_phone VARCHAR(20) AFTER contact_email,","range":{"startLineNumber":24,"startColumn":1,"endLineNumber":24,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":98,"edits":[{"text":"\nADD COLUMN rating TINYINT CHECK (rating >= 1 AND rating <= 5) AFTER contact_phone,","range":{"startLineNumber":25,"startColumn":1,"endLineNumber":25,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":99,"edits":[{"text":"\nADD INDEX idx_tipo (tipo_proveedor),","range":{"startLineNumber":26,"startColumn":1,"endLineNumber":26,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":100,"edits":[{"text":"\nADD INDEX idx_estado (estado),","range":{"startLineNumber":27,"startColumn":1,"endLineNumber":27,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":101,"edits":[{"text":"\nADD INDEX idx_categoria (categoria);","range":{"startLineNumber":28,"startColumn":1,"endLineNumber":28,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":102,"edits":[{"text":"\n","range":{"startLineNumber":29,"startColumn":1,"endLineNumber":29,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":103,"edits":[{"text":"\n-- 2. Crear tabla de contactos de proveedores","range":{"startLineNumber":30,"startColumn":1,"endLineNumber":30,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":104,"edits":[{"text":"\nCREATE TABLE IF NOT EXISTS supplier_contacts (","range":{"startLineNumber":31,"startColumn":1,"endLineNumber":31,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":105,"edits":[{"text":"\n    id INT AUTO_INCREMENT PRIMARY KEY,","range":{"startLineNumber":32,"startColumn":1,"endLineNumber":32,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":106,"edits":[{"text":"\n    supplier_id INT NOT NULL,","range":{"startLineNumber":33,"startColumn":1,"endLineNumber":33,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":107,"edits":[{"text":"\n    name VARCHAR(255) NOT NULL,","range":{"startLineNumber":34,"startColumn":1,"endLineNumber":34,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":108,"edits":[{"text":"\n    position VARCHAR(100),","range":{"startLineNumber":35,"startColumn":1,"endLineNumber":35,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":109,"edits":[{"text":"\n    email VARCHAR(255),","range":{"startLineNumber":36,"startColumn":1,"endLineNumber":36,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":110,"edits":[{"text":"\n    phone VARCHAR(20),","range":{"startLineNumber":37,"startColumn":1,"endLineNumber":37,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":111,"edits":[{"text":"\n    mobile VARCHAR(20),","range":{"startLineNumber":38,"startColumn":1,"endLineNumber":38,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":112,"edits":[{"text":"\n    is_primary BOOLEAN DEFAULT 0,","range":{"startLineNumber":39,"startColumn":1,"endLineNumber":39,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":113,"edits":[{"text":"\n    notes TEXT,","range":{"startLineNumber":40,"startColumn":1,"endLineNumber":40,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":114,"edits":[{"text":"\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,","range":{"startLineNumber":41,"startColumn":1,"endLineNumber":41,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":115,"edits":[{"text":"\n    FOREIGN KEY (supplier_id) REFERENCES suppliers(id) ON DELETE CASCADE,","range":{"startLineNumber":42,"startColumn":1,"endLineNumber":42,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":116,"edits":[{"text":"\n    INDEX idx_supplier (supplier_id),","range":{"startLineNumber":43,"startColumn":1,"endLineNumber":43,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":117,"edits":[{"text":"\n    INDEX idx_primary (is_primary)","range":{"startLineNumber":44,"startColumn":1,"endLineNumber":44,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":118,"edits":[{"text":"\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;","range":{"startLineNumber":45,"startColumn":1,"endLineNumber":45,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":119,"edits":[{"text":"\n","range":{"startLineNumber":46,"startColumn":1,"endLineNumber":46,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":120,"edits":[{"text":"\n-- 3. Crear tabla de documentos de proveedores","range":{"startLineNumber":47,"startColumn":1,"endLineNumber":47,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":121,"edits":[{"text":"\nCREATE TABLE IF NOT EXISTS supplier_documents (","range":{"startLineNumber":48,"startColumn":1,"endLineNumber":48,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":122,"edits":[{"text":"\n    id INT AUTO_INCREMENT PRIMARY KEY,","range":{"startLineNumber":49,"startColumn":1,"endLineNumber":49,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":123,"edits":[{"text":"\n    supplier_id INT NOT NULL,","range":{"startLineNumber":50,"startColumn":1,"endLineNumber":50,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":124,"edits":[{"text":"\n    document_id INT,","range":{"startLineNumber":51,"startColumn":1,"endLineNumber":51,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":125,"edits":[{"text":"\n    document_type ENUM('contrato', 'certificado', 'seguro', 'licencia', 'otro') DEFAULT 'otro',","range":{"startLineNumber":52,"startColumn":1,"endLineNumber":52,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":126,"edits":[{"text":"\n    name VARCHAR(255) NOT NULL,","range":{"startLineNumber":53,"startColumn":1,"endLineNumber":53,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":127,"edits":[{"text":"\n    file_path VARCHAR(255),","range":{"startLineNumber":54,"startColumn":1,"endLineNumber":54,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":128,"edits":[{"text":"\n    description TEXT,","range":{"startLineNumber":55,"startColumn":1,"endLineNumber":55,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":129,"edits":[{"text":"\n    upload_date DATE,","range":{"startLineNumber":56,"startColumn":1,"endLineNumber":56,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":130,"edits":[{"text":"\n    expiry_date DATE,","range":{"startLineNumber":57,"startColumn":1,"endLineNumber":57,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":131,"edits":[{"text":"\n    status ENUM('vigente', 'caducado', 'renovado', 'cancelado') DEFAULT 'vigente',","range":{"startLineNumber":58,"startColumn":1,"endLineNumber":58,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":132,"edits":[{"text":"\n    tags VARCHAR(255),","range":{"startLineNumber":59,"startColumn":1,"endLineNumber":59,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":133,"edits":[{"text":"\n    uploaded_by INT,","range":{"startLineNumber":60,"startColumn":1,"endLineNumber":60,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":134,"edits":[{"text":"\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,","range":{"startLineNumber":61,"startColumn":1,"endLineNumber":61,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":135,"edits":[{"text":"\n    FOREIGN KEY (supplier_id) REFERENCES suppliers(id) ON DELETE CASCADE,","range":{"startLineNumber":62,"startColumn":1,"endLineNumber":62,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":136,"edits":[{"text":"\n    FOREIGN KEY (uploaded_by) REFERENCES users(id) ON DELETE SET NULL,","range":{"startLineNumber":63,"startColumn":1,"endLineNumber":63,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":137,"edits":[{"text":"\n    INDEX idx_supplier (supplier_id),","range":{"startLineNumber":64,"startColumn":1,"endLineNumber":64,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":138,"edits":[{"text":"\n    INDEX idx_type (document_type),","range":{"startLineNumber":65,"startColumn":1,"endLineNumber":65,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":139,"edits":[{"text":"\n    INDEX idx_status (status),","range":{"startLineNumber":66,"startColumn":1,"endLineNumber":66,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":140,"edits":[{"text":"\n    INDEX idx_expiry (expiry_date)","range":{"startLineNumber":67,"startColumn":1,"endLineNumber":67,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":141,"edits":[{"text":"\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;","range":{"startLineNumber":68,"startColumn":1,"endLineNumber":68,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":142,"edits":[{"text":"\n","range":{"startLineNumber":69,"startColumn":1,"endLineNumber":69,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":143,"edits":[{"text":"\n-- 4. Crear tabla de órdenes de compra","range":{"startLineNumber":70,"startColumn":1,"endLineNumber":70,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":144,"edits":[{"text":"\nCREATE TABLE IF NOT EXISTS supplier_orders (","range":{"startLineNumber":71,"startColumn":1,"endLineNumber":71,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":145,"edits":[{"text":"\n    id INT AUTO_INCREMENT PRIMARY KEY,","range":{"startLineNumber":72,"startColumn":1,"endLineNumber":72,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":146,"edits":[{"text":"\n    supplier_id INT NOT NULL,","range":{"startLineNumber":73,"startColumn":1,"endLineNumber":73,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":147,"edits":[{"text":"\n    order_number VARCHAR(50) NOT NULL UNIQUE,","range":{"startLineNumber":74,"startColumn":1,"endLineNumber":74,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":148,"edits":[{"text":"\n    order_date DATE NOT NULL,","range":{"startLineNumber":75,"startColumn":1,"endLineNumber":75,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":149,"edits":[{"text":"\n    expected_delivery_date DATE,","range":{"startLineNumber":76,"startColumn":1,"endLineNumber":76,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":150,"edits":[{"text":"\n    status ENUM('draft', 'sent', 'confirmed', 'received', 'cancelled') DEFAULT 'draft',","range":{"startLineNumber":77,"startColumn":1,"endLineNumber":77,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":151,"edits":[{"text":"\n    subtotal DECIMAL(10,2) DEFAULT 0.00,","range":{"startLineNumber":78,"startColumn":1,"endLineNumber":78,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":152,"edits":[{"text":"\n    tax_amount DECIMAL(10,2) DEFAULT 0.00,","range":{"startLineNumber":79,"startColumn":1,"endLineNumber":79,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":153,"edits":[{"text":"\n    discount_amount DECIMAL(10,2) DEFAULT 0.00,","range":{"startLineNumber":80,"startColumn":1,"endLineNumber":80,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":154,"edits":[{"text":"\n    total_amount DECIMAL(10,2) DEFAULT 0.00,","range":{"startLineNumber":81,"startColumn":1,"endLineNumber":81,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":155,"edits":[{"text":"\n    notes TEXT,","range":{"startLineNumber":82,"startColumn":1,"endLineNumber":82,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":156,"edits":[{"text":"\n    approved_by INT,","range":{"startLineNumber":83,"startColumn":1,"endLineNumber":83,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":157,"edits":[{"text":"\n    approved_at DATETIME,","range":{"startLineNumber":84,"startColumn":1,"endLineNumber":84,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":158,"edits":[{"text":"\n    created_by INT,","range":{"startLineNumber":85,"startColumn":1,"endLineNumber":85,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":159,"edits":[{"text":"\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,","range":{"startLineNumber":86,"startColumn":1,"endLineNumber":86,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":160,"edits":[{"text":"\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,","range":{"startLineNumber":87,"startColumn":1,"endLineNumber":87,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":161,"edits":[{"text":"\n    FOREIGN KEY (supplier_id) REFERENCES suppliers(id) ON DELETE CASCADE,","range":{"startLineNumber":88,"startColumn":1,"endLineNumber":88,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":162,"edits":[{"text":"\n    FOREIGN KEY (approved_by) REFERENCES users(id) ON DELETE SET NULL,","range":{"startLineNumber":89,"startColumn":1,"endLineNumber":89,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":163,"edits":[{"text":"\n    FOREIGN KEY (created_by) REFERENCES users(id) ON DELETE SET NULL,","range":{"startLineNumber":90,"startColumn":1,"endLineNumber":90,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":164,"edits":[{"text":"\n    INDEX idx_supplier (supplier_id),","range":{"startLineNumber":91,"startColumn":1,"endLineNumber":91,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":165,"edits":[{"text":"\n    INDEX idx_order_number (order_number),","range":{"startLineNumber":92,"startColumn":1,"endLineNumber":92,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":166,"edits":[{"text":"\n    INDEX idx_status (status),","range":{"startLineNumber":93,"startColumn":1,"endLineNumber":93,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":167,"edits":[{"text":"\n    INDEX idx_order_date (order_date)","range":{"startLineNumber":94,"startColumn":1,"endLineNumber":94,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":168,"edits":[{"text":"\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;","range":{"startLineNumber":95,"startColumn":1,"endLineNumber":95,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":169,"edits":[{"text":"\n","range":{"startLineNumber":96,"startColumn":1,"endLineNumber":96,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":170,"edits":[{"text":"\n-- 5. Crear tabla de líneas de órdenes de compra","range":{"startLineNumber":97,"startColumn":1,"endLineNumber":97,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":171,"edits":[{"text":"\nCREATE TABLE IF NOT EXISTS supplier_order_lines (","range":{"startLineNumber":98,"startColumn":1,"endLineNumber":98,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":172,"edits":[{"text":"\n    id INT AUTO_INCREMENT PRIMARY KEY,","range":{"startLineNumber":99,"startColumn":1,"endLineNumber":99,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":173,"edits":[{"text":"\n    order_id INT NOT NULL,","range":{"startLineNumber":100,"startColumn":1,"endLineNumber":100,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":174,"edits":[{"text":"\n    line_number INT NOT NULL,","range":{"startLineNumber":101,"startColumn":1,"endLineNumber":101,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":175,"edits":[{"text":"\n    description VARCHAR(255) NOT NULL,","range":{"startLineNumber":102,"startColumn":1,"endLineNumber":102,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":176,"edits":[{"text":"\n    quantity DECIMAL(10,2) NOT NULL,","range":{"startLineNumber":103,"startColumn":1,"endLineNumber":103,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":177,"edits":[{"text":"\n    unit_price DECIMAL(10,2) NOT NULL,","range":{"startLineNumber":104,"startColumn":1,"endLineNumber":104,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":178,"edits":[{"text":"\n    tax_rate DECIMAL(5,2) DEFAULT 21.00,","range":{"startLineNumber":105,"startColumn":1,"endLineNumber":105,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":179,"edits":[{"text":"\n    discount_rate DECIMAL(5,2) DEFAULT 0.00,","range":{"startLineNumber":106,"startColumn":1,"endLineNumber":106,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":180,"edits":[{"text":"\n    line_total DECIMAL(10,2),","range":{"startLineNumber":107,"startColumn":1,"endLineNumber":107,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":181,"edits":[{"text":"\n    notes TEXT,","range":{"startLineNumber":108,"startColumn":1,"endLineNumber":108,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":182,"edits":[{"text":"\n    FOREIGN KEY (order_id) REFERENCES supplier_orders(id) ON DELETE CASCADE,","range":{"startLineNumber":109,"startColumn":1,"endLineNumber":109,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":183,"edits":[{"text":"\n    INDEX idx_order (order_id)","range":{"startLineNumber":110,"startColumn":1,"endLineNumber":110,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":184,"edits":[{"text":"\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;","range":{"startLineNumber":111,"startColumn":1,"endLineNumber":111,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":185,"edits":[{"text":"\n","range":{"startLineNumber":112,"startColumn":1,"endLineNumber":112,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":186,"edits":[{"text":"\n-- 6. Mejorar tabla supplier_invoices","range":{"startLineNumber":113,"startColumn":1,"endLineNumber":113,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":187,"edits":[{"text":"\nALTER TABLE supplier_invoices","range":{"startLineNumber":114,"startColumn":1,"endLineNumber":114,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":188,"edits":[{"text":"\nADD COLUMN order_id INT AFTER supplier_id,","range":{"startLineNumber":115,"startColumn":1,"endLineNumber":115,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":189,"edits":[{"text":"\nADD COLUMN due_date DATE AFTER invoice_date,","range":{"startLineNumber":116,"startColumn":1,"endLineNumber":116,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":190,"edits":[{"text":"\nADD COLUMN payment_date DATE AFTER due_date,","range":{"startLineNumber":117,"startColumn":1,"endLineNumber":117,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":191,"edits":[{"text":"\nADD COLUMN subtotal DECIMAL(10,2) DEFAULT 0.00 AFTER payment_date,","range":{"startLineNumber":118,"startColumn":1,"endLineNumber":118,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":192,"edits":[{"text":"\nADD COLUMN tax_amount DECIMAL(10,2) DEFAULT 0.00 AFTER subtotal,","range":{"startLineNumber":119,"startColumn":1,"endLineNumber":119,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":193,"edits":[{"text":"\nADD COLUMN discount_amount DECIMAL(10,2) DEFAULT 0.00 AFTER tax_amount,","range":{"startLineNumber":120,"startColumn":1,"endLineNumber":120,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":194,"edits":[{"text":"\nMODIFY COLUMN status ENUM('paid', 'pending', 'overdue', 'cancelled') DEFAULT 'pending',","range":{"startLineNumber":121,"startColumn":1,"endLineNumber":121,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":195,"edits":[{"text":"\nADD COLUMN payment_method ENUM('transfer', 'cash', 'card', 'check', 'other') DEFAULT 'transfer' AFTER status,","range":{"startLineNumber":122,"startColumn":1,"endLineNumber":122,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":196,"edits":[{"text":"\nADD COLUMN bank_reference VARCHAR(100) AFTER payment_method,","range":{"startLineNumber":123,"startColumn":1,"endLineNumber":123,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":197,"edits":[{"text":"\nADD COLUMN tipo_factura ENUM('normal', 'rectificativa', 'abono') DEFAULT 'normal' AFTER bank_reference,","range":{"startLineNumber":124,"startColumn":1,"endLineNumber":124,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":198,"edits":[{"text":"\nADD COLUMN updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP AFTER created_at,","range":{"startLineNumber":125,"startColumn":1,"endLineNumber":125,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":199,"edits":[{"text":"\nADD FOREIGN KEY (order_id) REFERENCES supplier_orders(id) ON DELETE SET NULL,","range":{"startLineNumber":126,"startColumn":1,"endLineNumber":126,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":200,"edits":[{"text":"\nADD INDEX idx_due_date (due_date),","range":{"startLineNumber":127,"startColumn":1,"endLineNumber":127,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":201,"edits":[{"text":"\nADD INDEX idx_status (status);","range":{"startLineNumber":128,"startColumn":1,"endLineNumber":128,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":202,"edits":[{"text":"\n","range":{"startLineNumber":129,"startColumn":1,"endLineNumber":129,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":203,"edits":[{"text":"\n-- 7. Migrar datos existentes","range":{"startLineNumber":130,"startColumn":1,"endLineNumber":130,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":204,"edits":[{"text":"\n-- Copiar datos de contacto de suppliers a la tabla de contactos","range":{"startLineNumber":131,"startColumn":1,"endLineNumber":131,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":205,"edits":[{"text":"\nINSERT INTO supplier_contacts (supplier_id, name, email, phone, is_primary)","range":{"startLineNumber":132,"startColumn":1,"endLineNumber":132,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":206,"edits":[{"text":"\nSELECT id, COALESCE(name, 'Contacto Principal'), email, phone, 1","range":{"startLineNumber":133,"startColumn":1,"endLineNumber":133,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":207,"edits":[{"text":"\nFROM suppliers","range":{"startLineNumber":134,"startColumn":1,"endLineNumber":134,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":208,"edits":[{"text":"\nWHERE email IS NOT NULL OR phone IS NOT NULL;","range":{"startLineNumber":135,"startColumn":1,"endLineNumber":135,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":209,"edits":[{"text":"\n","range":{"startLineNumber":136,"startColumn":1,"endLineNumber":136,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":210,"edits":[{"text":"\n-- 8. Calcular fecha de vencimiento para facturas existentes basándose en payment_terms por defecto","range":{"startLineNumber":137,"startColumn":1,"endLineNumber":137,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":211,"edits":[{"text":"\nUPDATE supplier_invoices si","range":{"startLineNumber":138,"startColumn":1,"endLineNumber":138,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":212,"edits":[{"text":"\nJOIN suppliers s ON si.supplier_id = s.id","range":{"startLineNumber":139,"startColumn":1,"endLineNumber":139,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":213,"edits":[{"text":"\nSET si.due_date = DATE_ADD(si.invoice_date, INTERVAL COALESCE(s.payment_terms, 30) DAY)","range":{"startLineNumber":140,"startColumn":1,"endLineNumber":140,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":214,"edits":[{"text":"\nWHERE si.due_date IS NULL;","range":{"startLineNumber":141,"startColumn":1,"endLineNumber":141,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":215,"edits":[{"text":"\n","range":{"startLineNumber":142,"startColumn":1,"endLineNumber":142,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":216,"edits":[{"text":"\n-- 9. Actualizar subtotales para facturas existentes (asumiendo 21% IVA)","range":{"startLineNumber":143,"startColumn":1,"endLineNumber":143,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":217,"edits":[{"text":"\nUPDATE supplier_invoices","range":{"startLineNumber":144,"startColumn":1,"endLineNumber":144,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":218,"edits":[{"text":"\nSET subtotal = ROUND(amount / 1.21, 2),","range":{"startLineNumber":145,"startColumn":1,"endLineNumber":145,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":219,"edits":[{"text":"\n    tax_amount = ROUND(amount - (amount / 1.21), 2)","range":{"startLineNumber":146,"startColumn":1,"endLineNumber":146,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":220,"edits":[{"text":"\nWHERE subtotal IS NULL OR subtotal = 0;","range":{"startLineNumber":147,"startColumn":1,"endLineNumber":147,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":221,"edits":[{"text":"\n","range":{"startLineNumber":148,"startColumn":1,"endLineNumber":148,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":222,"edits":[{"text":"\n-- 10. Marcar facturas vencidas","range":{"startLineNumber":149,"startColumn":1,"endLineNumber":149,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":223,"edits":[{"text":"\nUPDATE supplier_invoices","range":{"startLineNumber":150,"startColumn":1,"endLineNumber":150,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":224,"edits":[{"text":"\nSET status = 'overdue'","range":{"startLineNumber":151,"startColumn":1,"endLineNumber":151,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":225,"edits":[{"text":"\nWHERE status = 'pending' ","range":{"startLineNumber":152,"startColumn":1,"endLineNumber":152,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":226,"edits":[{"text":"\n  AND due_date < CURDATE();","range":{"startLineNumber":153,"startColumn":1,"endLineNumber":153,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":227,"edits":[{"text":"\n","range":{"startLineNumber":154,"startColumn":1,"endLineNumber":154,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":228,"edits":[{"text":"\n-- Fin de la migración","range":{"startLineNumber":155,"startColumn":1,"endLineNumber":155,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","external":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","path":"/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":229,"edits":[{"text":"\n","range":{"startLineNumber":156,"startColumn":1,"endLineNumber":156,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/Supplier.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/Supplier.php","path":"/root/Documentos/github/GestionSocios/src/Models/Supplier.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":232,"edits":[{"text":"<?php\n\nclass Supplier {\n    private $conn;\n    private $table_name = \"suppliers\";\n\n    public $id;\n    public $name;\n    public $cif_nif;\n    public $tax_id;\n    public $email;\n    public $phone;\n    public $address;\n    public $postal_code;\n    public $city;\n    public $province;\n    public $country;\n    public $website;\n    public $logo_path;\n    public $tipo_proveedor;\n    public $categoria;\n    public $estado;\n    public $payment_terms;\n    public $default_payment_method;\n    public $iban;\n    public $swift;\n    public $bank_name;\n    public $default_discount;\n    public $credit_limit;\n    public $contact_person;\n    public $contact_email;\n    public $contact_phone;\n    public $rating;\n    public $notes;\n    public $created_at;\n    public $updated_at;\n\n    public function __construct($db) {\n        $this->conn = $db;\n    }","range":{"startLineNumber":1,"startColumn":1,"endLineNumber":20,"endColumn":6}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/Supplier.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/Supplier.php","path":"/root/Documentos/github/GestionSocios/src/Models/Supplier.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":234,"edits":[{"text":"    public function create() {\n        $query = \"INSERT INTO \" . $this->table_name . \"\n                SET\n                    name = :name,\n                    cif_nif = :cif_nif,\n                    tax_id = :tax_id,\n                    email = :email,\n                    phone = :phone,\n                    address = :address,\n                    postal_code = :postal_code,\n                    city = :city,\n                    province = :province,\n                    country = :country,\n                    website = :website,\n                    logo_path = :logo_path,\n                    tipo_proveedor = :tipo_proveedor,\n                    categoria = :categoria,\n                    estado = :estado,\n                    payment_terms = :payment_terms,\n                    default_payment_method = :default_payment_method,\n                    iban = :iban,\n                    swift = :swift,\n                    bank_name = :bank_name,\n                    default_discount = :default_discount,\n                    credit_limit = :credit_limit,\n                    contact_person = :contact_person,\n                    contact_email = :contact_email,\n                    contact_phone = :contact_phone,\n                    rating = :rating,\n                    notes = :notes\";\n\n        $stmt = $this->conn->prepare($query);\n\n        // Sanitize\n        $this->name = htmlspecialchars(strip_tags($this->name ?? ''));\n        $this->cif_nif = htmlspecialchars(strip_tags($this->cif_nif ?? ''));\n        $this->tax_id = htmlspecialchars(strip_tags($this->tax_id ?? ''));\n        $this->email = htmlspecialchars(strip_tags($this->email ?? ''));\n        $this->phone = htmlspecialchars(strip_tags($this->phone ?? ''));\n        $this->address = htmlspecialchars(strip_tags($this->address ?? ''));\n        $this->postal_code = htmlspecialchars(strip_tags($this->postal_code ?? ''));\n        $this->city = htmlspecialchars(strip_tags($this->city ?? ''));\n        $this->province = htmlspecialchars(strip_tags($this->province ?? ''));\n        $this->country = htmlspecialchars(strip_tags($this->country ?? 'España'));\n        $this->website = htmlspecialchars(strip_tags($this->website ?? ''));\n        $this->logo_path = htmlspecialchars(strip_tags($this->logo_path ?? ''));\n        $this->tipo_proveedor = htmlspecialchars(strip_tags($this->tipo_proveedor ?? 'servicios'));\n        $this->categoria = htmlspecialchars(strip_tags($this->categoria ?? ''));\n        $this->estado = htmlspecialchars(strip_tags($this->estado ?? 'activo'));\n        $this->payment_terms = intval($this->payment_terms ?? 30);\n        $this->default_payment_method = htmlspecialchars(strip_tags($this->default_payment_method ?? 'transfer'));\n        $this->iban = htmlspecialchars(strip_tags($this->iban ?? ''));\n        $this->swift = htmlspecialchars(strip_tags($this->swift ?? ''));\n        $this->bank_name = htmlspecialchars(strip_tags($this->bank_name ?? ''));\n        $this->default_discount = floatval($this->default_discount ?? 0.00);\n        $this->credit_limit = !empty($this->credit_limit) ? floatval($this->credit_limit) : null;\n        $this->contact_person = htmlspecialchars(strip_tags($this->contact_person ?? ''));\n        $this->contact_email = htmlspecialchars(strip_tags($this->contact_email ?? ''));\n        $this->contact_phone = htmlspecialchars(strip_tags($this->contact_phone ?? ''));\n        $this->rating = !empty($this->rating) ? intval($this->rating) : null;\n        $this->notes = htmlspecialchars(strip_tags($this->notes ?? ''));\n\n        // Bind values\n        $stmt->bindParam(\":name\", $this->name);\n        $stmt->bindParam(\":cif_nif\", $this->cif_nif);\n        $stmt->bindParam(\":tax_id\", $this->tax_id);\n        $stmt->bindParam(\":email\", $this->email);\n        $stmt->bindParam(\":phone\", $this->phone);\n        $stmt->bindParam(\":address\", $this->address);\n        $stmt->bindParam(\":postal_code\", $this->postal_code);\n        $stmt->bindParam(\":city\", $this->city);\n        $stmt->bindParam(\":province\", $this->province);\n        $stmt->bindParam(\":country\", $this->country);\n        $stmt->bindParam(\":website\", $this->website);\n        $stmt->bindParam(\":logo_path\", $this->logo_path);\n        $stmt->bindParam(\":tipo_proveedor\", $this->tipo_proveedor);\n        $stmt->bindParam(\":categoria\", $this->categoria);\n        $stmt->bindParam(\":estado\", $this->estado);\n        $stmt->bindParam(\":payment_terms\", $this->payment_terms);\n        $stmt->bindParam(\":default_payment_method\", $this->default_payment_method);\n        $stmt->bindParam(\":iban\", $this->iban);\n        $stmt->bindParam(\":swift\", $this->swift);\n        $stmt->bindParam(\":bank_name\", $this->bank_name);\n        $stmt->bindParam(\":default_discount\", $this->default_discount);\n        $stmt->bindParam(\":credit_limit\", $this->credit_limit);\n        $stmt->bindParam(\":contact_person\", $this->contact_person);\n        $stmt->bindParam(\":contact_email\", $this->contact_email);\n        $stmt->bindParam(\":contact_phone\", $this->contact_phone);\n        $stmt->bindParam(\":rating\", $this->rating);\n        $stmt->bindParam(\":notes\", $this->notes);\n\n        if ($stmt->execute()) {\n            $this->id = $this->conn->lastInsertId();\n            return true;\n        }\n\n        return false;\n    }","range":{"startLineNumber":42,"startColumn":1,"endLineNumber":82,"endColumn":6}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/Supplier.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/Supplier.php","path":"/root/Documentos/github/GestionSocios/src/Models/Supplier.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":236,"edits":[{"text":"    public function readOne() {\n        $query = \"SELECT * FROM \" . $this->table_name . \" WHERE id = ? LIMIT 0,1\";\n        $stmt = $this->conn->prepare($query);\n        $stmt->bindParam(1, $this->id);\n        $stmt->execute();\n\n        $row = $stmt->fetch(PDO::FETCH_ASSOC);\n\n        if ($row) {\n            $this->name = $row['name'];\n            $this->cif_nif = $row['cif_nif'];\n            $this->tax_id = $row['tax_id'];\n            $this->email = $row['email'];\n            $this->phone = $row['phone'];\n            $this->address = $row['address'];\n            $this->postal_code = $row['postal_code'];\n            $this->city = $row['city'];\n            $this->province = $row['province'];\n            $this->country = $row['country'];\n            $this->website = $row['website'];\n            $this->logo_path = $row['logo_path'];\n            $this->tipo_proveedor = $row['tipo_proveedor'];\n            $this->categoria = $row['categoria'];\n            $this->estado = $row['estado'];\n            $this->payment_terms = $row['payment_terms'];\n            $this->default_payment_method = $row['default_payment_method'];\n            $this->iban = $row['iban'];\n            $this->swift = $row['swift'];\n            $this->bank_name = $row['bank_name'];\n            $this->default_discount = $row['default_discount'];\n            $this->credit_limit = $row['credit_limit'];\n            $this->contact_person = $row['contact_person'];\n            $this->contact_email = $row['contact_email'];\n            $this->contact_phone = $row['contact_phone'];\n            $this->rating = $row['rating'];\n            $this->notes = $row['notes'];\n            $this->created_at = $row['created_at'];\n            $this->updated_at = $row['updated_at'];\n            return true;\n        }\n\n        return false;\n    }","range":{"startLineNumber":148,"startColumn":1,"endLineNumber":170,"endColumn":6}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/Supplier.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/Supplier.php","path":"/root/Documentos/github/GestionSocios/src/Models/Supplier.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":238,"edits":[{"text":"    public function update() {\n        $query = \"UPDATE \" . $this->table_name . \"\n                SET\n                    name = :name,\n                    cif_nif = :cif_nif,\n                    tax_id = :tax_id,\n                    email = :email,\n                    phone = :phone,\n                    address = :address,\n                    postal_code = :postal_code,\n                    city = :city,\n                    province = :province,\n                    country = :country,\n                    website = :website,\n                    logo_path = :logo_path,\n                    tipo_proveedor = :tipo_proveedor,\n                    categoria = :categoria,\n                    estado = :estado,\n                    payment_terms = :payment_terms,\n                    default_payment_method = :default_payment_method,\n                    iban = :iban,\n                    swift = :swift,\n                    bank_name = :bank_name,\n                    default_discount = :default_discount,\n                    credit_limit = :credit_limit,\n                    contact_person = :contact_person,\n                    contact_email = :contact_email,\n                    contact_phone = :contact_phone,\n                    rating = :rating,\n                    notes = :notes\n                WHERE id = :id\";\n\n        $stmt = $this->conn->prepare($query);\n\n        // Sanitize\n        $this->name = htmlspecialchars(strip_tags($this->name ?? ''));\n        $this->cif_nif = htmlspecialchars(strip_tags($this->cif_nif ?? ''));\n        $this->tax_id = htmlspecialchars(strip_tags($this->tax_id ?? ''));\n        $this->email = htmlspecialchars(strip_tags($this->email ?? ''));\n        $this->phone = htmlspecialchars(strip_tags($this->phone ?? ''));\n        $this->address = htmlspecialchars(strip_tags($this->address ?? ''));\n        $this->postal_code = htmlspecialchars(strip_tags($this->postal_code ?? ''));\n        $this->city = htmlspecialchars(strip_tags($this->city ?? ''));\n        $this->province = htmlspecialchars(strip_tags($this->province ?? ''));\n        $this->country = htmlspecialchars(strip_tags($this->country ?? 'España'));\n        $this->website = htmlspecialchars(strip_tags($this->website ?? ''));\n        $this->logo_path = htmlspecialchars(strip_tags($this->logo_path ?? ''));\n        $this->tipo_proveedor = htmlspecialchars(strip_tags($this->tipo_proveedor ?? 'servicios'));\n        $this->categoria = htmlspecialchars(strip_tags($this->categoria ?? ''));\n        $this->estado = htmlspecialchars(strip_tags($this->estado ?? 'activo'));\n        $this->payment_terms = intval($this->payment_terms ?? 30);\n        $this->default_payment_method = htmlspecialchars(strip_tags($this->default_payment_method ?? 'transfer'));\n        $this->iban = htmlspecialchars(strip_tags($this->iban ?? ''));\n        $this->swift = htmlspecialchars(strip_tags($this->swift ?? ''));\n        $this->bank_name = htmlspecialchars(strip_tags($this->bank_name ?? ''));\n        $this->default_discount = floatval($this->default_discount ?? 0.00);\n        $this->credit_limit = !empty($this->credit_limit) ? floatval($this->credit_limit) : null;\n        $this->contact_person = htmlspecialchars(strip_tags($this->contact_person ?? ''));\n        $this->contact_email = htmlspecialchars(strip_tags($this->contact_email ?? ''));\n        $this->contact_phone = htmlspecialchars(strip_tags($this->contact_phone ?? ''));\n        $this->rating = !empty($this->rating) ? intval($this->rating) : null;\n        $this->notes = htmlspecialchars(strip_tags($this->notes ?? ''));\n        $this->id = htmlspecialchars(strip_tags($this->id ?? ''));\n\n        // Bind values\n        $stmt->bindParam(\":name\", $this->name);\n        $stmt->bindParam(\":cif_nif\", $this->cif_nif);\n        $stmt->bindParam(\":tax_id\", $this->tax_id);\n        $stmt->bindParam(\":email\", $this->email);\n        $stmt->bindParam(\":phone\", $this->phone);\n        $stmt->bindParam(\":address\", $this->address);\n        $stmt->bindParam(\":postal_code\", $this->postal_code);\n        $stmt->bindParam(\":city\", $this->city);\n        $stmt->bindParam(\":province\", $this->province);\n        $stmt->bindParam(\":country\", $this->country);\n        $stmt->bindParam(\":website\", $this->website);\n        $stmt->bindParam(\":logo_path\", $this->logo_path);\n        $stmt->bindParam(\":tipo_proveedor\", $this->tipo_proveedor);\n        $stmt->bindParam(\":categoria\", $this->categoria);\n        $stmt->bindParam(\":estado\", $this->estado);\n        $stmt->bindParam(\":payment_terms\", $this->payment_terms);\n        $stmt->bindParam(\":default_payment_method\", $this->default_payment_method);\n        $stmt->bindParam(\":iban\", $this->iban);\n        $stmt->bindParam(\":swift\", $this->swift);\n        $stmt->bindParam(\":bank_name\", $this->bank_name);\n        $stmt->bindParam(\":default_discount\", $this->default_discount);\n        $stmt->bindParam(\":credit_limit\", $this->credit_limit);\n        $stmt->bindParam(\":contact_person\", $this->contact_person);\n        $stmt->bindParam(\":contact_email\", $this->contact_email);\n        $stmt->bindParam(\":contact_phone\", $this->contact_phone);\n        $stmt->bindParam(\":rating\", $this->rating);\n        $stmt->bindParam(\":notes\", $this->notes);\n        $stmt->bindParam(\":id\", $this->id);\n\n        if ($stmt->execute()) {\n            return true;\n        }\n\n        return false;\n    }","range":{"startLineNumber":192,"startColumn":1,"endLineNumber":234,"endColumn":6}}]},{"type":"create","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":239,"initialContent":"","telemetryInfo":{}},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":241,"edits":[{"text":"<?php","range":{"startLineNumber":1,"startColumn":1,"endLineNumber":1,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":242,"edits":[{"text":"\n","range":{"startLineNumber":2,"startColumn":1,"endLineNumber":2,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":243,"edits":[{"text":"\nclass SupplierContact {","range":{"startLineNumber":3,"startColumn":1,"endLineNumber":3,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":244,"edits":[{"text":"\n    private $conn;","range":{"startLineNumber":4,"startColumn":1,"endLineNumber":4,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":245,"edits":[{"text":"\n    private $table_name = \"supplier_contacts\";","range":{"startLineNumber":5,"startColumn":1,"endLineNumber":5,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":246,"edits":[{"text":"\n","range":{"startLineNumber":6,"startColumn":1,"endLineNumber":6,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":247,"edits":[{"text":"\n    public $id;","range":{"startLineNumber":7,"startColumn":1,"endLineNumber":7,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":248,"edits":[{"text":"\n    public $supplier_id;","range":{"startLineNumber":8,"startColumn":1,"endLineNumber":8,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":249,"edits":[{"text":"\n    public $name;","range":{"startLineNumber":9,"startColumn":1,"endLineNumber":9,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":250,"edits":[{"text":"\n    public $position;","range":{"startLineNumber":10,"startColumn":1,"endLineNumber":10,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":251,"edits":[{"text":"\n    public $email;","range":{"startLineNumber":11,"startColumn":1,"endLineNumber":11,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":252,"edits":[{"text":"\n    public $phone;","range":{"startLineNumber":12,"startColumn":1,"endLineNumber":12,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":253,"edits":[{"text":"\n    public $mobile;","range":{"startLineNumber":13,"startColumn":1,"endLineNumber":13,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":254,"edits":[{"text":"\n    public $is_primary;","range":{"startLineNumber":14,"startColumn":1,"endLineNumber":14,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":255,"edits":[{"text":"\n    public $notes;","range":{"startLineNumber":15,"startColumn":1,"endLineNumber":15,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":256,"edits":[{"text":"\n    public $created_at;","range":{"startLineNumber":16,"startColumn":1,"endLineNumber":16,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":257,"edits":[{"text":"\n","range":{"startLineNumber":17,"startColumn":1,"endLineNumber":17,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":258,"edits":[{"text":"\n    public function __construct($db) {","range":{"startLineNumber":18,"startColumn":1,"endLineNumber":18,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":259,"edits":[{"text":"\n        $this->conn = $db;","range":{"startLineNumber":19,"startColumn":1,"endLineNumber":19,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":260,"edits":[{"text":"\n    }","range":{"startLineNumber":20,"startColumn":1,"endLineNumber":20,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":261,"edits":[{"text":"\n","range":{"startLineNumber":21,"startColumn":1,"endLineNumber":21,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":262,"edits":[{"text":"\n    public function create() {","range":{"startLineNumber":22,"startColumn":1,"endLineNumber":22,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":263,"edits":[{"text":"\n        $query = \"INSERT INTO \" . $this->table_name . \"","range":{"startLineNumber":23,"startColumn":1,"endLineNumber":23,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":264,"edits":[{"text":"\n                SET","range":{"startLineNumber":24,"startColumn":1,"endLineNumber":24,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":265,"edits":[{"text":"\n                    supplier_id = :supplier_id,","range":{"startLineNumber":25,"startColumn":1,"endLineNumber":25,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":266,"edits":[{"text":"\n                    name = :name,","range":{"startLineNumber":26,"startColumn":1,"endLineNumber":26,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":267,"edits":[{"text":"\n                    position = :position,","range":{"startLineNumber":27,"startColumn":1,"endLineNumber":27,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":268,"edits":[{"text":"\n                    email = :email,","range":{"startLineNumber":28,"startColumn":1,"endLineNumber":28,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":269,"edits":[{"text":"\n                    phone = :phone,","range":{"startLineNumber":29,"startColumn":1,"endLineNumber":29,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":270,"edits":[{"text":"\n                    mobile = :mobile,","range":{"startLineNumber":30,"startColumn":1,"endLineNumber":30,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":271,"edits":[{"text":"\n                    is_primary = :is_primary,","range":{"startLineNumber":31,"startColumn":1,"endLineNumber":31,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":272,"edits":[{"text":"\n                    notes = :notes\";","range":{"startLineNumber":32,"startColumn":1,"endLineNumber":32,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":273,"edits":[{"text":"\n","range":{"startLineNumber":33,"startColumn":1,"endLineNumber":33,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":274,"edits":[{"text":"\n        $stmt = $this->conn->prepare($query);","range":{"startLineNumber":34,"startColumn":1,"endLineNumber":34,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":275,"edits":[{"text":"\n","range":{"startLineNumber":35,"startColumn":1,"endLineNumber":35,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":276,"edits":[{"text":"\n        // Sanitize","range":{"startLineNumber":36,"startColumn":1,"endLineNumber":36,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":277,"edits":[{"text":"\n        $this->supplier_id = intval($this->supplier_id);","range":{"startLineNumber":37,"startColumn":1,"endLineNumber":37,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":278,"edits":[{"text":"\n        $this->name = htmlspecialchars(strip_tags($this->name ?? ''));","range":{"startLineNumber":38,"startColumn":1,"endLineNumber":38,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":279,"edits":[{"text":"\n        $this->position = htmlspecialchars(strip_tags($this->position ?? ''));","range":{"startLineNumber":39,"startColumn":1,"endLineNumber":39,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":280,"edits":[{"text":"\n        $this->email = htmlspecialchars(strip_tags($this->email ?? ''));","range":{"startLineNumber":40,"startColumn":1,"endLineNumber":40,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":281,"edits":[{"text":"\n        $this->phone = htmlspecialchars(strip_tags($this->phone ?? ''));","range":{"startLineNumber":41,"startColumn":1,"endLineNumber":41,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":282,"edits":[{"text":"\n        $this->mobile = htmlspecialchars(strip_tags($this->mobile ?? ''));","range":{"startLineNumber":42,"startColumn":1,"endLineNumber":42,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":283,"edits":[{"text":"\n        $this->is_primary = intval($this->is_primary ?? 0);","range":{"startLineNumber":43,"startColumn":1,"endLineNumber":43,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":284,"edits":[{"text":"\n        $this->notes = htmlspecialchars(strip_tags($this->notes ?? ''));","range":{"startLineNumber":44,"startColumn":1,"endLineNumber":44,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":285,"edits":[{"text":"\n","range":{"startLineNumber":45,"startColumn":1,"endLineNumber":45,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":286,"edits":[{"text":"\n        // Bind values","range":{"startLineNumber":46,"startColumn":1,"endLineNumber":46,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":287,"edits":[{"text":"\n        $stmt->bindParam(\":supplier_id\", $this->supplier_id);","range":{"startLineNumber":47,"startColumn":1,"endLineNumber":47,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":288,"edits":[{"text":"\n        $stmt->bindParam(\":name\", $this->name);","range":{"startLineNumber":48,"startColumn":1,"endLineNumber":48,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":289,"edits":[{"text":"\n        $stmt->bindParam(\":position\", $this->position);","range":{"startLineNumber":49,"startColumn":1,"endLineNumber":49,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":290,"edits":[{"text":"\n        $stmt->bindParam(\":email\", $this->email);","range":{"startLineNumber":50,"startColumn":1,"endLineNumber":50,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":291,"edits":[{"text":"\n        $stmt->bindParam(\":phone\", $this->phone);","range":{"startLineNumber":51,"startColumn":1,"endLineNumber":51,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":292,"edits":[{"text":"\n        $stmt->bindParam(\":mobile\", $this->mobile);","range":{"startLineNumber":52,"startColumn":1,"endLineNumber":52,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":293,"edits":[{"text":"\n        $stmt->bindParam(\":is_primary\", $this->is_primary);","range":{"startLineNumber":53,"startColumn":1,"endLineNumber":53,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":294,"edits":[{"text":"\n        $stmt->bindParam(\":notes\", $this->notes);","range":{"startLineNumber":54,"startColumn":1,"endLineNumber":54,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":295,"edits":[{"text":"\n","range":{"startLineNumber":55,"startColumn":1,"endLineNumber":55,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":296,"edits":[{"text":"\n        if ($stmt->execute()) {","range":{"startLineNumber":56,"startColumn":1,"endLineNumber":56,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":297,"edits":[{"text":"\n            $this->id = $this->conn->lastInsertId();","range":{"startLineNumber":57,"startColumn":1,"endLineNumber":57,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":298,"edits":[{"text":"\n            ","range":{"startLineNumber":58,"startColumn":1,"endLineNumber":58,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":299,"edits":[{"text":"\n            // Si es contacto principal, quitar el flag de otros contactos","range":{"startLineNumber":59,"startColumn":1,"endLineNumber":59,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":300,"edits":[{"text":"\n            if ($this->is_primary) {","range":{"startLineNumber":60,"startColumn":1,"endLineNumber":60,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":301,"edits":[{"text":"\n                $updateQuery = \"UPDATE \" . $this->table_name . \" ","range":{"startLineNumber":61,"startColumn":1,"endLineNumber":61,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":302,"edits":[{"text":"\n                               SET is_primary = 0 ","range":{"startLineNumber":62,"startColumn":1,"endLineNumber":62,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":303,"edits":[{"text":"\n                               WHERE supplier_id = :supplier_id AND id != :id\";","range":{"startLineNumber":63,"startColumn":1,"endLineNumber":63,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":304,"edits":[{"text":"\n                $updateStmt = $this->conn->prepare($updateQuery);","range":{"startLineNumber":64,"startColumn":1,"endLineNumber":64,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":305,"edits":[{"text":"\n                $updateStmt->bindParam(\":supplier_id\", $this->supplier_id);","range":{"startLineNumber":65,"startColumn":1,"endLineNumber":65,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":306,"edits":[{"text":"\n                $updateStmt->bindParam(\":id\", $this->id);","range":{"startLineNumber":66,"startColumn":1,"endLineNumber":66,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":307,"edits":[{"text":"\n                $updateStmt->execute();","range":{"startLineNumber":67,"startColumn":1,"endLineNumber":67,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":308,"edits":[{"text":"\n            }","range":{"startLineNumber":68,"startColumn":1,"endLineNumber":68,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":309,"edits":[{"text":"\n            ","range":{"startLineNumber":69,"startColumn":1,"endLineNumber":69,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":310,"edits":[{"text":"\n            return true;","range":{"startLineNumber":70,"startColumn":1,"endLineNumber":70,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":311,"edits":[{"text":"\n        }","range":{"startLineNumber":71,"startColumn":1,"endLineNumber":71,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":312,"edits":[{"text":"\n","range":{"startLineNumber":72,"startColumn":1,"endLineNumber":72,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":313,"edits":[{"text":"\n        return false;","range":{"startLineNumber":73,"startColumn":1,"endLineNumber":73,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":314,"edits":[{"text":"\n    }","range":{"startLineNumber":74,"startColumn":1,"endLineNumber":74,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":315,"edits":[{"text":"\n","range":{"startLineNumber":75,"startColumn":1,"endLineNumber":75,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":316,"edits":[{"text":"\n    public function readBySupplierId($supplier_id) {","range":{"startLineNumber":76,"startColumn":1,"endLineNumber":76,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":317,"edits":[{"text":"\n        $query = \"SELECT * FROM \" . $this->table_name . \" ","range":{"startLineNumber":77,"startColumn":1,"endLineNumber":77,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":318,"edits":[{"text":"\n                 WHERE supplier_id = :supplier_id ","range":{"startLineNumber":78,"startColumn":1,"endLineNumber":78,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":319,"edits":[{"text":"\n                 ORDER BY is_primary DESC, name ASC\";","range":{"startLineNumber":79,"startColumn":1,"endLineNumber":79,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":320,"edits":[{"text":"\n        ","range":{"startLineNumber":80,"startColumn":1,"endLineNumber":80,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":321,"edits":[{"text":"\n        $stmt = $this->conn->prepare($query);","range":{"startLineNumber":81,"startColumn":1,"endLineNumber":81,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":322,"edits":[{"text":"\n        $stmt->bindParam(':supplier_id', $supplier_id);","range":{"startLineNumber":82,"startColumn":1,"endLineNumber":82,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":323,"edits":[{"text":"\n        $stmt->execute();","range":{"startLineNumber":83,"startColumn":1,"endLineNumber":83,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":324,"edits":[{"text":"\n        ","range":{"startLineNumber":84,"startColumn":1,"endLineNumber":84,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":325,"edits":[{"text":"\n        return $stmt;","range":{"startLineNumber":85,"startColumn":1,"endLineNumber":85,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":326,"edits":[{"text":"\n    }","range":{"startLineNumber":86,"startColumn":1,"endLineNumber":86,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":327,"edits":[{"text":"\n","range":{"startLineNumber":87,"startColumn":1,"endLineNumber":87,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":328,"edits":[{"text":"\n    public function readOne() {","range":{"startLineNumber":88,"startColumn":1,"endLineNumber":88,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":329,"edits":[{"text":"\n        $query = \"SELECT * FROM \" . $this->table_name . \" WHERE id = ? LIMIT 0,1\";","range":{"startLineNumber":89,"startColumn":1,"endLineNumber":89,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":330,"edits":[{"text":"\n        $stmt = $this->conn->prepare($query);","range":{"startLineNumber":90,"startColumn":1,"endLineNumber":90,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":331,"edits":[{"text":"\n        $stmt->bindParam(1, $this->id);","range":{"startLineNumber":91,"startColumn":1,"endLineNumber":91,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":332,"edits":[{"text":"\n        $stmt->execute();","range":{"startLineNumber":92,"startColumn":1,"endLineNumber":92,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":333,"edits":[{"text":"\n","range":{"startLineNumber":93,"startColumn":1,"endLineNumber":93,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":334,"edits":[{"text":"\n        $row = $stmt->fetch(PDO::FETCH_ASSOC);","range":{"startLineNumber":94,"startColumn":1,"endLineNumber":94,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":335,"edits":[{"text":"\n","range":{"startLineNumber":95,"startColumn":1,"endLineNumber":95,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":336,"edits":[{"text":"\n        if ($row) {","range":{"startLineNumber":96,"startColumn":1,"endLineNumber":96,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":337,"edits":[{"text":"\n            $this->supplier_id = $row['supplier_id'];","range":{"startLineNumber":97,"startColumn":1,"endLineNumber":97,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":338,"edits":[{"text":"\n            $this->name = $row['name'];","range":{"startLineNumber":98,"startColumn":1,"endLineNumber":98,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":339,"edits":[{"text":"\n            $this->position = $row['position'];","range":{"startLineNumber":99,"startColumn":1,"endLineNumber":99,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":340,"edits":[{"text":"\n            $this->email = $row['email'];","range":{"startLineNumber":100,"startColumn":1,"endLineNumber":100,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":341,"edits":[{"text":"\n            $this->phone = $row['phone'];","range":{"startLineNumber":101,"startColumn":1,"endLineNumber":101,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":342,"edits":[{"text":"\n            $this->mobile = $row['mobile'];","range":{"startLineNumber":102,"startColumn":1,"endLineNumber":102,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":343,"edits":[{"text":"\n            $this->is_primary = $row['is_primary'];","range":{"startLineNumber":103,"startColumn":1,"endLineNumber":103,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":344,"edits":[{"text":"\n            $this->notes = $row['notes'];","range":{"startLineNumber":104,"startColumn":1,"endLineNumber":104,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":345,"edits":[{"text":"\n            $this->created_at = $row['created_at'];","range":{"startLineNumber":105,"startColumn":1,"endLineNumber":105,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":346,"edits":[{"text":"\n            return true;","range":{"startLineNumber":106,"startColumn":1,"endLineNumber":106,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":347,"edits":[{"text":"\n        }","range":{"startLineNumber":107,"startColumn":1,"endLineNumber":107,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":348,"edits":[{"text":"\n","range":{"startLineNumber":108,"startColumn":1,"endLineNumber":108,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":349,"edits":[{"text":"\n        return false;","range":{"startLineNumber":109,"startColumn":1,"endLineNumber":109,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":350,"edits":[{"text":"\n    }","range":{"startLineNumber":110,"startColumn":1,"endLineNumber":110,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":351,"edits":[{"text":"\n","range":{"startLineNumber":111,"startColumn":1,"endLineNumber":111,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":352,"edits":[{"text":"\n    public function update() {","range":{"startLineNumber":112,"startColumn":1,"endLineNumber":112,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":353,"edits":[{"text":"\n        $query = \"UPDATE \" . $this->table_name . \"","range":{"startLineNumber":113,"startColumn":1,"endLineNumber":113,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":354,"edits":[{"text":"\n                SET","range":{"startLineNumber":114,"startColumn":1,"endLineNumber":114,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":355,"edits":[{"text":"\n                    name = :name,","range":{"startLineNumber":115,"startColumn":1,"endLineNumber":115,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":356,"edits":[{"text":"\n                    position = :position,","range":{"startLineNumber":116,"startColumn":1,"endLineNumber":116,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":357,"edits":[{"text":"\n                    email = :email,","range":{"startLineNumber":117,"startColumn":1,"endLineNumber":117,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":358,"edits":[{"text":"\n                    phone = :phone,","range":{"startLineNumber":118,"startColumn":1,"endLineNumber":118,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":359,"edits":[{"text":"\n                    mobile = :mobile,","range":{"startLineNumber":119,"startColumn":1,"endLineNumber":119,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":360,"edits":[{"text":"\n                    is_primary = :is_primary,","range":{"startLineNumber":120,"startColumn":1,"endLineNumber":120,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":361,"edits":[{"text":"\n                    notes = :notes","range":{"startLineNumber":121,"startColumn":1,"endLineNumber":121,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":362,"edits":[{"text":"\n                WHERE id = :id\";","range":{"startLineNumber":122,"startColumn":1,"endLineNumber":122,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":363,"edits":[{"text":"\n","range":{"startLineNumber":123,"startColumn":1,"endLineNumber":123,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":364,"edits":[{"text":"\n        $stmt = $this->conn->prepare($query);","range":{"startLineNumber":124,"startColumn":1,"endLineNumber":124,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":365,"edits":[{"text":"\n","range":{"startLineNumber":125,"startColumn":1,"endLineNumber":125,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":366,"edits":[{"text":"\n        // Sanitize","range":{"startLineNumber":126,"startColumn":1,"endLineNumber":126,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":367,"edits":[{"text":"\n        $this->name = htmlspecialchars(strip_tags($this->name ?? ''));","range":{"startLineNumber":127,"startColumn":1,"endLineNumber":127,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":368,"edits":[{"text":"\n        $this->position = htmlspecialchars(strip_tags($this->position ?? ''));","range":{"startLineNumber":128,"startColumn":1,"endLineNumber":128,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":369,"edits":[{"text":"\n        $this->email = htmlspecialchars(strip_tags($this->email ?? ''));","range":{"startLineNumber":129,"startColumn":1,"endLineNumber":129,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":370,"edits":[{"text":"\n        $this->phone = htmlspecialchars(strip_tags($this->phone ?? ''));","range":{"startLineNumber":130,"startColumn":1,"endLineNumber":130,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":371,"edits":[{"text":"\n        $this->mobile = htmlspecialchars(strip_tags($this->mobile ?? ''));","range":{"startLineNumber":131,"startColumn":1,"endLineNumber":131,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":372,"edits":[{"text":"\n        $this->is_primary = intval($this->is_primary ?? 0);","range":{"startLineNumber":132,"startColumn":1,"endLineNumber":132,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":373,"edits":[{"text":"\n        $this->notes = htmlspecialchars(strip_tags($this->notes ?? ''));","range":{"startLineNumber":133,"startColumn":1,"endLineNumber":133,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":374,"edits":[{"text":"\n        $this->id = intval($this->id);","range":{"startLineNumber":134,"startColumn":1,"endLineNumber":134,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":375,"edits":[{"text":"\n","range":{"startLineNumber":135,"startColumn":1,"endLineNumber":135,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":376,"edits":[{"text":"\n        // Bind values","range":{"startLineNumber":136,"startColumn":1,"endLineNumber":136,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":377,"edits":[{"text":"\n        $stmt->bindParam(\":name\", $this->name);","range":{"startLineNumber":137,"startColumn":1,"endLineNumber":137,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":378,"edits":[{"text":"\n        $stmt->bindParam(\":position\", $this->position);","range":{"startLineNumber":138,"startColumn":1,"endLineNumber":138,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":379,"edits":[{"text":"\n        $stmt->bindParam(\":email\", $this->email);","range":{"startLineNumber":139,"startColumn":1,"endLineNumber":139,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":380,"edits":[{"text":"\n        $stmt->bindParam(\":phone\", $this->phone);","range":{"startLineNumber":140,"startColumn":1,"endLineNumber":140,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":381,"edits":[{"text":"\n        $stmt->bindParam(\":mobile\", $this->mobile);","range":{"startLineNumber":141,"startColumn":1,"endLineNumber":141,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":382,"edits":[{"text":"\n        $stmt->bindParam(\":is_primary\", $this->is_primary);","range":{"startLineNumber":142,"startColumn":1,"endLineNumber":142,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":383,"edits":[{"text":"\n        $stmt->bindParam(\":notes\", $this->notes);","range":{"startLineNumber":143,"startColumn":1,"endLineNumber":143,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":384,"edits":[{"text":"\n        $stmt->bindParam(\":id\", $this->id);","range":{"startLineNumber":144,"startColumn":1,"endLineNumber":144,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":385,"edits":[{"text":"\n","range":{"startLineNumber":145,"startColumn":1,"endLineNumber":145,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":386,"edits":[{"text":"\n        if ($stmt->execute()) {","range":{"startLineNumber":146,"startColumn":1,"endLineNumber":146,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":387,"edits":[{"text":"\n            // Si es contacto principal, quitar el flag de otros contactos","range":{"startLineNumber":147,"startColumn":1,"endLineNumber":147,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":388,"edits":[{"text":"\n            if ($this->is_primary) {","range":{"startLineNumber":148,"startColumn":1,"endLineNumber":148,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":389,"edits":[{"text":"\n                $updateQuery = \"UPDATE \" . $this->table_name . \" ","range":{"startLineNumber":149,"startColumn":1,"endLineNumber":149,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":390,"edits":[{"text":"\n                               SET is_primary = 0 ","range":{"startLineNumber":150,"startColumn":1,"endLineNumber":150,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":391,"edits":[{"text":"\n                               WHERE supplier_id = :supplier_id AND id != :id\";","range":{"startLineNumber":151,"startColumn":1,"endLineNumber":151,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":392,"edits":[{"text":"\n                $updateStmt = $this->conn->prepare($updateQuery);","range":{"startLineNumber":152,"startColumn":1,"endLineNumber":152,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":393,"edits":[{"text":"\n                $updateStmt->bindParam(\":supplier_id\", $this->supplier_id);","range":{"startLineNumber":153,"startColumn":1,"endLineNumber":153,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":394,"edits":[{"text":"\n                $updateStmt->bindParam(\":id\", $this->id);","range":{"startLineNumber":154,"startColumn":1,"endLineNumber":154,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":395,"edits":[{"text":"\n                $updateStmt->execute();","range":{"startLineNumber":155,"startColumn":1,"endLineNumber":155,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":396,"edits":[{"text":"\n            }","range":{"startLineNumber":156,"startColumn":1,"endLineNumber":156,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":397,"edits":[{"text":"\n            return true;","range":{"startLineNumber":157,"startColumn":1,"endLineNumber":157,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":398,"edits":[{"text":"\n        }","range":{"startLineNumber":158,"startColumn":1,"endLineNumber":158,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":399,"edits":[{"text":"\n","range":{"startLineNumber":159,"startColumn":1,"endLineNumber":159,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":400,"edits":[{"text":"\n        return false;","range":{"startLineNumber":160,"startColumn":1,"endLineNumber":160,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":401,"edits":[{"text":"\n    }","range":{"startLineNumber":161,"startColumn":1,"endLineNumber":161,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":402,"edits":[{"text":"\n","range":{"startLineNumber":162,"startColumn":1,"endLineNumber":162,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":403,"edits":[{"text":"\n    public function delete() {","range":{"startLineNumber":163,"startColumn":1,"endLineNumber":163,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":404,"edits":[{"text":"\n        $query = \"DELETE FROM \" . $this->table_name . \" WHERE id = ?\";","range":{"startLineNumber":164,"startColumn":1,"endLineNumber":164,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":405,"edits":[{"text":"\n        $stmt = $this->conn->prepare($query);","range":{"startLineNumber":165,"startColumn":1,"endLineNumber":165,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":406,"edits":[{"text":"\n        $this->id = intval($this->id);","range":{"startLineNumber":166,"startColumn":1,"endLineNumber":166,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":407,"edits":[{"text":"\n        $stmt->bindParam(1, $this->id);","range":{"startLineNumber":167,"startColumn":1,"endLineNumber":167,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":408,"edits":[{"text":"\n","range":{"startLineNumber":168,"startColumn":1,"endLineNumber":168,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":409,"edits":[{"text":"\n        if ($stmt->execute()) {","range":{"startLineNumber":169,"startColumn":1,"endLineNumber":169,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":410,"edits":[{"text":"\n            return true;","range":{"startLineNumber":170,"startColumn":1,"endLineNumber":170,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":411,"edits":[{"text":"\n        }","range":{"startLineNumber":171,"startColumn":1,"endLineNumber":171,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":412,"edits":[{"text":"\n","range":{"startLineNumber":172,"startColumn":1,"endLineNumber":172,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":413,"edits":[{"text":"\n        return false;","range":{"startLineNumber":173,"startColumn":1,"endLineNumber":173,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":414,"edits":[{"text":"\n    }","range":{"startLineNumber":174,"startColumn":1,"endLineNumber":174,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":415,"edits":[{"text":"\n}","range":{"startLineNumber":175,"startColumn":1,"endLineNumber":175,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":416,"edits":[{"text":"\n?>","range":{"startLineNumber":176,"startColumn":1,"endLineNumber":176,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":417,"edits":[{"text":"\n","range":{"startLineNumber":177,"startColumn":1,"endLineNumber":177,"endColumn":1}}]},{"type":"create","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":418,"initialContent":"","telemetryInfo":{}},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":420,"edits":[{"text":"<?php","range":{"startLineNumber":1,"startColumn":1,"endLineNumber":1,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":421,"edits":[{"text":"\n","range":{"startLineNumber":2,"startColumn":1,"endLineNumber":2,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":422,"edits":[{"text":"\nclass SupplierDocument {","range":{"startLineNumber":3,"startColumn":1,"endLineNumber":3,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":423,"edits":[{"text":"\n    private $conn;","range":{"startLineNumber":4,"startColumn":1,"endLineNumber":4,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":424,"edits":[{"text":"\n    private $table_name = \"supplier_documents\";","range":{"startLineNumber":5,"startColumn":1,"endLineNumber":5,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":425,"edits":[{"text":"\n","range":{"startLineNumber":6,"startColumn":1,"endLineNumber":6,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":426,"edits":[{"text":"\n    public $id;","range":{"startLineNumber":7,"startColumn":1,"endLineNumber":7,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":427,"edits":[{"text":"\n    public $supplier_id;","range":{"startLineNumber":8,"startColumn":1,"endLineNumber":8,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":428,"edits":[{"text":"\n    public $document_id; // Referencia al gestor documental si existe","range":{"startLineNumber":9,"startColumn":1,"endLineNumber":9,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":429,"edits":[{"text":"\n    public $document_type;","range":{"startLineNumber":10,"startColumn":1,"endLineNumber":10,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":430,"edits":[{"text":"\n    public $name;","range":{"startLineNumber":11,"startColumn":1,"endLineNumber":11,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":431,"edits":[{"text":"\n    public $file_path;","range":{"startLineNumber":12,"startColumn":1,"endLineNumber":12,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":432,"edits":[{"text":"\n    public $description;","range":{"startLineNumber":13,"startColumn":1,"endLineNumber":13,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":433,"edits":[{"text":"\n    public $upload_date;","range":{"startLineNumber":14,"startColumn":1,"endLineNumber":14,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":434,"edits":[{"text":"\n    public $expiry_date;","range":{"startLineNumber":15,"startColumn":1,"endLineNumber":15,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":435,"edits":[{"text":"\n    public $status;","range":{"startLineNumber":16,"startColumn":1,"endLineNumber":16,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":436,"edits":[{"text":"\n    public $tags;","range":{"startLineNumber":17,"startColumn":1,"endLineNumber":17,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":437,"edits":[{"text":"\n    public $uploaded_by;","range":{"startLineNumber":18,"startColumn":1,"endLineNumber":18,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":438,"edits":[{"text":"\n    public $created_at;","range":{"startLineNumber":19,"startColumn":1,"endLineNumber":19,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":439,"edits":[{"text":"\n","range":{"startLineNumber":20,"startColumn":1,"endLineNumber":20,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":440,"edits":[{"text":"\n    public function __construct($db) {","range":{"startLineNumber":21,"startColumn":1,"endLineNumber":21,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":441,"edits":[{"text":"\n        $this->conn = $db;","range":{"startLineNumber":22,"startColumn":1,"endLineNumber":22,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":442,"edits":[{"text":"\n    }","range":{"startLineNumber":23,"startColumn":1,"endLineNumber":23,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":443,"edits":[{"text":"\n","range":{"startLineNumber":24,"startColumn":1,"endLineNumber":24,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":444,"edits":[{"text":"\n    public function create() {","range":{"startLineNumber":25,"startColumn":1,"endLineNumber":25,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":445,"edits":[{"text":"\n        $query = \"INSERT INTO \" . $this->table_name . \"","range":{"startLineNumber":26,"startColumn":1,"endLineNumber":26,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":446,"edits":[{"text":"\n                SET","range":{"startLineNumber":27,"startColumn":1,"endLineNumber":27,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":447,"edits":[{"text":"\n                    supplier_id = :supplier_id,","range":{"startLineNumber":28,"startColumn":1,"endLineNumber":28,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":448,"edits":[{"text":"\n                    document_id = :document_id,","range":{"startLineNumber":29,"startColumn":1,"endLineNumber":29,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":449,"edits":[{"text":"\n                    document_type = :document_type,","range":{"startLineNumber":30,"startColumn":1,"endLineNumber":30,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":450,"edits":[{"text":"\n                    name = :name,","range":{"startLineNumber":31,"startColumn":1,"endLineNumber":31,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":451,"edits":[{"text":"\n                    file_path = :file_path,","range":{"startLineNumber":32,"startColumn":1,"endLineNumber":32,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":452,"edits":[{"text":"\n                    description = :description,","range":{"startLineNumber":33,"startColumn":1,"endLineNumber":33,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":453,"edits":[{"text":"\n                    upload_date = :upload_date,","range":{"startLineNumber":34,"startColumn":1,"endLineNumber":34,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":454,"edits":[{"text":"\n                    expiry_date = :expiry_date,","range":{"startLineNumber":35,"startColumn":1,"endLineNumber":35,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":455,"edits":[{"text":"\n                    status = :status,","range":{"startLineNumber":36,"startColumn":1,"endLineNumber":36,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":456,"edits":[{"text":"\n                    tags = :tags,","range":{"startLineNumber":37,"startColumn":1,"endLineNumber":37,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":457,"edits":[{"text":"\n                    uploaded_by = :uploaded_by\";","range":{"startLineNumber":38,"startColumn":1,"endLineNumber":38,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":458,"edits":[{"text":"\n","range":{"startLineNumber":39,"startColumn":1,"endLineNumber":39,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":459,"edits":[{"text":"\n        $stmt = $this->conn->prepare($query);","range":{"startLineNumber":40,"startColumn":1,"endLineNumber":40,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":460,"edits":[{"text":"\n","range":{"startLineNumber":41,"startColumn":1,"endLineNumber":41,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":461,"edits":[{"text":"\n        // Sanitize","range":{"startLineNumber":42,"startColumn":1,"endLineNumber":42,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":462,"edits":[{"text":"\n        $this->supplier_id = intval($this->supplier_id);","range":{"startLineNumber":43,"startColumn":1,"endLineNumber":43,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":463,"edits":[{"text":"\n        $this->document_id = !empty($this->document_id) ? intval($this->document_id) : null;","range":{"startLineNumber":44,"startColumn":1,"endLineNumber":44,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":464,"edits":[{"text":"\n        $this->document_type = htmlspecialchars(strip_tags($this->document_type ?? 'otro'));","range":{"startLineNumber":45,"startColumn":1,"endLineNumber":45,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":465,"edits":[{"text":"\n        $this->name = htmlspecialchars(strip_tags($this->name ?? ''));","range":{"startLineNumber":46,"startColumn":1,"endLineNumber":46,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":466,"edits":[{"text":"\n        $this->file_path = htmlspecialchars(strip_tags($this->file_path ?? ''));","range":{"startLineNumber":47,"startColumn":1,"endLineNumber":47,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":467,"edits":[{"text":"\n        $this->description = htmlspecialchars(strip_tags($this->description ?? ''));","range":{"startLineNumber":48,"startColumn":1,"endLineNumber":48,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":468,"edits":[{"text":"\n        $this->upload_date = $this->upload_date ?? date('Y-m-d');","range":{"startLineNumber":49,"startColumn":1,"endLineNumber":49,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":469,"edits":[{"text":"\n        $this->expiry_date = !empty($this->expiry_date) ? $this->expiry_date : null;","range":{"startLineNumber":50,"startColumn":1,"endLineNumber":50,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":470,"edits":[{"text":"\n        $this->status = htmlspecialchars(strip_tags($this->status ?? 'vigente'));","range":{"startLineNumber":51,"startColumn":1,"endLineNumber":51,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":471,"edits":[{"text":"\n        $this->tags = htmlspecialchars(strip_tags($this->tags ?? ''));","range":{"startLineNumber":52,"startColumn":1,"endLineNumber":52,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":472,"edits":[{"text":"\n        $this->uploaded_by = !empty($this->uploaded_by) ? intval($this->uploaded_by) : null;","range":{"startLineNumber":53,"startColumn":1,"endLineNumber":53,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":473,"edits":[{"text":"\n","range":{"startLineNumber":54,"startColumn":1,"endLineNumber":54,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":474,"edits":[{"text":"\n        // Bind values","range":{"startLineNumber":55,"startColumn":1,"endLineNumber":55,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":475,"edits":[{"text":"\n        $stmt->bindParam(\":supplier_id\", $this->supplier_id);","range":{"startLineNumber":56,"startColumn":1,"endLineNumber":56,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":476,"edits":[{"text":"\n        $stmt->bindParam(\":document_id\", $this->document_id);","range":{"startLineNumber":57,"startColumn":1,"endLineNumber":57,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":477,"edits":[{"text":"\n        $stmt->bindParam(\":document_type\", $this->document_type);","range":{"startLineNumber":58,"startColumn":1,"endLineNumber":58,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":478,"edits":[{"text":"\n        $stmt->bindParam(\":name\", $this->name);","range":{"startLineNumber":59,"startColumn":1,"endLineNumber":59,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":479,"edits":[{"text":"\n        $stmt->bindParam(\":file_path\", $this->file_path);","range":{"startLineNumber":60,"startColumn":1,"endLineNumber":60,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":480,"edits":[{"text":"\n        $stmt->bindParam(\":description\", $this->description);","range":{"startLineNumber":61,"startColumn":1,"endLineNumber":61,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":481,"edits":[{"text":"\n        $stmt->bindParam(\":upload_date\", $this->upload_date);","range":{"startLineNumber":62,"startColumn":1,"endLineNumber":62,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":482,"edits":[{"text":"\n        $stmt->bindParam(\":expiry_date\", $this->expiry_date);","range":{"startLineNumber":63,"startColumn":1,"endLineNumber":63,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":483,"edits":[{"text":"\n        $stmt->bindParam(\":status\", $this->status);","range":{"startLineNumber":64,"startColumn":1,"endLineNumber":64,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":484,"edits":[{"text":"\n        $stmt->bindParam(\":tags\", $this->tags);","range":{"startLineNumber":65,"startColumn":1,"endLineNumber":65,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":485,"edits":[{"text":"\n        $stmt->bindParam(\":uploaded_by\", $this->uploaded_by);","range":{"startLineNumber":66,"startColumn":1,"endLineNumber":66,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":486,"edits":[{"text":"\n","range":{"startLineNumber":67,"startColumn":1,"endLineNumber":67,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":487,"edits":[{"text":"\n        if ($stmt->execute()) {","range":{"startLineNumber":68,"startColumn":1,"endLineNumber":68,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":488,"edits":[{"text":"\n            $this->id = $this->conn->lastInsertId();","range":{"startLineNumber":69,"startColumn":1,"endLineNumber":69,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":489,"edits":[{"text":"\n            return true;","range":{"startLineNumber":70,"startColumn":1,"endLineNumber":70,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":490,"edits":[{"text":"\n        }","range":{"startLineNumber":71,"startColumn":1,"endLineNumber":71,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":491,"edits":[{"text":"\n","range":{"startLineNumber":72,"startColumn":1,"endLineNumber":72,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":492,"edits":[{"text":"\n        return false;","range":{"startLineNumber":73,"startColumn":1,"endLineNumber":73,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":493,"edits":[{"text":"\n    }","range":{"startLineNumber":74,"startColumn":1,"endLineNumber":74,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":494,"edits":[{"text":"\n","range":{"startLineNumber":75,"startColumn":1,"endLineNumber":75,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":495,"edits":[{"text":"\n    public function readBySupplierId($supplier_id, $filters = []) {","range":{"startLineNumber":76,"startColumn":1,"endLineNumber":76,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":496,"edits":[{"text":"\n        $query = \"SELECT sd.*, u.username as uploader_name ","range":{"startLineNumber":77,"startColumn":1,"endLineNumber":77,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":497,"edits":[{"text":"\n                 FROM \" . $this->table_name . \" sd","range":{"startLineNumber":78,"startColumn":1,"endLineNumber":78,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":498,"edits":[{"text":"\n                 LEFT JOIN users u ON sd.uploaded_by = u.id","range":{"startLineNumber":79,"startColumn":1,"endLineNumber":79,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":499,"edits":[{"text":"\n                 WHERE sd.supplier_id = :supplier_id\";","range":{"startLineNumber":80,"startColumn":1,"endLineNumber":80,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":500,"edits":[{"text":"\n        ","range":{"startLineNumber":81,"startColumn":1,"endLineNumber":81,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":501,"edits":[{"text":"\n        // Filtros adicionales","range":{"startLineNumber":82,"startColumn":1,"endLineNumber":82,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":502,"edits":[{"text":"\n        if (!empty($filters['document_type'])) {","range":{"startLineNumber":83,"startColumn":1,"endLineNumber":83,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":503,"edits":[{"text":"\n            $query .= \" AND sd.document_type = :document_type\";","range":{"startLineNumber":84,"startColumn":1,"endLineNumber":84,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":504,"edits":[{"text":"\n        }","range":{"startLineNumber":85,"startColumn":1,"endLineNumber":85,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":505,"edits":[{"text":"\n        if (!empty($filters['status'])) {","range":{"startLineNumber":86,"startColumn":1,"endLineNumber":86,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":506,"edits":[{"text":"\n            $query .= \" AND sd.status = :status\";","range":{"startLineNumber":87,"startColumn":1,"endLineNumber":87,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":507,"edits":[{"text":"\n        }","range":{"startLineNumber":88,"startColumn":1,"endLineNumber":88,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":508,"edits":[{"text":"\n        ","range":{"startLineNumber":89,"startColumn":1,"endLineNumber":89,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":509,"edits":[{"text":"\n        $query .= \" ORDER BY sd.upload_date DESC\";","range":{"startLineNumber":90,"startColumn":1,"endLineNumber":90,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":510,"edits":[{"text":"\n        ","range":{"startLineNumber":91,"startColumn":1,"endLineNumber":91,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":511,"edits":[{"text":"\n        $stmt = $this->conn->prepare($query);","range":{"startLineNumber":92,"startColumn":1,"endLineNumber":92,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":512,"edits":[{"text":"\n        $stmt->bindParam(':supplier_id', $supplier_id);","range":{"startLineNumber":93,"startColumn":1,"endLineNumber":93,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":513,"edits":[{"text":"\n        ","range":{"startLineNumber":94,"startColumn":1,"endLineNumber":94,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":514,"edits":[{"text":"\n        if (!empty($filters['document_type'])) {","range":{"startLineNumber":95,"startColumn":1,"endLineNumber":95,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":515,"edits":[{"text":"\n            $stmt->bindParam(':document_type', $filters['document_type']);","range":{"startLineNumber":96,"startColumn":1,"endLineNumber":96,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":516,"edits":[{"text":"\n        }","range":{"startLineNumber":97,"startColumn":1,"endLineNumber":97,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":517,"edits":[{"text":"\n        if (!empty($filters['status'])) {","range":{"startLineNumber":98,"startColumn":1,"endLineNumber":98,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":518,"edits":[{"text":"\n            $stmt->bindParam(':status', $filters['status']);","range":{"startLineNumber":99,"startColumn":1,"endLineNumber":99,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":519,"edits":[{"text":"\n        }","range":{"startLineNumber":100,"startColumn":1,"endLineNumber":100,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":520,"edits":[{"text":"\n        ","range":{"startLineNumber":101,"startColumn":1,"endLineNumber":101,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":521,"edits":[{"text":"\n        $stmt->execute();","range":{"startLineNumber":102,"startColumn":1,"endLineNumber":102,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":522,"edits":[{"text":"\n        ","range":{"startLineNumber":103,"startColumn":1,"endLineNumber":103,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":523,"edits":[{"text":"\n        return $stmt;","range":{"startLineNumber":104,"startColumn":1,"endLineNumber":104,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":524,"edits":[{"text":"\n    }","range":{"startLineNumber":105,"startColumn":1,"endLineNumber":105,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":525,"edits":[{"text":"\n","range":{"startLineNumber":106,"startColumn":1,"endLineNumber":106,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":526,"edits":[{"text":"\n    public function readOne() {","range":{"startLineNumber":107,"startColumn":1,"endLineNumber":107,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":527,"edits":[{"text":"\n        $query = \"SELECT * FROM \" . $this->table_name . \" WHERE id = ? LIMIT 0,1\";","range":{"startLineNumber":108,"startColumn":1,"endLineNumber":108,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":528,"edits":[{"text":"\n        $stmt = $this->conn->prepare($query);","range":{"startLineNumber":109,"startColumn":1,"endLineNumber":109,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":529,"edits":[{"text":"\n        $stmt->bindParam(1, $this->id);","range":{"startLineNumber":110,"startColumn":1,"endLineNumber":110,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":530,"edits":[{"text":"\n        $stmt->execute();","range":{"startLineNumber":111,"startColumn":1,"endLineNumber":111,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":531,"edits":[{"text":"\n","range":{"startLineNumber":112,"startColumn":1,"endLineNumber":112,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":532,"edits":[{"text":"\n        $row = $stmt->fetch(PDO::FETCH_ASSOC);","range":{"startLineNumber":113,"startColumn":1,"endLineNumber":113,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":533,"edits":[{"text":"\n","range":{"startLineNumber":114,"startColumn":1,"endLineNumber":114,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":534,"edits":[{"text":"\n        if ($row) {","range":{"startLineNumber":115,"startColumn":1,"endLineNumber":115,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":535,"edits":[{"text":"\n            $this->supplier_id = $row['supplier_id'];","range":{"startLineNumber":116,"startColumn":1,"endLineNumber":116,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":536,"edits":[{"text":"\n            $this->document_id = $row['document_id'];","range":{"startLineNumber":117,"startColumn":1,"endLineNumber":117,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":537,"edits":[{"text":"\n            $this->document_type = $row['document_type'];","range":{"startLineNumber":118,"startColumn":1,"endLineNumber":118,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":538,"edits":[{"text":"\n            $this->name = $row['name'];","range":{"startLineNumber":119,"startColumn":1,"endLineNumber":119,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":539,"edits":[{"text":"\n            $this->file_path = $row['file_path'];","range":{"startLineNumber":120,"startColumn":1,"endLineNumber":120,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":540,"edits":[{"text":"\n            $this->description = $row['description'];","range":{"startLineNumber":121,"startColumn":1,"endLineNumber":121,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":541,"edits":[{"text":"\n            $this->upload_date = $row['upload_date'];","range":{"startLineNumber":122,"startColumn":1,"endLineNumber":122,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":542,"edits":[{"text":"\n            $this->expiry_date = $row['expiry_date'];","range":{"startLineNumber":123,"startColumn":1,"endLineNumber":123,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":543,"edits":[{"text":"\n            $this->status = $row['status'];","range":{"startLineNumber":124,"startColumn":1,"endLineNumber":124,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":544,"edits":[{"text":"\n            $this->tags = $row['tags'];","range":{"startLineNumber":125,"startColumn":1,"endLineNumber":125,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":545,"edits":[{"text":"\n            $this->uploaded_by = $row['uploaded_by'];","range":{"startLineNumber":126,"startColumn":1,"endLineNumber":126,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":546,"edits":[{"text":"\n            $this->created_at = $row['created_at'];","range":{"startLineNumber":127,"startColumn":1,"endLineNumber":127,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":547,"edits":[{"text":"\n            return true;","range":{"startLineNumber":128,"startColumn":1,"endLineNumber":128,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":548,"edits":[{"text":"\n        }","range":{"startLineNumber":129,"startColumn":1,"endLineNumber":129,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":549,"edits":[{"text":"\n","range":{"startLineNumber":130,"startColumn":1,"endLineNumber":130,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":550,"edits":[{"text":"\n        return false;","range":{"startLineNumber":131,"startColumn":1,"endLineNumber":131,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":551,"edits":[{"text":"\n    }","range":{"startLineNumber":132,"startColumn":1,"endLineNumber":132,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":552,"edits":[{"text":"\n","range":{"startLineNumber":133,"startColumn":1,"endLineNumber":133,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":553,"edits":[{"text":"\n    public function update() {","range":{"startLineNumber":134,"startColumn":1,"endLineNumber":134,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":554,"edits":[{"text":"\n        $query = \"UPDATE \" . $this->table_name . \"","range":{"startLineNumber":135,"startColumn":1,"endLineNumber":135,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":555,"edits":[{"text":"\n                SET","range":{"startLineNumber":136,"startColumn":1,"endLineNumber":136,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":556,"edits":[{"text":"\n                    document_type = :document_type,","range":{"startLineNumber":137,"startColumn":1,"endLineNumber":137,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":557,"edits":[{"text":"\n                    name = :name,","range":{"startLineNumber":138,"startColumn":1,"endLineNumber":138,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":558,"edits":[{"text":"\n                    description = :description,","range":{"startLineNumber":139,"startColumn":1,"endLineNumber":139,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":559,"edits":[{"text":"\n                    expiry_date = :expiry_date,","range":{"startLineNumber":140,"startColumn":1,"endLineNumber":140,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":560,"edits":[{"text":"\n                    status = :status,","range":{"startLineNumber":141,"startColumn":1,"endLineNumber":141,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":561,"edits":[{"text":"\n                    tags = :tags","range":{"startLineNumber":142,"startColumn":1,"endLineNumber":142,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":562,"edits":[{"text":"\n                WHERE id = :id\";","range":{"startLineNumber":143,"startColumn":1,"endLineNumber":143,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":563,"edits":[{"text":"\n","range":{"startLineNumber":144,"startColumn":1,"endLineNumber":144,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":564,"edits":[{"text":"\n        $stmt = $this->conn->prepare($query);","range":{"startLineNumber":145,"startColumn":1,"endLineNumber":145,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":565,"edits":[{"text":"\n","range":{"startLineNumber":146,"startColumn":1,"endLineNumber":146,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":566,"edits":[{"text":"\n        // Sanitize","range":{"startLineNumber":147,"startColumn":1,"endLineNumber":147,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":567,"edits":[{"text":"\n        $this->document_type = htmlspecialchars(strip_tags($this->document_type ?? 'otro'));","range":{"startLineNumber":148,"startColumn":1,"endLineNumber":148,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":568,"edits":[{"text":"\n        $this->name = htmlspecialchars(strip_tags($this->name ?? ''));","range":{"startLineNumber":149,"startColumn":1,"endLineNumber":149,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":569,"edits":[{"text":"\n        $this->description = htmlspecialchars(strip_tags($this->description ?? ''));","range":{"startLineNumber":150,"startColumn":1,"endLineNumber":150,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":570,"edits":[{"text":"\n        $this->expiry_date = !empty($this->expiry_date) ? $this->expiry_date : null;","range":{"startLineNumber":151,"startColumn":1,"endLineNumber":151,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":571,"edits":[{"text":"\n        $this->status = htmlspecialchars(strip_tags($this->status ?? 'vigente'));","range":{"startLineNumber":152,"startColumn":1,"endLineNumber":152,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":572,"edits":[{"text":"\n        $this->tags = htmlspecialchars(strip_tags($this->tags ?? ''));","range":{"startLineNumber":153,"startColumn":1,"endLineNumber":153,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":573,"edits":[{"text":"\n        $this->id = intval($this->id);","range":{"startLineNumber":154,"startColumn":1,"endLineNumber":154,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":574,"edits":[{"text":"\n","range":{"startLineNumber":155,"startColumn":1,"endLineNumber":155,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":575,"edits":[{"text":"\n        // Bind values","range":{"startLineNumber":156,"startColumn":1,"endLineNumber":156,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":576,"edits":[{"text":"\n        $stmt->bindParam(\":document_type\", $this->document_type);","range":{"startLineNumber":157,"startColumn":1,"endLineNumber":157,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":577,"edits":[{"text":"\n        $stmt->bindParam(\":name\", $this->name);","range":{"startLineNumber":158,"startColumn":1,"endLineNumber":158,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":578,"edits":[{"text":"\n        $stmt->bindParam(\":description\", $this->description);","range":{"startLineNumber":159,"startColumn":1,"endLineNumber":159,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":579,"edits":[{"text":"\n        $stmt->bindParam(\":expiry_date\", $this->expiry_date);","range":{"startLineNumber":160,"startColumn":1,"endLineNumber":160,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":580,"edits":[{"text":"\n        $stmt->bindParam(\":status\", $this->status);","range":{"startLineNumber":161,"startColumn":1,"endLineNumber":161,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":581,"edits":[{"text":"\n        $stmt->bindParam(\":tags\", $this->tags);","range":{"startLineNumber":162,"startColumn":1,"endLineNumber":162,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":582,"edits":[{"text":"\n        $stmt->bindParam(\":id\", $this->id);","range":{"startLineNumber":163,"startColumn":1,"endLineNumber":163,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":583,"edits":[{"text":"\n","range":{"startLineNumber":164,"startColumn":1,"endLineNumber":164,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":584,"edits":[{"text":"\n        if ($stmt->execute()) {","range":{"startLineNumber":165,"startColumn":1,"endLineNumber":165,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":585,"edits":[{"text":"\n            return true;","range":{"startLineNumber":166,"startColumn":1,"endLineNumber":166,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":586,"edits":[{"text":"\n        }","range":{"startLineNumber":167,"startColumn":1,"endLineNumber":167,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":587,"edits":[{"text":"\n","range":{"startLineNumber":168,"startColumn":1,"endLineNumber":168,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":588,"edits":[{"text":"\n        return false;","range":{"startLineNumber":169,"startColumn":1,"endLineNumber":169,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":589,"edits":[{"text":"\n    }","range":{"startLineNumber":170,"startColumn":1,"endLineNumber":170,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":590,"edits":[{"text":"\n","range":{"startLineNumber":171,"startColumn":1,"endLineNumber":171,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":591,"edits":[{"text":"\n    public function delete() {","range":{"startLineNumber":172,"startColumn":1,"endLineNumber":172,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":592,"edits":[{"text":"\n        $query = \"DELETE FROM \" . $this->table_name . \" WHERE id = ?\";","range":{"startLineNumber":173,"startColumn":1,"endLineNumber":173,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":593,"edits":[{"text":"\n        $stmt = $this->conn->prepare($query);","range":{"startLineNumber":174,"startColumn":1,"endLineNumber":174,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":594,"edits":[{"text":"\n        $this->id = intval($this->id);","range":{"startLineNumber":175,"startColumn":1,"endLineNumber":175,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":595,"edits":[{"text":"\n        $stmt->bindParam(1, $this->id);","range":{"startLineNumber":176,"startColumn":1,"endLineNumber":176,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":596,"edits":[{"text":"\n","range":{"startLineNumber":177,"startColumn":1,"endLineNumber":177,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":597,"edits":[{"text":"\n        if ($stmt->execute()) {","range":{"startLineNumber":178,"startColumn":1,"endLineNumber":178,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":598,"edits":[{"text":"\n            return true;","range":{"startLineNumber":179,"startColumn":1,"endLineNumber":179,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":599,"edits":[{"text":"\n        }","range":{"startLineNumber":180,"startColumn":1,"endLineNumber":180,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":600,"edits":[{"text":"\n","range":{"startLineNumber":181,"startColumn":1,"endLineNumber":181,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":601,"edits":[{"text":"\n        return false;","range":{"startLineNumber":182,"startColumn":1,"endLineNumber":182,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":602,"edits":[{"text":"\n    }","range":{"startLineNumber":183,"startColumn":1,"endLineNumber":183,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":603,"edits":[{"text":"\n","range":{"startLineNumber":184,"startColumn":1,"endLineNumber":184,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":604,"edits":[{"text":"\n    public function getExpiringDocuments($days = 30) {","range":{"startLineNumber":185,"startColumn":1,"endLineNumber":185,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":605,"edits":[{"text":"\n        $query = \"SELECT sd.*, s.name as supplier_name ","range":{"startLineNumber":186,"startColumn":1,"endLineNumber":186,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":606,"edits":[{"text":"\n                 FROM \" . $this->table_name . \" sd","range":{"startLineNumber":187,"startColumn":1,"endLineNumber":187,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":607,"edits":[{"text":"\n                 JOIN suppliers s ON sd.supplier_id = s.id","range":{"startLineNumber":188,"startColumn":1,"endLineNumber":188,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":608,"edits":[{"text":"\n                 WHERE sd.status = 'vigente' ","range":{"startLineNumber":189,"startColumn":1,"endLineNumber":189,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":609,"edits":[{"text":"\n                 AND sd.expiry_date IS NOT NULL","range":{"startLineNumber":190,"startColumn":1,"endLineNumber":190,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":610,"edits":[{"text":"\n                 AND sd.expiry_date BETWEEN CURDATE() AND DATE_ADD(CURDATE(), INTERVAL :days DAY)","range":{"startLineNumber":191,"startColumn":1,"endLineNumber":191,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":611,"edits":[{"text":"\n                 ORDER BY sd.expiry_date ASC\";","range":{"startLineNumber":192,"startColumn":1,"endLineNumber":192,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":612,"edits":[{"text":"\n        ","range":{"startLineNumber":193,"startColumn":1,"endLineNumber":193,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":613,"edits":[{"text":"\n        $stmt = $this->conn->prepare($query);","range":{"startLineNumber":194,"startColumn":1,"endLineNumber":194,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":614,"edits":[{"text":"\n        $stmt->bindParam(':days', $days);","range":{"startLineNumber":195,"startColumn":1,"endLineNumber":195,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":615,"edits":[{"text":"\n        $stmt->execute();","range":{"startLineNumber":196,"startColumn":1,"endLineNumber":196,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":616,"edits":[{"text":"\n        ","range":{"startLineNumber":197,"startColumn":1,"endLineNumber":197,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":617,"edits":[{"text":"\n        return $stmt;","range":{"startLineNumber":198,"startColumn":1,"endLineNumber":198,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":618,"edits":[{"text":"\n    }","range":{"startLineNumber":199,"startColumn":1,"endLineNumber":199,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":619,"edits":[{"text":"\n","range":{"startLineNumber":200,"startColumn":1,"endLineNumber":200,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":620,"edits":[{"text":"\n    public function getExpiredDocuments() {","range":{"startLineNumber":201,"startColumn":1,"endLineNumber":201,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":621,"edits":[{"text":"\n        $query = \"SELECT sd.*, s.name as supplier_name ","range":{"startLineNumber":202,"startColumn":1,"endLineNumber":202,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":622,"edits":[{"text":"\n                 FROM \" . $this->table_name . \" sd","range":{"startLineNumber":203,"startColumn":1,"endLineNumber":203,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":623,"edits":[{"text":"\n                 JOIN suppliers s ON sd.supplier_id = s.id","range":{"startLineNumber":204,"startColumn":1,"endLineNumber":204,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":624,"edits":[{"text":"\n                 WHERE sd.status = 'vigente' ","range":{"startLineNumber":205,"startColumn":1,"endLineNumber":205,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":625,"edits":[{"text":"\n                 AND sd.expiry_date IS NOT NULL","range":{"startLineNumber":206,"startColumn":1,"endLineNumber":206,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":626,"edits":[{"text":"\n                 AND sd.expiry_date < CURDATE()","range":{"startLineNumber":207,"startColumn":1,"endLineNumber":207,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":627,"edits":[{"text":"\n                 ORDER BY sd.expiry_date ASC\";","range":{"startLineNumber":208,"startColumn":1,"endLineNumber":208,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":628,"edits":[{"text":"\n        ","range":{"startLineNumber":209,"startColumn":1,"endLineNumber":209,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":629,"edits":[{"text":"\n        $stmt = $this->conn->prepare($query);","range":{"startLineNumber":210,"startColumn":1,"endLineNumber":210,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":630,"edits":[{"text":"\n        $stmt->execute();","range":{"startLineNumber":211,"startColumn":1,"endLineNumber":211,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":631,"edits":[{"text":"\n        ","range":{"startLineNumber":212,"startColumn":1,"endLineNumber":212,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":632,"edits":[{"text":"\n        return $stmt;","range":{"startLineNumber":213,"startColumn":1,"endLineNumber":213,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":633,"edits":[{"text":"\n    }","range":{"startLineNumber":214,"startColumn":1,"endLineNumber":214,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":634,"edits":[{"text":"\n}","range":{"startLineNumber":215,"startColumn":1,"endLineNumber":215,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":635,"edits":[{"text":"\n?>","range":{"startLineNumber":216,"startColumn":1,"endLineNumber":216,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":636,"edits":[{"text":"\n","range":{"startLineNumber":217,"startColumn":1,"endLineNumber":217,"endColumn":1}}]},{"type":"create","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":637,"initialContent":"","telemetryInfo":{}},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":639,"edits":[{"text":"<?php","range":{"startLineNumber":1,"startColumn":1,"endLineNumber":1,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":640,"edits":[{"text":"\n","range":{"startLineNumber":2,"startColumn":1,"endLineNumber":2,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":641,"edits":[{"text":"\nclass SupplierOrder {","range":{"startLineNumber":3,"startColumn":1,"endLineNumber":3,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":642,"edits":[{"text":"\n    private $conn;","range":{"startLineNumber":4,"startColumn":1,"endLineNumber":4,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":643,"edits":[{"text":"\n    private $table_name = \"supplier_orders\";","range":{"startLineNumber":5,"startColumn":1,"endLineNumber":5,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":644,"edits":[{"text":"\n","range":{"startLineNumber":6,"startColumn":1,"endLineNumber":6,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":645,"edits":[{"text":"\n    public $id;","range":{"startLineNumber":7,"startColumn":1,"endLineNumber":7,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":646,"edits":[{"text":"\n    public $supplier_id;","range":{"startLineNumber":8,"startColumn":1,"endLineNumber":8,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":647,"edits":[{"text":"\n    public $order_number;","range":{"startLineNumber":9,"startColumn":1,"endLineNumber":9,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":648,"edits":[{"text":"\n    public $order_date;","range":{"startLineNumber":10,"startColumn":1,"endLineNumber":10,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":649,"edits":[{"text":"\n    public $expected_delivery_date;","range":{"startLineNumber":11,"startColumn":1,"endLineNumber":11,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":650,"edits":[{"text":"\n    public $status;","range":{"startLineNumber":12,"startColumn":1,"endLineNumber":12,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":651,"edits":[{"text":"\n    public $subtotal;","range":{"startLineNumber":13,"startColumn":1,"endLineNumber":13,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":652,"edits":[{"text":"\n    public $tax_amount;","range":{"startLineNumber":14,"startColumn":1,"endLineNumber":14,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":653,"edits":[{"text":"\n    public $discount_amount;","range":{"startLineNumber":15,"startColumn":1,"endLineNumber":15,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":654,"edits":[{"text":"\n    public $total_amount;","range":{"startLineNumber":16,"startColumn":1,"endLineNumber":16,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":655,"edits":[{"text":"\n    public $notes;","range":{"startLineNumber":17,"startColumn":1,"endLineNumber":17,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":656,"edits":[{"text":"\n    public $approved_by;","range":{"startLineNumber":18,"startColumn":1,"endLineNumber":18,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":657,"edits":[{"text":"\n    public $approved_at;","range":{"startLineNumber":19,"startColumn":1,"endLineNumber":19,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":658,"edits":[{"text":"\n    public $created_by;","range":{"startLineNumber":20,"startColumn":1,"endLineNumber":20,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":659,"edits":[{"text":"\n    public $created_at;","range":{"startLineNumber":21,"startColumn":1,"endLineNumber":21,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":660,"edits":[{"text":"\n    public $updated_at;","range":{"startLineNumber":22,"startColumn":1,"endLineNumber":22,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":661,"edits":[{"text":"\n","range":{"startLineNumber":23,"startColumn":1,"endLineNumber":23,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":662,"edits":[{"text":"\n    public function __construct($db) {","range":{"startLineNumber":24,"startColumn":1,"endLineNumber":24,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":663,"edits":[{"text":"\n        $this->conn = $db;","range":{"startLineNumber":25,"startColumn":1,"endLineNumber":25,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":664,"edits":[{"text":"\n    }","range":{"startLineNumber":26,"startColumn":1,"endLineNumber":26,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":665,"edits":[{"text":"\n","range":{"startLineNumber":27,"startColumn":1,"endLineNumber":27,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":666,"edits":[{"text":"\n    public function create() {","range":{"startLineNumber":28,"startColumn":1,"endLineNumber":28,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":667,"edits":[{"text":"\n        $query = \"INSERT INTO \" . $this->table_name . \"","range":{"startLineNumber":29,"startColumn":1,"endLineNumber":29,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":668,"edits":[{"text":"\n                SET","range":{"startLineNumber":30,"startColumn":1,"endLineNumber":30,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":669,"edits":[{"text":"\n                    supplier_id = :supplier_id,","range":{"startLineNumber":31,"startColumn":1,"endLineNumber":31,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":670,"edits":[{"text":"\n                    order_number = :order_number,","range":{"startLineNumber":32,"startColumn":1,"endLineNumber":32,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":671,"edits":[{"text":"\n                    order_date = :order_date,","range":{"startLineNumber":33,"startColumn":1,"endLineNumber":33,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":672,"edits":[{"text":"\n                    expected_delivery_date = :expected_delivery_date,","range":{"startLineNumber":34,"startColumn":1,"endLineNumber":34,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":673,"edits":[{"text":"\n                    status = :status,","range":{"startLineNumber":35,"startColumn":1,"endLineNumber":35,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":674,"edits":[{"text":"\n                    subtotal = :subtotal,","range":{"startLineNumber":36,"startColumn":1,"endLineNumber":36,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":675,"edits":[{"text":"\n                    tax_amount = :tax_amount,","range":{"startLineNumber":37,"startColumn":1,"endLineNumber":37,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":676,"edits":[{"text":"\n                    discount_amount = :discount_amount,","range":{"startLineNumber":38,"startColumn":1,"endLineNumber":38,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":677,"edits":[{"text":"\n                    total_amount = :total_amount,","range":{"startLineNumber":39,"startColumn":1,"endLineNumber":39,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":678,"edits":[{"text":"\n                    notes = :notes,","range":{"startLineNumber":40,"startColumn":1,"endLineNumber":40,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":679,"edits":[{"text":"\n                    approved_by = :approved_by,","range":{"startLineNumber":41,"startColumn":1,"endLineNumber":41,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":680,"edits":[{"text":"\n                    approved_at = :approved_at,","range":{"startLineNumber":42,"startColumn":1,"endLineNumber":42,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":681,"edits":[{"text":"\n                    created_by = :created_by\";","range":{"startLineNumber":43,"startColumn":1,"endLineNumber":43,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":682,"edits":[{"text":"\n","range":{"startLineNumber":44,"startColumn":1,"endLineNumber":44,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":683,"edits":[{"text":"\n        $stmt = $this->conn->prepare($query);","range":{"startLineNumber":45,"startColumn":1,"endLineNumber":45,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":684,"edits":[{"text":"\n","range":{"startLineNumber":46,"startColumn":1,"endLineNumber":46,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":685,"edits":[{"text":"\n        // Sanitize","range":{"startLineNumber":47,"startColumn":1,"endLineNumber":47,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":686,"edits":[{"text":"\n        $this->supplier_id = intval($this->supplier_id);","range":{"startLineNumber":48,"startColumn":1,"endLineNumber":48,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":687,"edits":[{"text":"\n        $this->order_number = htmlspecialchars(strip_tags($this->order_number ?? ''));","range":{"startLineNumber":49,"startColumn":1,"endLineNumber":49,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":688,"edits":[{"text":"\n        $this->order_date = $this->order_date ?? date('Y-m-d');","range":{"startLineNumber":50,"startColumn":1,"endLineNumber":50,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":689,"edits":[{"text":"\n        $this->expected_delivery_date = !empty($this->expected_delivery_date) ? $this->expected_delivery_date : null;","range":{"startLineNumber":51,"startColumn":1,"endLineNumber":51,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":690,"edits":[{"text":"\n        $this->status = htmlspecialchars(strip_tags($this->status ?? 'draft'));","range":{"startLineNumber":52,"startColumn":1,"endLineNumber":52,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":691,"edits":[{"text":"\n        $this->subtotal = floatval($this->subtotal ?? 0.00);","range":{"startLineNumber":53,"startColumn":1,"endLineNumber":53,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":692,"edits":[{"text":"\n        $this->tax_amount = floatval($this->tax_amount ?? 0.00);","range":{"startLineNumber":54,"startColumn":1,"endLineNumber":54,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":693,"edits":[{"text":"\n        $this->discount_amount = floatval($this->discount_amount ?? 0.00);","range":{"startLineNumber":55,"startColumn":1,"endLineNumber":55,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":694,"edits":[{"text":"\n        $this->total_amount = floatval($this->total_amount ?? 0.00);","range":{"startLineNumber":56,"startColumn":1,"endLineNumber":56,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":695,"edits":[{"text":"\n        $this->notes = htmlspecialchars(strip_tags($this->notes ?? ''));","range":{"startLineNumber":57,"startColumn":1,"endLineNumber":57,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":696,"edits":[{"text":"\n        $this->approved_by = !empty($this->approved_by) ? intval($this->approved_by) : null;","range":{"startLineNumber":58,"startColumn":1,"endLineNumber":58,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":697,"edits":[{"text":"\n        $this->approved_at = !empty($this->approved_at) ? $this->approved_at : null;","range":{"startLineNumber":59,"startColumn":1,"endLineNumber":59,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":698,"edits":[{"text":"\n        $this->created_by = !empty($this->created_by) ? intval($this->created_by) : null;","range":{"startLineNumber":60,"startColumn":1,"endLineNumber":60,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":699,"edits":[{"text":"\n","range":{"startLineNumber":61,"startColumn":1,"endLineNumber":61,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":700,"edits":[{"text":"\n        // Bind values","range":{"startLineNumber":62,"startColumn":1,"endLineNumber":62,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":701,"edits":[{"text":"\n        $stmt->bindParam(\":supplier_id\", $this->supplier_id);","range":{"startLineNumber":63,"startColumn":1,"endLineNumber":63,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":702,"edits":[{"text":"\n        $stmt->bindParam(\":order_number\", $this->order_number);","range":{"startLineNumber":64,"startColumn":1,"endLineNumber":64,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":703,"edits":[{"text":"\n        $stmt->bindParam(\":order_date\", $this->order_date);","range":{"startLineNumber":65,"startColumn":1,"endLineNumber":65,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":704,"edits":[{"text":"\n        $stmt->bindParam(\":expected_delivery_date\", $this->expected_delivery_date);","range":{"startLineNumber":66,"startColumn":1,"endLineNumber":66,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":705,"edits":[{"text":"\n        $stmt->bindParam(\":status\", $this->status);","range":{"startLineNumber":67,"startColumn":1,"endLineNumber":67,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":706,"edits":[{"text":"\n        $stmt->bindParam(\":subtotal\", $this->subtotal);","range":{"startLineNumber":68,"startColumn":1,"endLineNumber":68,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":707,"edits":[{"text":"\n        $stmt->bindParam(\":tax_amount\", $this->tax_amount);","range":{"startLineNumber":69,"startColumn":1,"endLineNumber":69,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":708,"edits":[{"text":"\n        $stmt->bindParam(\":discount_amount\", $this->discount_amount);","range":{"startLineNumber":70,"startColumn":1,"endLineNumber":70,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":709,"edits":[{"text":"\n        $stmt->bindParam(\":total_amount\", $this->total_amount);","range":{"startLineNumber":71,"startColumn":1,"endLineNumber":71,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":710,"edits":[{"text":"\n        $stmt->bindParam(\":notes\", $this->notes);","range":{"startLineNumber":72,"startColumn":1,"endLineNumber":72,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":711,"edits":[{"text":"\n        $stmt->bindParam(\":approved_by\", $this->approved_by);","range":{"startLineNumber":73,"startColumn":1,"endLineNumber":73,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":712,"edits":[{"text":"\n        $stmt->bindParam(\":approved_at\", $this->approved_at);","range":{"startLineNumber":74,"startColumn":1,"endLineNumber":74,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":713,"edits":[{"text":"\n        $stmt->bindParam(\":created_by\", $this->created_by);","range":{"startLineNumber":75,"startColumn":1,"endLineNumber":75,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":714,"edits":[{"text":"\n","range":{"startLineNumber":76,"startColumn":1,"endLineNumber":76,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":715,"edits":[{"text":"\n        if ($stmt->execute()) {","range":{"startLineNumber":77,"startColumn":1,"endLineNumber":77,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":716,"edits":[{"text":"\n            $this->id = $this->conn->lastInsertId();","range":{"startLineNumber":78,"startColumn":1,"endLineNumber":78,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":717,"edits":[{"text":"\n            return true;","range":{"startLineNumber":79,"startColumn":1,"endLineNumber":79,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":718,"edits":[{"text":"\n        }","range":{"startLineNumber":80,"startColumn":1,"endLineNumber":80,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":719,"edits":[{"text":"\n","range":{"startLineNumber":81,"startColumn":1,"endLineNumber":81,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":720,"edits":[{"text":"\n        return false;","range":{"startLineNumber":82,"startColumn":1,"endLineNumber":82,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":721,"edits":[{"text":"\n    }","range":{"startLineNumber":83,"startColumn":1,"endLineNumber":83,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":722,"edits":[{"text":"\n","range":{"startLineNumber":84,"startColumn":1,"endLineNumber":84,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":723,"edits":[{"text":"\n    public function readBySupplierId($supplier_id) {","range":{"startLineNumber":85,"startColumn":1,"endLineNumber":85,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":724,"edits":[{"text":"\n        $query = \"SELECT so.*, s.name as supplier_name, u.username as creator_name,","range":{"startLineNumber":86,"startColumn":1,"endLineNumber":86,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":725,"edits":[{"text":"\n                         a.username as approver_name","range":{"startLineNumber":87,"startColumn":1,"endLineNumber":87,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":726,"edits":[{"text":"\n                 FROM \" . $this->table_name . \" so","range":{"startLineNumber":88,"startColumn":1,"endLineNumber":88,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":727,"edits":[{"text":"\n                 JOIN suppliers s ON so.supplier_id = s.id","range":{"startLineNumber":89,"startColumn":1,"endLineNumber":89,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":728,"edits":[{"text":"\n                 LEFT JOIN users u ON so.created_by = u.id","range":{"startLineNumber":90,"startColumn":1,"endLineNumber":90,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":729,"edits":[{"text":"\n                 LEFT JOIN users a ON so.approved_by = a.id","range":{"startLineNumber":91,"startColumn":1,"endLineNumber":91,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":730,"edits":[{"text":"\n                 WHERE so.supplier_id = :supplier_id ","range":{"startLineNumber":92,"startColumn":1,"endLineNumber":92,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":731,"edits":[{"text":"\n                 ORDER BY so.order_date DESC\";","range":{"startLineNumber":93,"startColumn":1,"endLineNumber":93,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":732,"edits":[{"text":"\n        ","range":{"startLineNumber":94,"startColumn":1,"endLineNumber":94,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":733,"edits":[{"text":"\n        $stmt = $this->conn->prepare($query);","range":{"startLineNumber":95,"startColumn":1,"endLineNumber":95,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":734,"edits":[{"text":"\n        $stmt->bindParam(':supplier_id', $supplier_id);","range":{"startLineNumber":96,"startColumn":1,"endLineNumber":96,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":735,"edits":[{"text":"\n        $stmt->execute();","range":{"startLineNumber":97,"startColumn":1,"endLineNumber":97,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":736,"edits":[{"text":"\n        ","range":{"startLineNumber":98,"startColumn":1,"endLineNumber":98,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":737,"edits":[{"text":"\n        return $stmt;","range":{"startLineNumber":99,"startColumn":1,"endLineNumber":99,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":738,"edits":[{"text":"\n    }","range":{"startLineNumber":100,"startColumn":1,"endLineNumber":100,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":739,"edits":[{"text":"\n","range":{"startLineNumber":101,"startColumn":1,"endLineNumber":101,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":740,"edits":[{"text":"\n    public function readAll($filters = []) {","range":{"startLineNumber":102,"startColumn":1,"endLineNumber":102,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":741,"edits":[{"text":"\n        $query = \"SELECT so.*, s.name as supplier_name, u.username as creator_name","range":{"startLineNumber":103,"startColumn":1,"endLineNumber":103,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":742,"edits":[{"text":"\n                 FROM \" . $this->table_name . \" so","range":{"startLineNumber":104,"startColumn":1,"endLineNumber":104,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":743,"edits":[{"text":"\n                 JOIN suppliers s ON so.supplier_id = s.id","range":{"startLineNumber":105,"startColumn":1,"endLineNumber":105,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":744,"edits":[{"text":"\n                 LEFT JOIN users u ON so.created_by = u.id","range":{"startLineNumber":106,"startColumn":1,"endLineNumber":106,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":745,"edits":[{"text":"\n                 WHERE 1=1\";","range":{"startLineNumber":107,"startColumn":1,"endLineNumber":107,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":746,"edits":[{"text":"\n        ","range":{"startLineNumber":108,"startColumn":1,"endLineNumber":108,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":747,"edits":[{"text":"\n        // Filtros","range":{"startLineNumber":109,"startColumn":1,"endLineNumber":109,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":748,"edits":[{"text":"\n        if (!empty($filters['status'])) {","range":{"startLineNumber":110,"startColumn":1,"endLineNumber":110,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":749,"edits":[{"text":"\n            $query .= \" AND so.status = :status\";","range":{"startLineNumber":111,"startColumn":1,"endLineNumber":111,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":750,"edits":[{"text":"\n        }","range":{"startLineNumber":112,"startColumn":1,"endLineNumber":112,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":751,"edits":[{"text":"\n        if (!empty($filters['supplier_id'])) {","range":{"startLineNumber":113,"startColumn":1,"endLineNumber":113,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":752,"edits":[{"text":"\n            $query .= \" AND so.supplier_id = :supplier_id\";","range":{"startLineNumber":114,"startColumn":1,"endLineNumber":114,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":753,"edits":[{"text":"\n        }","range":{"startLineNumber":115,"startColumn":1,"endLineNumber":115,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":754,"edits":[{"text":"\n        if (!empty($filters['year'])) {","range":{"startLineNumber":116,"startColumn":1,"endLineNumber":116,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":755,"edits":[{"text":"\n            $query .= \" AND YEAR(so.order_date) = :year\";","range":{"startLineNumber":117,"startColumn":1,"endLineNumber":117,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":756,"edits":[{"text":"\n        }","range":{"startLineNumber":118,"startColumn":1,"endLineNumber":118,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":757,"edits":[{"text":"\n        ","range":{"startLineNumber":119,"startColumn":1,"endLineNumber":119,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":758,"edits":[{"text":"\n        $query .= \" ORDER BY so.order_date DESC\";","range":{"startLineNumber":120,"startColumn":1,"endLineNumber":120,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":759,"edits":[{"text":"\n        ","range":{"startLineNumber":121,"startColumn":1,"endLineNumber":121,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":760,"edits":[{"text":"\n        $stmt = $this->conn->prepare($query);","range":{"startLineNumber":122,"startColumn":1,"endLineNumber":122,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":761,"edits":[{"text":"\n        ","range":{"startLineNumber":123,"startColumn":1,"endLineNumber":123,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":762,"edits":[{"text":"\n        if (!empty($filters['status'])) {","range":{"startLineNumber":124,"startColumn":1,"endLineNumber":124,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":763,"edits":[{"text":"\n            $stmt->bindParam(':status', $filters['status']);","range":{"startLineNumber":125,"startColumn":1,"endLineNumber":125,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":764,"edits":[{"text":"\n        }","range":{"startLineNumber":126,"startColumn":1,"endLineNumber":126,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":765,"edits":[{"text":"\n        if (!empty($filters['supplier_id'])) {","range":{"startLineNumber":127,"startColumn":1,"endLineNumber":127,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":766,"edits":[{"text":"\n            $stmt->bindParam(':supplier_id', $filters['supplier_id']);","range":{"startLineNumber":128,"startColumn":1,"endLineNumber":128,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":767,"edits":[{"text":"\n        }","range":{"startLineNumber":129,"startColumn":1,"endLineNumber":129,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":768,"edits":[{"text":"\n        if (!empty($filters['year'])) {","range":{"startLineNumber":130,"startColumn":1,"endLineNumber":130,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":769,"edits":[{"text":"\n            $stmt->bindParam(':year', $filters['year']);","range":{"startLineNumber":131,"startColumn":1,"endLineNumber":131,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":770,"edits":[{"text":"\n        }","range":{"startLineNumber":132,"startColumn":1,"endLineNumber":132,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":771,"edits":[{"text":"\n        ","range":{"startLineNumber":133,"startColumn":1,"endLineNumber":133,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":772,"edits":[{"text":"\n        $stmt->execute();","range":{"startLineNumber":134,"startColumn":1,"endLineNumber":134,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":773,"edits":[{"text":"\n        ","range":{"startLineNumber":135,"startColumn":1,"endLineNumber":135,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":774,"edits":[{"text":"\n        return $stmt;","range":{"startLineNumber":136,"startColumn":1,"endLineNumber":136,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":775,"edits":[{"text":"\n    }","range":{"startLineNumber":137,"startColumn":1,"endLineNumber":137,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":776,"edits":[{"text":"\n","range":{"startLineNumber":138,"startColumn":1,"endLineNumber":138,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":777,"edits":[{"text":"\n    public function readOne() {","range":{"startLineNumber":139,"startColumn":1,"endLineNumber":139,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":778,"edits":[{"text":"\n        $query = \"SELECT so.*, s.name as supplier_name, s.email as supplier_email,","range":{"startLineNumber":140,"startColumn":1,"endLineNumber":140,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":779,"edits":[{"text":"\n                         s.phone as supplier_phone, u.username as creator_name","range":{"startLineNumber":141,"startColumn":1,"endLineNumber":141,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":780,"edits":[{"text":"\n                 FROM \" . $this->table_name . \" so","range":{"startLineNumber":142,"startColumn":1,"endLineNumber":142,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":781,"edits":[{"text":"\n                 JOIN suppliers s ON so.supplier_id = s.id","range":{"startLineNumber":143,"startColumn":1,"endLineNumber":143,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":782,"edits":[{"text":"\n                 LEFT JOIN users u ON so.created_by = u.id","range":{"startLineNumber":144,"startColumn":1,"endLineNumber":144,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":783,"edits":[{"text":"\n                 WHERE so.id = ? ","range":{"startLineNumber":145,"startColumn":1,"endLineNumber":145,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":784,"edits":[{"text":"\n                 LIMIT 0,1\";","range":{"startLineNumber":146,"startColumn":1,"endLineNumber":146,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":785,"edits":[{"text":"\n        ","range":{"startLineNumber":147,"startColumn":1,"endLineNumber":147,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":786,"edits":[{"text":"\n        $stmt = $this->conn->prepare($query);","range":{"startLineNumber":148,"startColumn":1,"endLineNumber":148,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":787,"edits":[{"text":"\n        $stmt->bindParam(1, $this->id);","range":{"startLineNumber":149,"startColumn":1,"endLineNumber":149,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":788,"edits":[{"text":"\n        $stmt->execute();","range":{"startLineNumber":150,"startColumn":1,"endLineNumber":150,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":789,"edits":[{"text":"\n","range":{"startLineNumber":151,"startColumn":1,"endLineNumber":151,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":790,"edits":[{"text":"\n        $row = $stmt->fetch(PDO::FETCH_ASSOC);","range":{"startLineNumber":152,"startColumn":1,"endLineNumber":152,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":791,"edits":[{"text":"\n","range":{"startLineNumber":153,"startColumn":1,"endLineNumber":153,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":792,"edits":[{"text":"\n        if ($row) {","range":{"startLineNumber":154,"startColumn":1,"endLineNumber":154,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":793,"edits":[{"text":"\n            $this->supplier_id = $row['supplier_id'];","range":{"startLineNumber":155,"startColumn":1,"endLineNumber":155,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":794,"edits":[{"text":"\n            $this->order_number = $row['order_number'];","range":{"startLineNumber":156,"startColumn":1,"endLineNumber":156,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":795,"edits":[{"text":"\n            $this->order_date = $row['order_date'];","range":{"startLineNumber":157,"startColumn":1,"endLineNumber":157,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":796,"edits":[{"text":"\n            $this->expected_delivery_date = $row['expected_delivery_date'];","range":{"startLineNumber":158,"startColumn":1,"endLineNumber":158,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":797,"edits":[{"text":"\n            $this->status = $row['status'];","range":{"startLineNumber":159,"startColumn":1,"endLineNumber":159,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":798,"edits":[{"text":"\n            $this->subtotal = $row['subtotal'];","range":{"startLineNumber":160,"startColumn":1,"endLineNumber":160,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":799,"edits":[{"text":"\n            $this->tax_amount = $row['tax_amount'];","range":{"startLineNumber":161,"startColumn":1,"endLineNumber":161,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":800,"edits":[{"text":"\n            $this->discount_amount = $row['discount_amount'];","range":{"startLineNumber":162,"startColumn":1,"endLineNumber":162,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":801,"edits":[{"text":"\n            $this->total_amount = $row['total_amount'];","range":{"startLineNumber":163,"startColumn":1,"endLineNumber":163,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":802,"edits":[{"text":"\n            $this->notes = $row['notes'];","range":{"startLineNumber":164,"startColumn":1,"endLineNumber":164,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":803,"edits":[{"text":"\n            $this->approved_by = $row['approved_by'];","range":{"startLineNumber":165,"startColumn":1,"endLineNumber":165,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":804,"edits":[{"text":"\n            $this->approved_at = $row['approved_at'];","range":{"startLineNumber":166,"startColumn":1,"endLineNumber":166,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":805,"edits":[{"text":"\n            $this->created_by = $row['created_by'];","range":{"startLineNumber":167,"startColumn":1,"endLineNumber":167,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":806,"edits":[{"text":"\n            $this->created_at = $row['created_at'];","range":{"startLineNumber":168,"startColumn":1,"endLineNumber":168,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":807,"edits":[{"text":"\n            $this->updated_at = $row['updated_at'];","range":{"startLineNumber":169,"startColumn":1,"endLineNumber":169,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":808,"edits":[{"text":"\n            return true;","range":{"startLineNumber":170,"startColumn":1,"endLineNumber":170,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":809,"edits":[{"text":"\n        }","range":{"startLineNumber":171,"startColumn":1,"endLineNumber":171,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":810,"edits":[{"text":"\n","range":{"startLineNumber":172,"startColumn":1,"endLineNumber":172,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":811,"edits":[{"text":"\n        return false;","range":{"startLineNumber":173,"startColumn":1,"endLineNumber":173,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":812,"edits":[{"text":"\n    }","range":{"startLineNumber":174,"startColumn":1,"endLineNumber":174,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":813,"edits":[{"text":"\n","range":{"startLineNumber":175,"startColumn":1,"endLineNumber":175,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":814,"edits":[{"text":"\n    public function update() {","range":{"startLineNumber":176,"startColumn":1,"endLineNumber":176,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":815,"edits":[{"text":"\n        $query = \"UPDATE \" . $this->table_name . \"","range":{"startLineNumber":177,"startColumn":1,"endLineNumber":177,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":816,"edits":[{"text":"\n                SET","range":{"startLineNumber":178,"startColumn":1,"endLineNumber":178,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":817,"edits":[{"text":"\n                    expected_delivery_date = :expected_delivery_date,","range":{"startLineNumber":179,"startColumn":1,"endLineNumber":179,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":818,"edits":[{"text":"\n                    status = :status,","range":{"startLineNumber":180,"startColumn":1,"endLineNumber":180,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":819,"edits":[{"text":"\n                    subtotal = :subtotal,","range":{"startLineNumber":181,"startColumn":1,"endLineNumber":181,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":820,"edits":[{"text":"\n                    tax_amount = :tax_amount,","range":{"startLineNumber":182,"startColumn":1,"endLineNumber":182,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":821,"edits":[{"text":"\n                    discount_amount = :discount_amount,","range":{"startLineNumber":183,"startColumn":1,"endLineNumber":183,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":822,"edits":[{"text":"\n                    total_amount = :total_amount,","range":{"startLineNumber":184,"startColumn":1,"endLineNumber":184,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":823,"edits":[{"text":"\n                    notes = :notes,","range":{"startLineNumber":185,"startColumn":1,"endLineNumber":185,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":824,"edits":[{"text":"\n                    approved_by = :approved_by,","range":{"startLineNumber":186,"startColumn":1,"endLineNumber":186,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":825,"edits":[{"text":"\n                    approved_at = :approved_at","range":{"startLineNumber":187,"startColumn":1,"endLineNumber":187,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":826,"edits":[{"text":"\n                WHERE id = :id\";","range":{"startLineNumber":188,"startColumn":1,"endLineNumber":188,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":827,"edits":[{"text":"\n","range":{"startLineNumber":189,"startColumn":1,"endLineNumber":189,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":828,"edits":[{"text":"\n        $stmt = $this->conn->prepare($query);","range":{"startLineNumber":190,"startColumn":1,"endLineNumber":190,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":829,"edits":[{"text":"\n","range":{"startLineNumber":191,"startColumn":1,"endLineNumber":191,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":830,"edits":[{"text":"\n        // Sanitize","range":{"startLineNumber":192,"startColumn":1,"endLineNumber":192,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":831,"edits":[{"text":"\n        $this->expected_delivery_date = !empty($this->expected_delivery_date) ? $this->expected_delivery_date : null;","range":{"startLineNumber":193,"startColumn":1,"endLineNumber":193,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":832,"edits":[{"text":"\n        $this->status = htmlspecialchars(strip_tags($this->status ?? 'draft'));","range":{"startLineNumber":194,"startColumn":1,"endLineNumber":194,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":833,"edits":[{"text":"\n        $this->subtotal = floatval($this->subtotal ?? 0.00);","range":{"startLineNumber":195,"startColumn":1,"endLineNumber":195,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":834,"edits":[{"text":"\n        $this->tax_amount = floatval($this->tax_amount ?? 0.00);","range":{"startLineNumber":196,"startColumn":1,"endLineNumber":196,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":835,"edits":[{"text":"\n        $this->discount_amount = floatval($this->discount_amount ?? 0.00);","range":{"startLineNumber":197,"startColumn":1,"endLineNumber":197,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":836,"edits":[{"text":"\n        $this->total_amount = floatval($this->total_amount ?? 0.00);","range":{"startLineNumber":198,"startColumn":1,"endLineNumber":198,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":837,"edits":[{"text":"\n        $this->notes = htmlspecialchars(strip_tags($this->notes ?? ''));","range":{"startLineNumber":199,"startColumn":1,"endLineNumber":199,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":838,"edits":[{"text":"\n        $this->approved_by = !empty($this->approved_by) ? intval($this->approved_by) : null;","range":{"startLineNumber":200,"startColumn":1,"endLineNumber":200,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":839,"edits":[{"text":"\n        $this->approved_at = !empty($this->approved_at) ? $this->approved_at : null;","range":{"startLineNumber":201,"startColumn":1,"endLineNumber":201,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":840,"edits":[{"text":"\n        $this->id = intval($this->id);","range":{"startLineNumber":202,"startColumn":1,"endLineNumber":202,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":841,"edits":[{"text":"\n","range":{"startLineNumber":203,"startColumn":1,"endLineNumber":203,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":842,"edits":[{"text":"\n        // Bind values","range":{"startLineNumber":204,"startColumn":1,"endLineNumber":204,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":843,"edits":[{"text":"\n        $stmt->bindParam(\":expected_delivery_date\", $this->expected_delivery_date);","range":{"startLineNumber":205,"startColumn":1,"endLineNumber":205,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":844,"edits":[{"text":"\n        $stmt->bindParam(\":status\", $this->status);","range":{"startLineNumber":206,"startColumn":1,"endLineNumber":206,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":845,"edits":[{"text":"\n        $stmt->bindParam(\":subtotal\", $this->subtotal);","range":{"startLineNumber":207,"startColumn":1,"endLineNumber":207,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":846,"edits":[{"text":"\n        $stmt->bindParam(\":tax_amount\", $this->tax_amount);","range":{"startLineNumber":208,"startColumn":1,"endLineNumber":208,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":847,"edits":[{"text":"\n        $stmt->bindParam(\":discount_amount\", $this->discount_amount);","range":{"startLineNumber":209,"startColumn":1,"endLineNumber":209,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":848,"edits":[{"text":"\n        $stmt->bindParam(\":total_amount\", $this->total_amount);","range":{"startLineNumber":210,"startColumn":1,"endLineNumber":210,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":849,"edits":[{"text":"\n        $stmt->bindParam(\":notes\", $this->notes);","range":{"startLineNumber":211,"startColumn":1,"endLineNumber":211,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":850,"edits":[{"text":"\n        $stmt->bindParam(\":approved_by\", $this->approved_by);","range":{"startLineNumber":212,"startColumn":1,"endLineNumber":212,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":851,"edits":[{"text":"\n        $stmt->bindParam(\":approved_at\", $this->approved_at);","range":{"startLineNumber":213,"startColumn":1,"endLineNumber":213,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":852,"edits":[{"text":"\n        $stmt->bindParam(\":id\", $this->id);","range":{"startLineNumber":214,"startColumn":1,"endLineNumber":214,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":853,"edits":[{"text":"\n","range":{"startLineNumber":215,"startColumn":1,"endLineNumber":215,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":854,"edits":[{"text":"\n        if ($stmt->execute()) {","range":{"startLineNumber":216,"startColumn":1,"endLineNumber":216,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":855,"edits":[{"text":"\n            return true;","range":{"startLineNumber":217,"startColumn":1,"endLineNumber":217,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":856,"edits":[{"text":"\n        }","range":{"startLineNumber":218,"startColumn":1,"endLineNumber":218,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":857,"edits":[{"text":"\n","range":{"startLineNumber":219,"startColumn":1,"endLineNumber":219,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":858,"edits":[{"text":"\n        return false;","range":{"startLineNumber":220,"startColumn":1,"endLineNumber":220,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":859,"edits":[{"text":"\n    }","range":{"startLineNumber":221,"startColumn":1,"endLineNumber":221,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":860,"edits":[{"text":"\n","range":{"startLineNumber":222,"startColumn":1,"endLineNumber":222,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":861,"edits":[{"text":"\n    public function delete() {","range":{"startLineNumber":223,"startColumn":1,"endLineNumber":223,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":862,"edits":[{"text":"\n        $query = \"DELETE FROM \" . $this->table_name . \" WHERE id = ?\";","range":{"startLineNumber":224,"startColumn":1,"endLineNumber":224,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":863,"edits":[{"text":"\n        $stmt = $this->conn->prepare($query);","range":{"startLineNumber":225,"startColumn":1,"endLineNumber":225,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":864,"edits":[{"text":"\n        $this->id = intval($this->id);","range":{"startLineNumber":226,"startColumn":1,"endLineNumber":226,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":865,"edits":[{"text":"\n        $stmt->bindParam(1, $this->id);","range":{"startLineNumber":227,"startColumn":1,"endLineNumber":227,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":866,"edits":[{"text":"\n","range":{"startLineNumber":228,"startColumn":1,"endLineNumber":228,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":867,"edits":[{"text":"\n        if ($stmt->execute()) {","range":{"startLineNumber":229,"startColumn":1,"endLineNumber":229,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":868,"edits":[{"text":"\n            return true;","range":{"startLineNumber":230,"startColumn":1,"endLineNumber":230,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":869,"edits":[{"text":"\n        }","range":{"startLineNumber":231,"startColumn":1,"endLineNumber":231,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":870,"edits":[{"text":"\n","range":{"startLineNumber":232,"startColumn":1,"endLineNumber":232,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":871,"edits":[{"text":"\n        return false;","range":{"startLineNumber":233,"startColumn":1,"endLineNumber":233,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":872,"edits":[{"text":"\n    }","range":{"startLineNumber":234,"startColumn":1,"endLineNumber":234,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":873,"edits":[{"text":"\n","range":{"startLineNumber":235,"startColumn":1,"endLineNumber":235,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":874,"edits":[{"text":"\n    public function approve($user_id) {","range":{"startLineNumber":236,"startColumn":1,"endLineNumber":236,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":875,"edits":[{"text":"\n        $query = \"UPDATE \" . $this->table_name . \"","range":{"startLineNumber":237,"startColumn":1,"endLineNumber":237,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":876,"edits":[{"text":"\n                SET","range":{"startLineNumber":238,"startColumn":1,"endLineNumber":238,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":877,"edits":[{"text":"\n                    status = 'sent',","range":{"startLineNumber":239,"startColumn":1,"endLineNumber":239,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":878,"edits":[{"text":"\n                    approved_by = :approved_by,","range":{"startLineNumber":240,"startColumn":1,"endLineNumber":240,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":879,"edits":[{"text":"\n                    approved_at = NOW()","range":{"startLineNumber":241,"startColumn":1,"endLineNumber":241,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":880,"edits":[{"text":"\n                WHERE id = :id\";","range":{"startLineNumber":242,"startColumn":1,"endLineNumber":242,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":881,"edits":[{"text":"\n","range":{"startLineNumber":243,"startColumn":1,"endLineNumber":243,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":882,"edits":[{"text":"\n        $stmt = $this->conn->prepare($query);","range":{"startLineNumber":244,"startColumn":1,"endLineNumber":244,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":883,"edits":[{"text":"\n        $stmt->bindParam(\":approved_by\", $user_id);","range":{"startLineNumber":245,"startColumn":1,"endLineNumber":245,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":884,"edits":[{"text":"\n        $stmt->bindParam(\":id\", $this->id);","range":{"startLineNumber":246,"startColumn":1,"endLineNumber":246,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":885,"edits":[{"text":"\n","range":{"startLineNumber":247,"startColumn":1,"endLineNumber":247,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":886,"edits":[{"text":"\n        if ($stmt->execute()) {","range":{"startLineNumber":248,"startColumn":1,"endLineNumber":248,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":887,"edits":[{"text":"\n            return true;","range":{"startLineNumber":249,"startColumn":1,"endLineNumber":249,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":888,"edits":[{"text":"\n        }","range":{"startLineNumber":250,"startColumn":1,"endLineNumber":250,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":889,"edits":[{"text":"\n","range":{"startLineNumber":251,"startColumn":1,"endLineNumber":251,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":890,"edits":[{"text":"\n        return false;","range":{"startLineNumber":252,"startColumn":1,"endLineNumber":252,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":891,"edits":[{"text":"\n    }","range":{"startLineNumber":253,"startColumn":1,"endLineNumber":253,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":892,"edits":[{"text":"\n","range":{"startLineNumber":254,"startColumn":1,"endLineNumber":254,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":893,"edits":[{"text":"\n    public function getTotalAmount($year = null) {","range":{"startLineNumber":255,"startColumn":1,"endLineNumber":255,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":894,"edits":[{"text":"\n        $query = \"SELECT COALESCE(SUM(total_amount), 0) as total","range":{"startLineNumber":256,"startColumn":1,"endLineNumber":256,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":895,"edits":[{"text":"\n                 FROM \" . $this->table_name . \"","range":{"startLineNumber":257,"startColumn":1,"endLineNumber":257,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":896,"edits":[{"text":"\n                 WHERE status IN ('confirmed', 'received')\";","range":{"startLineNumber":258,"startColumn":1,"endLineNumber":258,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":897,"edits":[{"text":"\n        ","range":{"startLineNumber":259,"startColumn":1,"endLineNumber":259,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":898,"edits":[{"text":"\n        if ($year) {","range":{"startLineNumber":260,"startColumn":1,"endLineNumber":260,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":899,"edits":[{"text":"\n            $query .= \" AND YEAR(order_date) = :year\";","range":{"startLineNumber":261,"startColumn":1,"endLineNumber":261,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":900,"edits":[{"text":"\n        }","range":{"startLineNumber":262,"startColumn":1,"endLineNumber":262,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":901,"edits":[{"text":"\n        ","range":{"startLineNumber":263,"startColumn":1,"endLineNumber":263,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":902,"edits":[{"text":"\n        $stmt = $this->conn->prepare($query);","range":{"startLineNumber":264,"startColumn":1,"endLineNumber":264,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":903,"edits":[{"text":"\n        ","range":{"startLineNumber":265,"startColumn":1,"endLineNumber":265,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":904,"edits":[{"text":"\n        if ($year) {","range":{"startLineNumber":266,"startColumn":1,"endLineNumber":266,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":905,"edits":[{"text":"\n            $stmt->bindParam(':year', $year);","range":{"startLineNumber":267,"startColumn":1,"endLineNumber":267,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":906,"edits":[{"text":"\n        }","range":{"startLineNumber":268,"startColumn":1,"endLineNumber":268,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":907,"edits":[{"text":"\n        ","range":{"startLineNumber":269,"startColumn":1,"endLineNumber":269,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":908,"edits":[{"text":"\n        $stmt->execute();","range":{"startLineNumber":270,"startColumn":1,"endLineNumber":270,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":909,"edits":[{"text":"\n        $row = $stmt->fetch(PDO::FETCH_ASSOC);","range":{"startLineNumber":271,"startColumn":1,"endLineNumber":271,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":910,"edits":[{"text":"\n        ","range":{"startLineNumber":272,"startColumn":1,"endLineNumber":272,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":911,"edits":[{"text":"\n        return $row['total'];","range":{"startLineNumber":273,"startColumn":1,"endLineNumber":273,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":912,"edits":[{"text":"\n    }","range":{"startLineNumber":274,"startColumn":1,"endLineNumber":274,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":913,"edits":[{"text":"\n","range":{"startLineNumber":275,"startColumn":1,"endLineNumber":275,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":914,"edits":[{"text":"\n    public function getPendingOrders() {","range":{"startLineNumber":276,"startColumn":1,"endLineNumber":276,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":915,"edits":[{"text":"\n        $query = \"SELECT COUNT(*) as count","range":{"startLineNumber":277,"startColumn":1,"endLineNumber":277,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":916,"edits":[{"text":"\n                 FROM \" . $this->table_name . \"","range":{"startLineNumber":278,"startColumn":1,"endLineNumber":278,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":917,"edits":[{"text":"\n                 WHERE status IN ('sent', 'confirmed')\";","range":{"startLineNumber":279,"startColumn":1,"endLineNumber":279,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":918,"edits":[{"text":"\n        ","range":{"startLineNumber":280,"startColumn":1,"endLineNumber":280,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":919,"edits":[{"text":"\n        $stmt = $this->conn->prepare($query);","range":{"startLineNumber":281,"startColumn":1,"endLineNumber":281,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":920,"edits":[{"text":"\n        $stmt->execute();","range":{"startLineNumber":282,"startColumn":1,"endLineNumber":282,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":921,"edits":[{"text":"\n        $row = $stmt->fetch(PDO::FETCH_ASSOC);","range":{"startLineNumber":283,"startColumn":1,"endLineNumber":283,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":922,"edits":[{"text":"\n        ","range":{"startLineNumber":284,"startColumn":1,"endLineNumber":284,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":923,"edits":[{"text":"\n        return $row['count'];","range":{"startLineNumber":285,"startColumn":1,"endLineNumber":285,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":924,"edits":[{"text":"\n    }","range":{"startLineNumber":286,"startColumn":1,"endLineNumber":286,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":925,"edits":[{"text":"\n}","range":{"startLineNumber":287,"startColumn":1,"endLineNumber":287,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":926,"edits":[{"text":"\n?>","range":{"startLineNumber":288,"startColumn":1,"endLineNumber":288,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":927,"edits":[{"text":"\n","range":{"startLineNumber":289,"startColumn":1,"endLineNumber":289,"endColumn":1}}]},{"type":"create","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":928,"initialContent":"","telemetryInfo":{}},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":930,"edits":[{"text":"<?php","range":{"startLineNumber":1,"startColumn":1,"endLineNumber":1,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":931,"edits":[{"text":"\n","range":{"startLineNumber":2,"startColumn":1,"endLineNumber":2,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":932,"edits":[{"text":"\nclass SupplierOrderLine {","range":{"startLineNumber":3,"startColumn":1,"endLineNumber":3,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":933,"edits":[{"text":"\n    private $conn;","range":{"startLineNumber":4,"startColumn":1,"endLineNumber":4,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":934,"edits":[{"text":"\n    private $table_name = \"supplier_order_lines\";","range":{"startLineNumber":5,"startColumn":1,"endLineNumber":5,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":935,"edits":[{"text":"\n","range":{"startLineNumber":6,"startColumn":1,"endLineNumber":6,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":936,"edits":[{"text":"\n    public $id;","range":{"startLineNumber":7,"startColumn":1,"endLineNumber":7,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":937,"edits":[{"text":"\n    public $order_id;","range":{"startLineNumber":8,"startColumn":1,"endLineNumber":8,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":938,"edits":[{"text":"\n    public $line_number;","range":{"startLineNumber":9,"startColumn":1,"endLineNumber":9,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":939,"edits":[{"text":"\n    public $description;","range":{"startLineNumber":10,"startColumn":1,"endLineNumber":10,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":940,"edits":[{"text":"\n    public $quantity;","range":{"startLineNumber":11,"startColumn":1,"endLineNumber":11,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":941,"edits":[{"text":"\n    public $unit_price;","range":{"startLineNumber":12,"startColumn":1,"endLineNumber":12,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":942,"edits":[{"text":"\n    public $tax_rate;","range":{"startLineNumber":13,"startColumn":1,"endLineNumber":13,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":943,"edits":[{"text":"\n    public $discount_rate;","range":{"startLineNumber":14,"startColumn":1,"endLineNumber":14,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":944,"edits":[{"text":"\n    public $line_total;","range":{"startLineNumber":15,"startColumn":1,"endLineNumber":15,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":945,"edits":[{"text":"\n    public $notes;","range":{"startLineNumber":16,"startColumn":1,"endLineNumber":16,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":946,"edits":[{"text":"\n","range":{"startLineNumber":17,"startColumn":1,"endLineNumber":17,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":947,"edits":[{"text":"\n    public function __construct($db) {","range":{"startLineNumber":18,"startColumn":1,"endLineNumber":18,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":948,"edits":[{"text":"\n        $this->conn = $db;","range":{"startLineNumber":19,"startColumn":1,"endLineNumber":19,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":949,"edits":[{"text":"\n    }","range":{"startLineNumber":20,"startColumn":1,"endLineNumber":20,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":950,"edits":[{"text":"\n","range":{"startLineNumber":21,"startColumn":1,"endLineNumber":21,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":951,"edits":[{"text":"\n    public function create() {","range":{"startLineNumber":22,"startColumn":1,"endLineNumber":22,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":952,"edits":[{"text":"\n        $query = \"INSERT INTO \" . $this->table_name . \"","range":{"startLineNumber":23,"startColumn":1,"endLineNumber":23,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":953,"edits":[{"text":"\n                SET","range":{"startLineNumber":24,"startColumn":1,"endLineNumber":24,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":954,"edits":[{"text":"\n                    order_id = :order_id,","range":{"startLineNumber":25,"startColumn":1,"endLineNumber":25,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":955,"edits":[{"text":"\n                    line_number = :line_number,","range":{"startLineNumber":26,"startColumn":1,"endLineNumber":26,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":956,"edits":[{"text":"\n                    description = :description,","range":{"startLineNumber":27,"startColumn":1,"endLineNumber":27,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":957,"edits":[{"text":"\n                    quantity = :quantity,","range":{"startLineNumber":28,"startColumn":1,"endLineNumber":28,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":958,"edits":[{"text":"\n                    unit_price = :unit_price,","range":{"startLineNumber":29,"startColumn":1,"endLineNumber":29,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":959,"edits":[{"text":"\n                    tax_rate = :tax_rate,","range":{"startLineNumber":30,"startColumn":1,"endLineNumber":30,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":960,"edits":[{"text":"\n                    discount_rate = :discount_rate,","range":{"startLineNumber":31,"startColumn":1,"endLineNumber":31,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":961,"edits":[{"text":"\n                    line_total = :line_total,","range":{"startLineNumber":32,"startColumn":1,"endLineNumber":32,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":962,"edits":[{"text":"\n                    notes = :notes\";","range":{"startLineNumber":33,"startColumn":1,"endLineNumber":33,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":963,"edits":[{"text":"\n","range":{"startLineNumber":34,"startColumn":1,"endLineNumber":34,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":964,"edits":[{"text":"\n        $stmt = $this->conn->prepare($query);","range":{"startLineNumber":35,"startColumn":1,"endLineNumber":35,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":965,"edits":[{"text":"\n","range":{"startLineNumber":36,"startColumn":1,"endLineNumber":36,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":966,"edits":[{"text":"\n        // Sanitize","range":{"startLineNumber":37,"startColumn":1,"endLineNumber":37,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":967,"edits":[{"text":"\n        $this->order_id = intval($this->order_id);","range":{"startLineNumber":38,"startColumn":1,"endLineNumber":38,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":968,"edits":[{"text":"\n        $this->line_number = intval($this->line_number);","range":{"startLineNumber":39,"startColumn":1,"endLineNumber":39,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":969,"edits":[{"text":"\n        $this->description = htmlspecialchars(strip_tags($this->description ?? ''));","range":{"startLineNumber":40,"startColumn":1,"endLineNumber":40,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":970,"edits":[{"text":"\n        $this->quantity = floatval($this->quantity ?? 1.00);","range":{"startLineNumber":41,"startColumn":1,"endLineNumber":41,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":971,"edits":[{"text":"\n        $this->unit_price = floatval($this->unit_price ?? 0.00);","range":{"startLineNumber":42,"startColumn":1,"endLineNumber":42,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":972,"edits":[{"text":"\n        $this->tax_rate = floatval($this->tax_rate ?? 21.00);","range":{"startLineNumber":43,"startColumn":1,"endLineNumber":43,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":973,"edits":[{"text":"\n        $this->discount_rate = floatval($this->discount_rate ?? 0.00);","range":{"startLineNumber":44,"startColumn":1,"endLineNumber":44,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":974,"edits":[{"text":"\n        $this->notes = htmlspecialchars(strip_tags($this->notes ?? ''));","range":{"startLineNumber":45,"startColumn":1,"endLineNumber":45,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":975,"edits":[{"text":"\n        ","range":{"startLineNumber":46,"startColumn":1,"endLineNumber":46,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":976,"edits":[{"text":"\n        // Calcular total de la línea","range":{"startLineNumber":47,"startColumn":1,"endLineNumber":47,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":977,"edits":[{"text":"\n        $base = $this->quantity * $this->unit_price;","range":{"startLineNumber":48,"startColumn":1,"endLineNumber":48,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":978,"edits":[{"text":"\n        $discounted = $base - ($base * $this->discount_rate / 100);","range":{"startLineNumber":49,"startColumn":1,"endLineNumber":49,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":979,"edits":[{"text":"\n        $this->line_total = $discounted + ($discounted * $this->tax_rate / 100);","range":{"startLineNumber":50,"startColumn":1,"endLineNumber":50,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":980,"edits":[{"text":"\n","range":{"startLineNumber":51,"startColumn":1,"endLineNumber":51,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":981,"edits":[{"text":"\n        // Bind values","range":{"startLineNumber":52,"startColumn":1,"endLineNumber":52,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":982,"edits":[{"text":"\n        $stmt->bindParam(\":order_id\", $this->order_id);","range":{"startLineNumber":53,"startColumn":1,"endLineNumber":53,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":983,"edits":[{"text":"\n        $stmt->bindParam(\":line_number\", $this->line_number);","range":{"startLineNumber":54,"startColumn":1,"endLineNumber":54,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":984,"edits":[{"text":"\n        $stmt->bindParam(\":description\", $this->description);","range":{"startLineNumber":55,"startColumn":1,"endLineNumber":55,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":985,"edits":[{"text":"\n        $stmt->bindParam(\":quantity\", $this->quantity);","range":{"startLineNumber":56,"startColumn":1,"endLineNumber":56,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":986,"edits":[{"text":"\n        $stmt->bindParam(\":unit_price\", $this->unit_price);","range":{"startLineNumber":57,"startColumn":1,"endLineNumber":57,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":987,"edits":[{"text":"\n        $stmt->bindParam(\":tax_rate\", $this->tax_rate);","range":{"startLineNumber":58,"startColumn":1,"endLineNumber":58,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":988,"edits":[{"text":"\n        $stmt->bindParam(\":discount_rate\", $this->discount_rate);","range":{"startLineNumber":59,"startColumn":1,"endLineNumber":59,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":989,"edits":[{"text":"\n        $stmt->bindParam(\":line_total\", $this->line_total);","range":{"startLineNumber":60,"startColumn":1,"endLineNumber":60,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":990,"edits":[{"text":"\n        $stmt->bindParam(\":notes\", $this->notes);","range":{"startLineNumber":61,"startColumn":1,"endLineNumber":61,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":991,"edits":[{"text":"\n","range":{"startLineNumber":62,"startColumn":1,"endLineNumber":62,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":992,"edits":[{"text":"\n        if ($stmt->execute()) {","range":{"startLineNumber":63,"startColumn":1,"endLineNumber":63,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":993,"edits":[{"text":"\n            $this->id = $this->conn->lastInsertId();","range":{"startLineNumber":64,"startColumn":1,"endLineNumber":64,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":994,"edits":[{"text":"\n            return true;","range":{"startLineNumber":65,"startColumn":1,"endLineNumber":65,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":995,"edits":[{"text":"\n        }","range":{"startLineNumber":66,"startColumn":1,"endLineNumber":66,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":996,"edits":[{"text":"\n","range":{"startLineNumber":67,"startColumn":1,"endLineNumber":67,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":997,"edits":[{"text":"\n        return false;","range":{"startLineNumber":68,"startColumn":1,"endLineNumber":68,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":998,"edits":[{"text":"\n    }","range":{"startLineNumber":69,"startColumn":1,"endLineNumber":69,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":999,"edits":[{"text":"\n","range":{"startLineNumber":70,"startColumn":1,"endLineNumber":70,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1000,"edits":[{"text":"\n    public function readByOrderId($order_id) {","range":{"startLineNumber":71,"startColumn":1,"endLineNumber":71,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1001,"edits":[{"text":"\n        $query = \"SELECT * FROM \" . $this->table_name . \" ","range":{"startLineNumber":72,"startColumn":1,"endLineNumber":72,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1002,"edits":[{"text":"\n                 WHERE order_id = :order_id ","range":{"startLineNumber":73,"startColumn":1,"endLineNumber":73,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1003,"edits":[{"text":"\n                 ORDER BY line_number ASC\";","range":{"startLineNumber":74,"startColumn":1,"endLineNumber":74,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1004,"edits":[{"text":"\n        ","range":{"startLineNumber":75,"startColumn":1,"endLineNumber":75,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1005,"edits":[{"text":"\n        $stmt = $this->conn->prepare($query);","range":{"startLineNumber":76,"startColumn":1,"endLineNumber":76,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1006,"edits":[{"text":"\n        $stmt->bindParam(':order_id', $order_id);","range":{"startLineNumber":77,"startColumn":1,"endLineNumber":77,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1007,"edits":[{"text":"\n        $stmt->execute();","range":{"startLineNumber":78,"startColumn":1,"endLineNumber":78,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1008,"edits":[{"text":"\n        ","range":{"startLineNumber":79,"startColumn":1,"endLineNumber":79,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1009,"edits":[{"text":"\n        return $stmt;","range":{"startLineNumber":80,"startColumn":1,"endLineNumber":80,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1010,"edits":[{"text":"\n    }","range":{"startLineNumber":81,"startColumn":1,"endLineNumber":81,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1011,"edits":[{"text":"\n","range":{"startLineNumber":82,"startColumn":1,"endLineNumber":82,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1012,"edits":[{"text":"\n    public function readOne() {","range":{"startLineNumber":83,"startColumn":1,"endLineNumber":83,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1013,"edits":[{"text":"\n        $query = \"SELECT * FROM \" . $this->table_name . \" WHERE id = ? LIMIT 0,1\";","range":{"startLineNumber":84,"startColumn":1,"endLineNumber":84,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1014,"edits":[{"text":"\n        $stmt = $this->conn->prepare($query);","range":{"startLineNumber":85,"startColumn":1,"endLineNumber":85,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1015,"edits":[{"text":"\n        $stmt->bindParam(1, $this->id);","range":{"startLineNumber":86,"startColumn":1,"endLineNumber":86,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1016,"edits":[{"text":"\n        $stmt->execute();","range":{"startLineNumber":87,"startColumn":1,"endLineNumber":87,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1017,"edits":[{"text":"\n","range":{"startLineNumber":88,"startColumn":1,"endLineNumber":88,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1018,"edits":[{"text":"\n        $row = $stmt->fetch(PDO::FETCH_ASSOC);","range":{"startLineNumber":89,"startColumn":1,"endLineNumber":89,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1019,"edits":[{"text":"\n","range":{"startLineNumber":90,"startColumn":1,"endLineNumber":90,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1020,"edits":[{"text":"\n        if ($row) {","range":{"startLineNumber":91,"startColumn":1,"endLineNumber":91,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1021,"edits":[{"text":"\n            $this->order_id = $row['order_id'];","range":{"startLineNumber":92,"startColumn":1,"endLineNumber":92,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1022,"edits":[{"text":"\n            $this->line_number = $row['line_number'];","range":{"startLineNumber":93,"startColumn":1,"endLineNumber":93,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1023,"edits":[{"text":"\n            $this->description = $row['description'];","range":{"startLineNumber":94,"startColumn":1,"endLineNumber":94,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1024,"edits":[{"text":"\n            $this->quantity = $row['quantity'];","range":{"startLineNumber":95,"startColumn":1,"endLineNumber":95,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1025,"edits":[{"text":"\n            $this->unit_price = $row['unit_price'];","range":{"startLineNumber":96,"startColumn":1,"endLineNumber":96,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1026,"edits":[{"text":"\n            $this->tax_rate = $row['tax_rate'];","range":{"startLineNumber":97,"startColumn":1,"endLineNumber":97,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1027,"edits":[{"text":"\n            $this->discount_rate = $row['discount_rate'];","range":{"startLineNumber":98,"startColumn":1,"endLineNumber":98,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1028,"edits":[{"text":"\n            $this->line_total = $row['line_total'];","range":{"startLineNumber":99,"startColumn":1,"endLineNumber":99,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1029,"edits":[{"text":"\n            $this->notes = $row['notes'];","range":{"startLineNumber":100,"startColumn":1,"endLineNumber":100,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1030,"edits":[{"text":"\n            return true;","range":{"startLineNumber":101,"startColumn":1,"endLineNumber":101,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1031,"edits":[{"text":"\n        }","range":{"startLineNumber":102,"startColumn":1,"endLineNumber":102,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1032,"edits":[{"text":"\n","range":{"startLineNumber":103,"startColumn":1,"endLineNumber":103,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1033,"edits":[{"text":"\n        return false;","range":{"startLineNumber":104,"startColumn":1,"endLineNumber":104,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1034,"edits":[{"text":"\n    }","range":{"startLineNumber":105,"startColumn":1,"endLineNumber":105,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1035,"edits":[{"text":"\n","range":{"startLineNumber":106,"startColumn":1,"endLineNumber":106,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1036,"edits":[{"text":"\n    public function update() {","range":{"startLineNumber":107,"startColumn":1,"endLineNumber":107,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1037,"edits":[{"text":"\n        $query = \"UPDATE \" . $this->table_name . \"","range":{"startLineNumber":108,"startColumn":1,"endLineNumber":108,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1038,"edits":[{"text":"\n                SET","range":{"startLineNumber":109,"startColumn":1,"endLineNumber":109,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1039,"edits":[{"text":"\n                    description = :description,","range":{"startLineNumber":110,"startColumn":1,"endLineNumber":110,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1040,"edits":[{"text":"\n                    quantity = :quantity,","range":{"startLineNumber":111,"startColumn":1,"endLineNumber":111,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1041,"edits":[{"text":"\n                    unit_price = :unit_price,","range":{"startLineNumber":112,"startColumn":1,"endLineNumber":112,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1042,"edits":[{"text":"\n                    tax_rate = :tax_rate,","range":{"startLineNumber":113,"startColumn":1,"endLineNumber":113,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1043,"edits":[{"text":"\n                    discount_rate = :discount_rate,","range":{"startLineNumber":114,"startColumn":1,"endLineNumber":114,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1044,"edits":[{"text":"\n                    line_total = :line_total,","range":{"startLineNumber":115,"startColumn":1,"endLineNumber":115,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1045,"edits":[{"text":"\n                    notes = :notes","range":{"startLineNumber":116,"startColumn":1,"endLineNumber":116,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1046,"edits":[{"text":"\n                WHERE id = :id\";","range":{"startLineNumber":117,"startColumn":1,"endLineNumber":117,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1047,"edits":[{"text":"\n","range":{"startLineNumber":118,"startColumn":1,"endLineNumber":118,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1048,"edits":[{"text":"\n        $stmt = $this->conn->prepare($query);","range":{"startLineNumber":119,"startColumn":1,"endLineNumber":119,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1049,"edits":[{"text":"\n","range":{"startLineNumber":120,"startColumn":1,"endLineNumber":120,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1050,"edits":[{"text":"\n        // Sanitize","range":{"startLineNumber":121,"startColumn":1,"endLineNumber":121,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1051,"edits":[{"text":"\n        $this->description = htmlspecialchars(strip_tags($this->description ?? ''));","range":{"startLineNumber":122,"startColumn":1,"endLineNumber":122,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1052,"edits":[{"text":"\n        $this->quantity = floatval($this->quantity ?? 1.00);","range":{"startLineNumber":123,"startColumn":1,"endLineNumber":123,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1053,"edits":[{"text":"\n        $this->unit_price = floatval($this->unit_price ?? 0.00);","range":{"startLineNumber":124,"startColumn":1,"endLineNumber":124,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1054,"edits":[{"text":"\n        $this->tax_rate = floatval($this->tax_rate ?? 21.00);","range":{"startLineNumber":125,"startColumn":1,"endLineNumber":125,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1055,"edits":[{"text":"\n        $this->discount_rate = floatval($this->discount_rate ?? 0.00);","range":{"startLineNumber":126,"startColumn":1,"endLineNumber":126,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1056,"edits":[{"text":"\n        $this->notes = htmlspecialchars(strip_tags($this->notes ?? ''));","range":{"startLineNumber":127,"startColumn":1,"endLineNumber":127,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1057,"edits":[{"text":"\n        ","range":{"startLineNumber":128,"startColumn":1,"endLineNumber":128,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1058,"edits":[{"text":"\n        // Calcular total de la línea","range":{"startLineNumber":129,"startColumn":1,"endLineNumber":129,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1059,"edits":[{"text":"\n        $base = $this->quantity * $this->unit_price;","range":{"startLineNumber":130,"startColumn":1,"endLineNumber":130,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1060,"edits":[{"text":"\n        $discounted = $base - ($base * $this->discount_rate / 100);","range":{"startLineNumber":131,"startColumn":1,"endLineNumber":131,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1061,"edits":[{"text":"\n        $this->line_total = $discounted + ($discounted * $this->tax_rate / 100);","range":{"startLineNumber":132,"startColumn":1,"endLineNumber":132,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1062,"edits":[{"text":"\n        ","range":{"startLineNumber":133,"startColumn":1,"endLineNumber":133,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1063,"edits":[{"text":"\n        $this->id = intval($this->id);","range":{"startLineNumber":134,"startColumn":1,"endLineNumber":134,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1064,"edits":[{"text":"\n","range":{"startLineNumber":135,"startColumn":1,"endLineNumber":135,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1065,"edits":[{"text":"\n        // Bind values","range":{"startLineNumber":136,"startColumn":1,"endLineNumber":136,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1066,"edits":[{"text":"\n        $stmt->bindParam(\":description\", $this->description);","range":{"startLineNumber":137,"startColumn":1,"endLineNumber":137,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1067,"edits":[{"text":"\n        $stmt->bindParam(\":quantity\", $this->quantity);","range":{"startLineNumber":138,"startColumn":1,"endLineNumber":138,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1068,"edits":[{"text":"\n        $stmt->bindParam(\":unit_price\", $this->unit_price);","range":{"startLineNumber":139,"startColumn":1,"endLineNumber":139,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1069,"edits":[{"text":"\n        $stmt->bindParam(\":tax_rate\", $this->tax_rate);","range":{"startLineNumber":140,"startColumn":1,"endLineNumber":140,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1070,"edits":[{"text":"\n        $stmt->bindParam(\":discount_rate\", $this->discount_rate);","range":{"startLineNumber":141,"startColumn":1,"endLineNumber":141,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1071,"edits":[{"text":"\n        $stmt->bindParam(\":line_total\", $this->line_total);","range":{"startLineNumber":142,"startColumn":1,"endLineNumber":142,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1072,"edits":[{"text":"\n        $stmt->bindParam(\":notes\", $this->notes);","range":{"startLineNumber":143,"startColumn":1,"endLineNumber":143,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1073,"edits":[{"text":"\n        $stmt->bindParam(\":id\", $this->id);","range":{"startLineNumber":144,"startColumn":1,"endLineNumber":144,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1074,"edits":[{"text":"\n","range":{"startLineNumber":145,"startColumn":1,"endLineNumber":145,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1075,"edits":[{"text":"\n        if ($stmt->execute()) {","range":{"startLineNumber":146,"startColumn":1,"endLineNumber":146,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1076,"edits":[{"text":"\n            return true;","range":{"startLineNumber":147,"startColumn":1,"endLineNumber":147,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1077,"edits":[{"text":"\n        }","range":{"startLineNumber":148,"startColumn":1,"endLineNumber":148,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1078,"edits":[{"text":"\n","range":{"startLineNumber":149,"startColumn":1,"endLineNumber":149,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1079,"edits":[{"text":"\n        return false;","range":{"startLineNumber":150,"startColumn":1,"endLineNumber":150,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1080,"edits":[{"text":"\n    }","range":{"startLineNumber":151,"startColumn":1,"endLineNumber":151,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1081,"edits":[{"text":"\n","range":{"startLineNumber":152,"startColumn":1,"endLineNumber":152,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1082,"edits":[{"text":"\n    public function delete() {","range":{"startLineNumber":153,"startColumn":1,"endLineNumber":153,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1083,"edits":[{"text":"\n        $query = \"DELETE FROM \" . $this->table_name . \" WHERE id = ?\";","range":{"startLineNumber":154,"startColumn":1,"endLineNumber":154,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1084,"edits":[{"text":"\n        $stmt = $this->conn->prepare($query);","range":{"startLineNumber":155,"startColumn":1,"endLineNumber":155,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1085,"edits":[{"text":"\n        $this->id = intval($this->id);","range":{"startLineNumber":156,"startColumn":1,"endLineNumber":156,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1086,"edits":[{"text":"\n        $stmt->bindParam(1, $this->id);","range":{"startLineNumber":157,"startColumn":1,"endLineNumber":157,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1087,"edits":[{"text":"\n","range":{"startLineNumber":158,"startColumn":1,"endLineNumber":158,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1088,"edits":[{"text":"\n        if ($stmt->execute()) {","range":{"startLineNumber":159,"startColumn":1,"endLineNumber":159,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1089,"edits":[{"text":"\n            return true;","range":{"startLineNumber":160,"startColumn":1,"endLineNumber":160,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1090,"edits":[{"text":"\n        }","range":{"startLineNumber":161,"startColumn":1,"endLineNumber":161,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1091,"edits":[{"text":"\n","range":{"startLineNumber":162,"startColumn":1,"endLineNumber":162,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1092,"edits":[{"text":"\n        return false;","range":{"startLineNumber":163,"startColumn":1,"endLineNumber":163,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1093,"edits":[{"text":"\n    }","range":{"startLineNumber":164,"startColumn":1,"endLineNumber":164,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1094,"edits":[{"text":"\n","range":{"startLineNumber":165,"startColumn":1,"endLineNumber":165,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1095,"edits":[{"text":"\n    public function deleteByOrderId($order_id) {","range":{"startLineNumber":166,"startColumn":1,"endLineNumber":166,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1096,"edits":[{"text":"\n        $query = \"DELETE FROM \" . $this->table_name . \" WHERE order_id = ?\";","range":{"startLineNumber":167,"startColumn":1,"endLineNumber":167,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1097,"edits":[{"text":"\n        $stmt = $this->conn->prepare($query);","range":{"startLineNumber":168,"startColumn":1,"endLineNumber":168,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1098,"edits":[{"text":"\n        $order_id = intval($order_id);","range":{"startLineNumber":169,"startColumn":1,"endLineNumber":169,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1099,"edits":[{"text":"\n        $stmt->bindParam(1, $order_id);","range":{"startLineNumber":170,"startColumn":1,"endLineNumber":170,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1100,"edits":[{"text":"\n","range":{"startLineNumber":171,"startColumn":1,"endLineNumber":171,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1101,"edits":[{"text":"\n        if ($stmt->execute()) {","range":{"startLineNumber":172,"startColumn":1,"endLineNumber":172,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1102,"edits":[{"text":"\n            return true;","range":{"startLineNumber":173,"startColumn":1,"endLineNumber":173,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1103,"edits":[{"text":"\n        }","range":{"startLineNumber":174,"startColumn":1,"endLineNumber":174,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1104,"edits":[{"text":"\n","range":{"startLineNumber":175,"startColumn":1,"endLineNumber":175,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1105,"edits":[{"text":"\n        return false;","range":{"startLineNumber":176,"startColumn":1,"endLineNumber":176,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1106,"edits":[{"text":"\n    }","range":{"startLineNumber":177,"startColumn":1,"endLineNumber":177,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1107,"edits":[{"text":"\n}","range":{"startLineNumber":178,"startColumn":1,"endLineNumber":178,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1108,"edits":[{"text":"\n?>","range":{"startLineNumber":179,"startColumn":1,"endLineNumber":179,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1109,"edits":[{"text":"\n","range":{"startLineNumber":180,"startColumn":1,"endLineNumber":180,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierInvoice.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierInvoice.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierInvoice.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1112,"edits":[{"text":"<?php\n\nclass SupplierInvoice {\n    private $conn;\n    private $table_name = \"supplier_invoices\";\n\n    public $id;\n    public $supplier_id;\n    public $order_id;\n    public $invoice_number;\n    public $invoice_date;\n    public $due_date;\n    public $payment_date;\n    public $subtotal;\n    public $tax_amount;\n    public $discount_amount;\n    public $amount;\n    public $status;\n    public $payment_method;\n    public $bank_reference;\n    public $tipo_factura;\n    public $file_path;\n    public $notes;\n    public $created_at;\n    public $updated_at;\n\n    public function __construct($db) {\n        $this->conn = $db;\n    }","range":{"startLineNumber":1,"startColumn":1,"endLineNumber":19,"endColumn":6}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierInvoice.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierInvoice.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierInvoice.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1114,"edits":[{"text":"    public function create() {\n        $query = \"INSERT INTO \" . $this->table_name . \"\n                SET\n                    supplier_id = :supplier_id,\n                    order_id = :order_id,\n                    invoice_number = :invoice_number,\n                    invoice_date = :invoice_date,\n                    due_date = :due_date,\n                    payment_date = :payment_date,\n                    subtotal = :subtotal,\n                    tax_amount = :tax_amount,\n                    discount_amount = :discount_amount,\n                    amount = :amount,\n                    status = :status,\n                    payment_method = :payment_method,\n                    bank_reference = :bank_reference,\n                    tipo_factura = :tipo_factura,\n                    file_path = :file_path,\n                    notes = :notes\";\n\n        $stmt = $this->conn->prepare($query);\n\n        // Sanitize\n        $this->supplier_id = intval($this->supplier_id);\n        $this->order_id = !empty($this->order_id) ? intval($this->order_id) : null;\n        $this->invoice_number = htmlspecialchars(strip_tags($this->invoice_number ?? ''));\n        $this->invoice_date = $this->invoice_date ?? date('Y-m-d');\n        $this->due_date = !empty($this->due_date) ? $this->due_date : null;\n        $this->payment_date = !empty($this->payment_date) ? $this->payment_date : null;\n        $this->subtotal = floatval($this->subtotal ?? 0.00);\n        $this->tax_amount = floatval($this->tax_amount ?? 0.00);\n        $this->discount_amount = floatval($this->discount_amount ?? 0.00);\n        $this->amount = floatval($this->amount ?? 0.00);\n        $this->status = htmlspecialchars(strip_tags($this->status ?? 'pending'));\n        $this->payment_method = htmlspecialchars(strip_tags($this->payment_method ?? 'transfer'));\n        $this->bank_reference = htmlspecialchars(strip_tags($this->bank_reference ?? ''));\n        $this->tipo_factura = htmlspecialchars(strip_tags($this->tipo_factura ?? 'normal'));\n        $this->file_path = htmlspecialchars(strip_tags($this->file_path ?? ''));\n        $this->notes = htmlspecialchars(strip_tags($this->notes ?? ''));\n\n        // Bind values\n        $stmt->bindParam(\":supplier_id\", $this->supplier_id);\n        $stmt->bindParam(\":order_id\", $this->order_id);\n        $stmt->bindParam(\":invoice_number\", $this->invoice_number);\n        $stmt->bindParam(\":invoice_date\", $this->invoice_date);\n        $stmt->bindParam(\":due_date\", $this->due_date);\n        $stmt->bindParam(\":payment_date\", $this->payment_date);\n        $stmt->bindParam(\":subtotal\", $this->subtotal);\n        $stmt->bindParam(\":tax_amount\", $this->tax_amount);\n        $stmt->bindParam(\":discount_amount\", $this->discount_amount);\n        $stmt->bindParam(\":amount\", $this->amount);\n        $stmt->bindParam(\":status\", $this->status);\n        $stmt->bindParam(\":payment_method\", $this->payment_method);\n        $stmt->bindParam(\":bank_reference\", $this->bank_reference);\n        $stmt->bindParam(\":tipo_factura\", $this->tipo_factura);\n        $stmt->bindParam(\":file_path\", $this->file_path);\n        $stmt->bindParam(\":notes\", $this->notes);\n\n        if ($stmt->execute()) {\n            $this->id = $this->conn->lastInsertId();\n            return true;\n        }\n\n        return false;\n    }","range":{"startLineNumber":31,"startColumn":1,"endLineNumber":68,"endColumn":6}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Models/SupplierInvoice.php","external":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierInvoice.php","path":"/root/Documentos/github/GestionSocios/src/Models/SupplierInvoice.php","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1116,"edits":[{"text":"    public function readOne() {\n        $query = \"SELECT * FROM \" . $this->table_name . \" WHERE id = ? LIMIT 0,1\";\n        $stmt = $this->conn->prepare($query);\n        $stmt->bindParam(1, $this->id);\n        $stmt->execute();\n\n        $row = $stmt->fetch(PDO::FETCH_ASSOC);\n\n        if ($row) {\n            $this->supplier_id = $row['supplier_id'];\n            $this->order_id = $row['order_id'];\n            $this->invoice_number = $row['invoice_number'];\n            $this->invoice_date = $row['invoice_date'];\n            $this->due_date = $row['due_date'];\n            $this->payment_date = $row['payment_date'];\n            $this->subtotal = $row['subtotal'];\n            $this->tax_amount = $row['tax_amount'];\n            $this->discount_amount = $row['discount_amount'];\n            $this->amount = $row['amount'];\n            $this->status = $row['status'];\n            $this->payment_method = $row['payment_method'];\n            $this->bank_reference = $row['bank_reference'];\n            $this->tipo_factura = $row['tipo_factura'];\n            $this->file_path = $row['file_path'];\n            $this->notes = $row['notes'];\n            $this->created_at = $row['created_at'];\n            $this->updated_at = $row['updated_at'];\n            return true;\n        }\n\n        return false;\n    }\n\n    public function getOverdueInvoices() {\n        $query = \"SELECT si.*, s.name as supplier_name \n                 FROM \" . $this->table_name . \" si\n                 JOIN suppliers s ON si.supplier_id = s.id\n                 WHERE si.status IN ('pending', 'overdue') \n                 AND si.due_date < CURDATE()\n                 ORDER BY si.due_date ASC\";\n        \n        $stmt = $this->conn->prepare($query);\n        $stmt->execute();\n        \n        return $stmt;\n    }","range":{"startLineNumber":118,"startColumn":1,"endLineNumber":139,"endColumn":6}}]},{"type":"create","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","external":"file:///root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","path":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1117,"initialContent":"","telemetryInfo":{}},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","external":"file:///root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","path":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1119,"edits":[{"text":"#!/bin/bash","range":{"startLineNumber":1,"startColumn":1,"endLineNumber":1,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","external":"file:///root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","path":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1120,"edits":[{"text":"\n","range":{"startLineNumber":2,"startColumn":1,"endLineNumber":2,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","external":"file:///root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","path":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1121,"edits":[{"text":"\n# Script para aplicar la migración del módulo de proveedores profesional","range":{"startLineNumber":3,"startColumn":1,"endLineNumber":3,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","external":"file:///root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","path":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1122,"edits":[{"text":"\n# Fecha: 2025-12-03","range":{"startLineNumber":4,"startColumn":1,"endLineNumber":4,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","external":"file:///root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","path":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1123,"edits":[{"text":"\n","range":{"startLineNumber":5,"startColumn":1,"endLineNumber":5,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","external":"file:///root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","path":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1124,"edits":[{"text":"\necho \"==================================================\"","range":{"startLineNumber":6,"startColumn":1,"endLineNumber":6,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","external":"file:///root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","path":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1125,"edits":[{"text":"\necho \"Migración: Módulo de Proveedores Profesional\"","range":{"startLineNumber":7,"startColumn":1,"endLineNumber":7,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","external":"file:///root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","path":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1126,"edits":[{"text":"\necho \"==================================================\"","range":{"startLineNumber":8,"startColumn":1,"endLineNumber":8,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","external":"file:///root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","path":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1127,"edits":[{"text":"\necho \"\"","range":{"startLineNumber":9,"startColumn":1,"endLineNumber":9,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","external":"file:///root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","path":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1128,"edits":[{"text":"\n","range":{"startLineNumber":10,"startColumn":1,"endLineNumber":10,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","external":"file:///root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","path":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1129,"edits":[{"text":"\n# Colores para output","range":{"startLineNumber":11,"startColumn":1,"endLineNumber":11,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","external":"file:///root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","path":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1130,"edits":[{"text":"\nRED='\\033[0;31m'","range":{"startLineNumber":12,"startColumn":1,"endLineNumber":12,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","external":"file:///root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","path":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1131,"edits":[{"text":"\nGREEN='\\033[0;32m'","range":{"startLineNumber":13,"startColumn":1,"endLineNumber":13,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","external":"file:///root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","path":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1132,"edits":[{"text":"\nYELLOW='\\033[1;33m'","range":{"startLineNumber":14,"startColumn":1,"endLineNumber":14,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","external":"file:///root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","path":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1133,"edits":[{"text":"\nNC='\\033[0m' # No Color","range":{"startLineNumber":15,"startColumn":1,"endLineNumber":15,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","external":"file:///root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","path":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1134,"edits":[{"text":"\n","range":{"startLineNumber":16,"startColumn":1,"endLineNumber":16,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","external":"file:///root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","path":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1135,"edits":[{"text":"\n# Verificar que existe el archivo de migración","range":{"startLineNumber":17,"startColumn":1,"endLineNumber":17,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","external":"file:///root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","path":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1136,"edits":[{"text":"\nMIGRATION_FILE=\"database/migrations/2025_12_03_professional_suppliers.sql\"","range":{"startLineNumber":18,"startColumn":1,"endLineNumber":18,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","external":"file:///root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","path":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1137,"edits":[{"text":"\n","range":{"startLineNumber":19,"startColumn":1,"endLineNumber":19,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","external":"file:///root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","path":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1138,"edits":[{"text":"\nif [ ! -f \"$MIGRATION_FILE\" ]; then","range":{"startLineNumber":20,"startColumn":1,"endLineNumber":20,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","external":"file:///root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","path":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1139,"edits":[{"text":"\n    echo -e \"${RED}ERROR: No se encuentra el archivo de migración${NC}\"","range":{"startLineNumber":21,"startColumn":1,"endLineNumber":21,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","external":"file:///root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","path":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1140,"edits":[{"text":"\n    echo \"Ruta esperada: $MIGRATION_FILE\"","range":{"startLineNumber":22,"startColumn":1,"endLineNumber":22,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","external":"file:///root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","path":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1141,"edits":[{"text":"\n    exit 1","range":{"startLineNumber":23,"startColumn":1,"endLineNumber":23,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","external":"file:///root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","path":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1142,"edits":[{"text":"\nfi","range":{"startLineNumber":24,"startColumn":1,"endLineNumber":24,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","external":"file:///root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","path":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1143,"edits":[{"text":"\n","range":{"startLineNumber":25,"startColumn":1,"endLineNumber":25,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","external":"file:///root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","path":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1144,"edits":[{"text":"\necho -e \"${YELLOW}ADVERTENCIA: Esta migración modificará la estructura de la base de datos.${NC}\"","range":{"startLineNumber":26,"startColumn":1,"endLineNumber":26,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","external":"file:///root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","path":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1145,"edits":[{"text":"\necho -e \"${YELLOW}Asegúrese de haber hecho un backup antes de continuar.${NC}\"","range":{"startLineNumber":27,"startColumn":1,"endLineNumber":27,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","external":"file:///root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","path":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1146,"edits":[{"text":"\necho \"\"","range":{"startLineNumber":28,"startColumn":1,"endLineNumber":28,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","external":"file:///root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","path":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1147,"edits":[{"text":"\nread -p \"¿Desea continuar? (s/n): \" -n 1 -r","range":{"startLineNumber":29,"startColumn":1,"endLineNumber":29,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","external":"file:///root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","path":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1148,"edits":[{"text":"\necho \"\"","range":{"startLineNumber":30,"startColumn":1,"endLineNumber":30,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","external":"file:///root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","path":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1149,"edits":[{"text":"\n","range":{"startLineNumber":31,"startColumn":1,"endLineNumber":31,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","external":"file:///root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","path":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1150,"edits":[{"text":"\nif [[ ! $REPLY =~ ^[Ss]$ ]]; then","range":{"startLineNumber":32,"startColumn":1,"endLineNumber":32,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","external":"file:///root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","path":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1151,"edits":[{"text":"\n    echo \"Migración cancelada.\"","range":{"startLineNumber":33,"startColumn":1,"endLineNumber":33,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","external":"file:///root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","path":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1152,"edits":[{"text":"\n    exit 0","range":{"startLineNumber":34,"startColumn":1,"endLineNumber":34,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","external":"file:///root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","path":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1153,"edits":[{"text":"\nfi","range":{"startLineNumber":35,"startColumn":1,"endLineNumber":35,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","external":"file:///root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","path":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1154,"edits":[{"text":"\n","range":{"startLineNumber":36,"startColumn":1,"endLineNumber":36,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","external":"file:///root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","path":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1155,"edits":[{"text":"\n# Solicitar credenciales de MySQL","range":{"startLineNumber":37,"startColumn":1,"endLineNumber":37,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","external":"file:///root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","path":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1156,"edits":[{"text":"\necho \"\"","range":{"startLineNumber":38,"startColumn":1,"endLineNumber":38,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","external":"file:///root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","path":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1157,"edits":[{"text":"\necho \"Ingrese las credenciales de MySQL:\"","range":{"startLineNumber":39,"startColumn":1,"endLineNumber":39,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","external":"file:///root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","path":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1158,"edits":[{"text":"\nread -p \"Host (default: localhost): \" DB_HOST","range":{"startLineNumber":40,"startColumn":1,"endLineNumber":40,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","external":"file:///root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","path":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1159,"edits":[{"text":"\nDB_HOST=${DB_HOST:-localhost}","range":{"startLineNumber":41,"startColumn":1,"endLineNumber":41,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","external":"file:///root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","path":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1160,"edits":[{"text":"\n","range":{"startLineNumber":42,"startColumn":1,"endLineNumber":42,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","external":"file:///root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","path":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1161,"edits":[{"text":"\nread -p \"Usuario (default: root): \" DB_USER","range":{"startLineNumber":43,"startColumn":1,"endLineNumber":43,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","external":"file:///root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","path":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1162,"edits":[{"text":"\nDB_USER=${DB_USER:-root}","range":{"startLineNumber":44,"startColumn":1,"endLineNumber":44,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","external":"file:///root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","path":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1163,"edits":[{"text":"\n","range":{"startLineNumber":45,"startColumn":1,"endLineNumber":45,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","external":"file:///root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","path":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1164,"edits":[{"text":"\nread -sp \"Contraseña: \" DB_PASS","range":{"startLineNumber":46,"startColumn":1,"endLineNumber":46,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","external":"file:///root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","path":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1165,"edits":[{"text":"\necho \"\"","range":{"startLineNumber":47,"startColumn":1,"endLineNumber":47,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","external":"file:///root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","path":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1166,"edits":[{"text":"\n","range":{"startLineNumber":48,"startColumn":1,"endLineNumber":48,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","external":"file:///root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","path":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1167,"edits":[{"text":"\nread -p \"Base de datos: \" DB_NAME","range":{"startLineNumber":49,"startColumn":1,"endLineNumber":49,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","external":"file:///root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","path":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1168,"edits":[{"text":"\n","range":{"startLineNumber":50,"startColumn":1,"endLineNumber":50,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","external":"file:///root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","path":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1169,"edits":[{"text":"\nif [ -z \"$DB_NAME\" ]; then","range":{"startLineNumber":51,"startColumn":1,"endLineNumber":51,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","external":"file:///root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","path":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1170,"edits":[{"text":"\n    echo -e \"${RED}ERROR: Debe especificar el nombre de la base de datos${NC}\"","range":{"startLineNumber":52,"startColumn":1,"endLineNumber":52,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","external":"file:///root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","path":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1171,"edits":[{"text":"\n    exit 1","range":{"startLineNumber":53,"startColumn":1,"endLineNumber":53,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","external":"file:///root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","path":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1172,"edits":[{"text":"\nfi","range":{"startLineNumber":54,"startColumn":1,"endLineNumber":54,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","external":"file:///root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","path":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1173,"edits":[{"text":"\n","range":{"startLineNumber":55,"startColumn":1,"endLineNumber":55,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","external":"file:///root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","path":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1174,"edits":[{"text":"\n# Crear backup antes de migrar","range":{"startLineNumber":56,"startColumn":1,"endLineNumber":56,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","external":"file:///root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","path":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1175,"edits":[{"text":"\nBACKUP_DIR=\"Backups\"","range":{"startLineNumber":57,"startColumn":1,"endLineNumber":57,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","external":"file:///root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","path":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1176,"edits":[{"text":"\nBACKUP_FILE=\"${BACKUP_DIR}/backup_before_supplier_migration_$(date +%Y%m%d_%H%M%S).sql\"","range":{"startLineNumber":58,"startColumn":1,"endLineNumber":58,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","external":"file:///root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","path":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1177,"edits":[{"text":"\n","range":{"startLineNumber":59,"startColumn":1,"endLineNumber":59,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","external":"file:///root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","path":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1178,"edits":[{"text":"\necho \"\"","range":{"startLineNumber":60,"startColumn":1,"endLineNumber":60,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","external":"file:///root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","path":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1179,"edits":[{"text":"\necho \"Creando backup de seguridad...\"","range":{"startLineNumber":61,"startColumn":1,"endLineNumber":61,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","external":"file:///root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","path":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1180,"edits":[{"text":"\nmkdir -p \"$BACKUP_DIR\"","range":{"startLineNumber":62,"startColumn":1,"endLineNumber":62,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","external":"file:///root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","path":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1181,"edits":[{"text":"\n","range":{"startLineNumber":63,"startColumn":1,"endLineNumber":63,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","external":"file:///root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","path":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1182,"edits":[{"text":"\nmysqldump -h \"$DB_HOST\" -u \"$DB_USER\" -p\"$DB_PASS\" \"$DB_NAME\" > \"$BACKUP_FILE\" 2>/dev/null","range":{"startLineNumber":64,"startColumn":1,"endLineNumber":64,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","external":"file:///root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","path":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1183,"edits":[{"text":"\n","range":{"startLineNumber":65,"startColumn":1,"endLineNumber":65,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","external":"file:///root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","path":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1184,"edits":[{"text":"\nif [ $? -eq 0 ]; then","range":{"startLineNumber":66,"startColumn":1,"endLineNumber":66,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","external":"file:///root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","path":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1185,"edits":[{"text":"\n    echo -e \"${GREEN}✓ Backup creado exitosamente: $BACKUP_FILE${NC}\"","range":{"startLineNumber":67,"startColumn":1,"endLineNumber":67,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","external":"file:///root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","path":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1186,"edits":[{"text":"\nelse","range":{"startLineNumber":68,"startColumn":1,"endLineNumber":68,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","external":"file:///root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","path":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1187,"edits":[{"text":"\n    echo -e \"${RED}✗ Error al crear el backup${NC}\"","range":{"startLineNumber":69,"startColumn":1,"endLineNumber":69,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","external":"file:///root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","path":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1188,"edits":[{"text":"\n    echo \"¿Desea continuar sin backup? (NO RECOMENDADO)\"","range":{"startLineNumber":70,"startColumn":1,"endLineNumber":70,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","external":"file:///root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","path":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1189,"edits":[{"text":"\n    read -p \"(s/n): \" -n 1 -r","range":{"startLineNumber":71,"startColumn":1,"endLineNumber":71,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","external":"file:///root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","path":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1190,"edits":[{"text":"\n    echo \"\"","range":{"startLineNumber":72,"startColumn":1,"endLineNumber":72,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","external":"file:///root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","path":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1191,"edits":[{"text":"\n    if [[ ! $REPLY =~ ^[Ss]$ ]]; then","range":{"startLineNumber":73,"startColumn":1,"endLineNumber":73,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","external":"file:///root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","path":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1192,"edits":[{"text":"\n        echo \"Migración cancelada.\"","range":{"startLineNumber":74,"startColumn":1,"endLineNumber":74,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","external":"file:///root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","path":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1193,"edits":[{"text":"\n        exit 1","range":{"startLineNumber":75,"startColumn":1,"endLineNumber":75,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","external":"file:///root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","path":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1194,"edits":[{"text":"\n    fi","range":{"startLineNumber":76,"startColumn":1,"endLineNumber":76,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","external":"file:///root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","path":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1195,"edits":[{"text":"\nfi","range":{"startLineNumber":77,"startColumn":1,"endLineNumber":77,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","external":"file:///root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","path":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1196,"edits":[{"text":"\n","range":{"startLineNumber":78,"startColumn":1,"endLineNumber":78,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","external":"file:///root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","path":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1197,"edits":[{"text":"\n# Aplicar migración","range":{"startLineNumber":79,"startColumn":1,"endLineNumber":79,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","external":"file:///root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","path":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1198,"edits":[{"text":"\necho \"\"","range":{"startLineNumber":80,"startColumn":1,"endLineNumber":80,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","external":"file:///root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","path":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1199,"edits":[{"text":"\necho \"Aplicando migración...\"","range":{"startLineNumber":81,"startColumn":1,"endLineNumber":81,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","external":"file:///root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","path":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1200,"edits":[{"text":"\nmysql -h \"$DB_HOST\" -u \"$DB_USER\" -p\"$DB_PASS\" \"$DB_NAME\" < \"$MIGRATION_FILE\" 2>/dev/null","range":{"startLineNumber":82,"startColumn":1,"endLineNumber":82,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","external":"file:///root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","path":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1201,"edits":[{"text":"\n","range":{"startLineNumber":83,"startColumn":1,"endLineNumber":83,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","external":"file:///root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","path":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1202,"edits":[{"text":"\nif [ $? -eq 0 ]; then","range":{"startLineNumber":84,"startColumn":1,"endLineNumber":84,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","external":"file:///root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","path":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1203,"edits":[{"text":"\n    echo -e \"${GREEN}✓ Migración aplicada exitosamente${NC}\"","range":{"startLineNumber":85,"startColumn":1,"endLineNumber":85,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","external":"file:///root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","path":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1204,"edits":[{"text":"\n    echo \"\"","range":{"startLineNumber":86,"startColumn":1,"endLineNumber":86,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","external":"file:///root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","path":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1205,"edits":[{"text":"\n    echo \"Nuevas tablas creadas:\"","range":{"startLineNumber":87,"startColumn":1,"endLineNumber":87,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","external":"file:///root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","path":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1206,"edits":[{"text":"\n    echo \"  - supplier_contacts\"","range":{"startLineNumber":88,"startColumn":1,"endLineNumber":88,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","external":"file:///root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","path":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1207,"edits":[{"text":"\n    echo \"  - supplier_documents\"","range":{"startLineNumber":89,"startColumn":1,"endLineNumber":89,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","external":"file:///root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","path":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1208,"edits":[{"text":"\n    echo \"  - supplier_orders\"","range":{"startLineNumber":90,"startColumn":1,"endLineNumber":90,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","external":"file:///root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","path":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1209,"edits":[{"text":"\n    echo \"  - supplier_order_lines\"","range":{"startLineNumber":91,"startColumn":1,"endLineNumber":91,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","external":"file:///root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","path":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1210,"edits":[{"text":"\n    echo \"\"","range":{"startLineNumber":92,"startColumn":1,"endLineNumber":92,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","external":"file:///root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","path":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1211,"edits":[{"text":"\n    echo \"Tablas modificadas:\"","range":{"startLineNumber":93,"startColumn":1,"endLineNumber":93,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","external":"file:///root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","path":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1212,"edits":[{"text":"\n    echo \"  - suppliers (nuevos campos profesionales)\"","range":{"startLineNumber":94,"startColumn":1,"endLineNumber":94,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","external":"file:///root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","path":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1213,"edits":[{"text":"\n    echo \"  - supplier_invoices (nuevos campos de gestión)\"","range":{"startLineNumber":95,"startColumn":1,"endLineNumber":95,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","external":"file:///root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","path":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1214,"edits":[{"text":"\n    echo \"\"","range":{"startLineNumber":96,"startColumn":1,"endLineNumber":96,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","external":"file:///root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","path":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1215,"edits":[{"text":"\n    echo -e \"${GREEN}¡Módulo de proveedores profesionalizado exitosamente!${NC}\"","range":{"startLineNumber":97,"startColumn":1,"endLineNumber":97,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","external":"file:///root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","path":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1216,"edits":[{"text":"\nelse","range":{"startLineNumber":98,"startColumn":1,"endLineNumber":98,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","external":"file:///root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","path":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1217,"edits":[{"text":"\n    echo -e \"${RED}✗ Error al aplicar la migración${NC}\"","range":{"startLineNumber":99,"startColumn":1,"endLineNumber":99,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","external":"file:///root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","path":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1218,"edits":[{"text":"\n    echo \"\"","range":{"startLineNumber":100,"startColumn":1,"endLineNumber":100,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","external":"file:///root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","path":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1219,"edits":[{"text":"\n    echo \"Si necesita restaurar el backup:\"","range":{"startLineNumber":101,"startColumn":1,"endLineNumber":101,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","external":"file:///root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","path":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1220,"edits":[{"text":"\n    echo \"  mysql -h $DB_HOST -u $DB_USER -p $DB_NAME < $BACKUP_FILE\"","range":{"startLineNumber":102,"startColumn":1,"endLineNumber":102,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","external":"file:///root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","path":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1221,"edits":[{"text":"\n    exit 1","range":{"startLineNumber":103,"startColumn":1,"endLineNumber":103,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","external":"file:///root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","path":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1222,"edits":[{"text":"\nfi","range":{"startLineNumber":104,"startColumn":1,"endLineNumber":104,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","external":"file:///root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","path":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1223,"edits":[{"text":"\n","range":{"startLineNumber":105,"startColumn":1,"endLineNumber":105,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","external":"file:///root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","path":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1224,"edits":[{"text":"\necho \"\"","range":{"startLineNumber":106,"startColumn":1,"endLineNumber":106,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","external":"file:///root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","path":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1225,"edits":[{"text":"\necho \"==================================================\"","range":{"startLineNumber":107,"startColumn":1,"endLineNumber":107,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","external":"file:///root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","path":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1226,"edits":[{"text":"\necho \"Migración completada\"","range":{"startLineNumber":108,"startColumn":1,"endLineNumber":108,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","external":"file:///root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","path":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1227,"edits":[{"text":"\necho \"==================================================\"","range":{"startLineNumber":109,"startColumn":1,"endLineNumber":109,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","external":"file:///root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","path":"/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1228,"edits":[{"text":"\n","range":{"startLineNumber":110,"startColumn":1,"endLineNumber":110,"endColumn":1}}]},{"type":"create","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1229,"initialContent":"","telemetryInfo":{}},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1231,"edits":[{"text":"# Módulo de Gestión de Proveedores - Documentación Técnica","range":{"startLineNumber":1,"startColumn":1,"endLineNumber":1,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1232,"edits":[{"text":"\n","range":{"startLineNumber":2,"startColumn":1,"endLineNumber":2,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1233,"edits":[{"text":"\n## Índice","range":{"startLineNumber":3,"startColumn":1,"endLineNumber":3,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1234,"edits":[{"text":"\n1. [Descripción General](#descripción-general)","range":{"startLineNumber":4,"startColumn":1,"endLineNumber":4,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1235,"edits":[{"text":"\n2. [Arquitectura](#arquitectura)","range":{"startLineNumber":5,"startColumn":1,"endLineNumber":5,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1236,"edits":[{"text":"\n3. [Modelo de Datos](#modelo-de-datos)","range":{"startLineNumber":6,"startColumn":1,"endLineNumber":6,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1237,"edits":[{"text":"\n4. [Integración con Contabilidad](#integración-con-contabilidad)","range":{"startLineNumber":7,"startColumn":1,"endLineNumber":7,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1238,"edits":[{"text":"\n5. [Integración con Gestor Documental](#integración-con-gestor-documental)","range":{"startLineNumber":8,"startColumn":1,"endLineNumber":8,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1239,"edits":[{"text":"\n6. [Flujo de Trabajo](#flujo-de-trabajo)","range":{"startLineNumber":9,"startColumn":1,"endLineNumber":9,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1240,"edits":[{"text":"\n7. [API y Endpoints](#api-y-endpoints)","range":{"startLineNumber":10,"startColumn":1,"endLineNumber":10,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1241,"edits":[{"text":"\n8. [Migración](#migración)","range":{"startLineNumber":11,"startColumn":1,"endLineNumber":11,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1242,"edits":[{"text":"\n","range":{"startLineNumber":12,"startColumn":1,"endLineNumber":12,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1243,"edits":[{"text":"\n---","range":{"startLineNumber":13,"startColumn":1,"endLineNumber":13,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1244,"edits":[{"text":"\n","range":{"startLineNumber":14,"startColumn":1,"endLineNumber":14,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1245,"edits":[{"text":"\n## Descripción General","range":{"startLineNumber":15,"startColumn":1,"endLineNumber":15,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1246,"edits":[{"text":"\n","range":{"startLineNumber":16,"startColumn":1,"endLineNumber":16,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1247,"edits":[{"text":"\nEl módulo de **Gestión de Proveedores** profesionaliza completamente el manejo de proveedores, facturas, órdenes de compra y documentación asociada, con integración total a contabilidad y al sistema de gestión documental.","range":{"startLineNumber":17,"startColumn":1,"endLineNumber":17,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1248,"edits":[{"text":"\n","range":{"startLineNumber":18,"startColumn":1,"endLineNumber":18,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1249,"edits":[{"text":"\n### Características Principales","range":{"startLineNumber":19,"startColumn":1,"endLineNumber":19,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1250,"edits":[{"text":"\n","range":{"startLineNumber":20,"startColumn":1,"endLineNumber":20,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1251,"edits":[{"text":"\n- ✅ **Gestión completa de proveedores** con información fiscal, bancaria y comercial","range":{"startLineNumber":21,"startColumn":1,"endLineNumber":21,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1252,"edits":[{"text":"\n- ✅ **Múltiples contactos** por proveedor","range":{"startLineNumber":22,"startColumn":1,"endLineNumber":22,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1253,"edits":[{"text":"\n- ✅ **Órdenes de compra** con aprobación y seguimiento","range":{"startLineNumber":23,"startColumn":1,"endLineNumber":23,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1254,"edits":[{"text":"\n- ✅ **Facturas profesionales** con desglose de impuestos y descuentos","range":{"startLineNumber":24,"startColumn":1,"endLineNumber":24,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1255,"edits":[{"text":"\n- ✅ **Gestión documental** integrada (contratos, certificados, seguros)","range":{"startLineNumber":25,"startColumn":1,"endLineNumber":25,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1256,"edits":[{"text":"\n- ✅ **Integración contable** automática en cada operación","range":{"startLineNumber":26,"startColumn":1,"endLineNumber":26,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1257,"edits":[{"text":"\n- ✅ **Alertas** de vencimiento de facturas y documentos","range":{"startLineNumber":27,"startColumn":1,"endLineNumber":27,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1258,"edits":[{"text":"\n- ✅ **Reportes avanzados** y análisis de gastos","range":{"startLineNumber":28,"startColumn":1,"endLineNumber":28,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1259,"edits":[{"text":"\n","range":{"startLineNumber":29,"startColumn":1,"endLineNumber":29,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1260,"edits":[{"text":"\n---","range":{"startLineNumber":30,"startColumn":1,"endLineNumber":30,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1261,"edits":[{"text":"\n","range":{"startLineNumber":31,"startColumn":1,"endLineNumber":31,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1262,"edits":[{"text":"\n## Arquitectura","range":{"startLineNumber":32,"startColumn":1,"endLineNumber":32,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1263,"edits":[{"text":"\n","range":{"startLineNumber":33,"startColumn":1,"endLineNumber":33,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1264,"edits":[{"text":"\n### Estructura de Directorios","range":{"startLineNumber":34,"startColumn":1,"endLineNumber":34,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1265,"edits":[{"text":"\n","range":{"startLineNumber":35,"startColumn":1,"endLineNumber":35,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1266,"edits":[{"text":"\n```","range":{"startLineNumber":36,"startColumn":1,"endLineNumber":36,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1267,"edits":[{"text":"\nsrc/","range":{"startLineNumber":37,"startColumn":1,"endLineNumber":37,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1268,"edits":[{"text":"\n├── Models/","range":{"startLineNumber":38,"startColumn":1,"endLineNumber":38,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1269,"edits":[{"text":"\n│   ├── Supplier.php                 # Modelo principal de proveedores","range":{"startLineNumber":39,"startColumn":1,"endLineNumber":39,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1270,"edits":[{"text":"\n│   ├── SupplierContact.php          # Contactos de proveedores","range":{"startLineNumber":40,"startColumn":1,"endLineNumber":40,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1271,"edits":[{"text":"\n│   ├── SupplierDocument.php         # Documentos asociados","range":{"startLineNumber":41,"startColumn":1,"endLineNumber":41,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1272,"edits":[{"text":"\n│   ├── SupplierOrder.php            # Órdenes de compra","range":{"startLineNumber":42,"startColumn":1,"endLineNumber":42,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1273,"edits":[{"text":"\n│   ├── SupplierOrderLine.php        # Líneas de órdenes","range":{"startLineNumber":43,"startColumn":1,"endLineNumber":43,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1274,"edits":[{"text":"\n│   └── SupplierInvoice.php          # Facturas de proveedores","range":{"startLineNumber":44,"startColumn":1,"endLineNumber":44,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1275,"edits":[{"text":"\n├── Controllers/","range":{"startLineNumber":45,"startColumn":1,"endLineNumber":45,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1276,"edits":[{"text":"\n│   └── SupplierController.php       # Controlador principal","range":{"startLineNumber":46,"startColumn":1,"endLineNumber":46,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1277,"edits":[{"text":"\n├── Views/","range":{"startLineNumber":47,"startColumn":1,"endLineNumber":47,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1278,"edits":[{"text":"\n│   └── suppliers/","range":{"startLineNumber":48,"startColumn":1,"endLineNumber":48,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1279,"edits":[{"text":"\n│       ├── index.php                # Listado de proveedores","range":{"startLineNumber":49,"startColumn":1,"endLineNumber":49,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1280,"edits":[{"text":"\n│       ├── create.php               # Formulario de creación","range":{"startLineNumber":50,"startColumn":1,"endLineNumber":50,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1281,"edits":[{"text":"\n│       ├── edit.php                 # Formulario de edición","range":{"startLineNumber":51,"startColumn":1,"endLineNumber":51,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1282,"edits":[{"text":"\n│       ├── show.php                 # Detalle de proveedor","range":{"startLineNumber":52,"startColumn":1,"endLineNumber":52,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1283,"edits":[{"text":"\n│       └── dashboard.php            # Dashboard de estadísticas","range":{"startLineNumber":53,"startColumn":1,"endLineNumber":53,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1284,"edits":[{"text":"\n└── Helpers/","range":{"startLineNumber":54,"startColumn":1,"endLineNumber":54,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1285,"edits":[{"text":"\n    └── AccountingHelper.php         # Integración contable","range":{"startLineNumber":55,"startColumn":1,"endLineNumber":55,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1286,"edits":[{"text":"\n```","range":{"startLineNumber":56,"startColumn":1,"endLineNumber":56,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1287,"edits":[{"text":"\n","range":{"startLineNumber":57,"startColumn":1,"endLineNumber":57,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1288,"edits":[{"text":"\n### Componentes del Sistema","range":{"startLineNumber":58,"startColumn":1,"endLineNumber":58,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1289,"edits":[{"text":"\n","range":{"startLineNumber":59,"startColumn":1,"endLineNumber":59,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1290,"edits":[{"text":"\n1. **Suppliers**: Datos maestros de proveedores","range":{"startLineNumber":60,"startColumn":1,"endLineNumber":60,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1291,"edits":[{"text":"\n2. **Supplier Contacts**: Gestión de múltiples contactos","range":{"startLineNumber":61,"startColumn":1,"endLineNumber":61,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1292,"edits":[{"text":"\n3. **Supplier Documents**: Documentos y certificados","range":{"startLineNumber":62,"startColumn":1,"endLineNumber":62,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1293,"edits":[{"text":"\n4. **Supplier Orders**: Órdenes de compra pre-factura","range":{"startLineNumber":63,"startColumn":1,"endLineNumber":63,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1294,"edits":[{"text":"\n5. **Supplier Invoices**: Facturas y pagos","range":{"startLineNumber":64,"startColumn":1,"endLineNumber":64,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1295,"edits":[{"text":"\n6. **Accounting Integration**: Registro automático en contabilidad","range":{"startLineNumber":65,"startColumn":1,"endLineNumber":65,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1296,"edits":[{"text":"\n7. **Document Manager Integration**: Versionado y permisos","range":{"startLineNumber":66,"startColumn":1,"endLineNumber":66,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1297,"edits":[{"text":"\n","range":{"startLineNumber":67,"startColumn":1,"endLineNumber":67,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1298,"edits":[{"text":"\n---","range":{"startLineNumber":68,"startColumn":1,"endLineNumber":68,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1299,"edits":[{"text":"\n","range":{"startLineNumber":69,"startColumn":1,"endLineNumber":69,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1300,"edits":[{"text":"\n## Modelo de Datos","range":{"startLineNumber":70,"startColumn":1,"endLineNumber":70,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1301,"edits":[{"text":"\n","range":{"startLineNumber":71,"startColumn":1,"endLineNumber":71,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1302,"edits":[{"text":"\n### Tabla: `suppliers`","range":{"startLineNumber":72,"startColumn":1,"endLineNumber":72,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1303,"edits":[{"text":"\n","range":{"startLineNumber":73,"startColumn":1,"endLineNumber":73,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1304,"edits":[{"text":"\nInformación completa del proveedor con datos fiscales, bancarios y comerciales.","range":{"startLineNumber":74,"startColumn":1,"endLineNumber":74,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1305,"edits":[{"text":"\n","range":{"startLineNumber":75,"startColumn":1,"endLineNumber":75,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1306,"edits":[{"text":"\n| Campo | Tipo | Descripción |","range":{"startLineNumber":76,"startColumn":1,"endLineNumber":76,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1307,"edits":[{"text":"\n|-------|------|-------------|","range":{"startLineNumber":77,"startColumn":1,"endLineNumber":77,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1308,"edits":[{"text":"\n| `id` | INT | ID único |","range":{"startLineNumber":78,"startColumn":1,"endLineNumber":78,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1309,"edits":[{"text":"\n| `name` | VARCHAR(255) | Nombre comercial * |","range":{"startLineNumber":79,"startColumn":1,"endLineNumber":79,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1310,"edits":[{"text":"\n| `cif_nif` | VARCHAR(20) | CIF/NIF básico |","range":{"startLineNumber":80,"startColumn":1,"endLineNumber":80,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1311,"edits":[{"text":"\n| `tax_id` | VARCHAR(50) | ID fiscal completo |","range":{"startLineNumber":81,"startColumn":1,"endLineNumber":81,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1312,"edits":[{"text":"\n| `email` | VARCHAR(255) | Email principal |","range":{"startLineNumber":82,"startColumn":1,"endLineNumber":82,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1313,"edits":[{"text":"\n| `phone` | VARCHAR(20) | Teléfono |","range":{"startLineNumber":83,"startColumn":1,"endLineNumber":83,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1314,"edits":[{"text":"\n| `address` | TEXT | Dirección completa |","range":{"startLineNumber":84,"startColumn":1,"endLineNumber":84,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1315,"edits":[{"text":"\n| `postal_code` | VARCHAR(10) | Código postal |","range":{"startLineNumber":85,"startColumn":1,"endLineNumber":85,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1316,"edits":[{"text":"\n| `city` | VARCHAR(100) | Ciudad |","range":{"startLineNumber":86,"startColumn":1,"endLineNumber":86,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1317,"edits":[{"text":"\n| `province` | VARCHAR(100) | Provincia |","range":{"startLineNumber":87,"startColumn":1,"endLineNumber":87,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1318,"edits":[{"text":"\n| `country` | VARCHAR(100) | País (default: España) |","range":{"startLineNumber":88,"startColumn":1,"endLineNumber":88,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1319,"edits":[{"text":"\n| `website` | VARCHAR(255) | Sitio web |","range":{"startLineNumber":89,"startColumn":1,"endLineNumber":89,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1320,"edits":[{"text":"\n| `logo_path` | VARCHAR(255) | Ruta del logo |","range":{"startLineNumber":90,"startColumn":1,"endLineNumber":90,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1321,"edits":[{"text":"\n| `tipo_proveedor` | ENUM | servicios, productos, mixto, profesional |","range":{"startLineNumber":91,"startColumn":1,"endLineNumber":91,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1322,"edits":[{"text":"\n| `categoria` | VARCHAR(100) | Categoría personalizada |","range":{"startLineNumber":92,"startColumn":1,"endLineNumber":92,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1323,"edits":[{"text":"\n| `estado` | ENUM | activo, inactivo, bloqueado |","range":{"startLineNumber":93,"startColumn":1,"endLineNumber":93,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1324,"edits":[{"text":"\n| `payment_terms` | INT | Días de plazo de pago (default: 30) |","range":{"startLineNumber":94,"startColumn":1,"endLineNumber":94,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1325,"edits":[{"text":"\n| `default_payment_method` | ENUM | transfer, cash, card, check, other |","range":{"startLineNumber":95,"startColumn":1,"endLineNumber":95,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1326,"edits":[{"text":"\n| `iban` | VARCHAR(34) | IBAN bancario |","range":{"startLineNumber":96,"startColumn":1,"endLineNumber":96,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1327,"edits":[{"text":"\n| `swift` | VARCHAR(11) | Código SWIFT/BIC |","range":{"startLineNumber":97,"startColumn":1,"endLineNumber":97,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1328,"edits":[{"text":"\n| `bank_name` | VARCHAR(255) | Nombre del banco |","range":{"startLineNumber":98,"startColumn":1,"endLineNumber":98,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1329,"edits":[{"text":"\n| `default_discount` | DECIMAL(5,2) | Descuento por defecto (%) |","range":{"startLineNumber":99,"startColumn":1,"endLineNumber":99,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1330,"edits":[{"text":"\n| `credit_limit` | DECIMAL(10,2) | Límite de crédito |","range":{"startLineNumber":100,"startColumn":1,"endLineNumber":100,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1331,"edits":[{"text":"\n| `contact_person` | VARCHAR(255) | Persona de contacto principal |","range":{"startLineNumber":101,"startColumn":1,"endLineNumber":101,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1332,"edits":[{"text":"\n| `contact_email` | VARCHAR(255) | Email del contacto |","range":{"startLineNumber":102,"startColumn":1,"endLineNumber":102,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1333,"edits":[{"text":"\n| `contact_phone` | VARCHAR(20) | Teléfono del contacto |","range":{"startLineNumber":103,"startColumn":1,"endLineNumber":103,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1334,"edits":[{"text":"\n| `rating` | TINYINT | Valoración 1-5 |","range":{"startLineNumber":104,"startColumn":1,"endLineNumber":104,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1335,"edits":[{"text":"\n| `notes` | TEXT | Notas adicionales |","range":{"startLineNumber":105,"startColumn":1,"endLineNumber":105,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1336,"edits":[{"text":"\n| `created_at` | DATETIME | Fecha de creación |","range":{"startLineNumber":106,"startColumn":1,"endLineNumber":106,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1337,"edits":[{"text":"\n| `updated_at` | DATETIME | Última actualización |","range":{"startLineNumber":107,"startColumn":1,"endLineNumber":107,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1338,"edits":[{"text":"\n","range":{"startLineNumber":108,"startColumn":1,"endLineNumber":108,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1339,"edits":[{"text":"\n### Tabla: `supplier_contacts`","range":{"startLineNumber":109,"startColumn":1,"endLineNumber":109,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1340,"edits":[{"text":"\n","range":{"startLineNumber":110,"startColumn":1,"endLineNumber":110,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1341,"edits":[{"text":"\nMúltiples contactos por proveedor para diferentes departamentos.","range":{"startLineNumber":111,"startColumn":1,"endLineNumber":111,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1342,"edits":[{"text":"\n","range":{"startLineNumber":112,"startColumn":1,"endLineNumber":112,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1343,"edits":[{"text":"\n| Campo | Tipo | Descripción |","range":{"startLineNumber":113,"startColumn":1,"endLineNumber":113,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1344,"edits":[{"text":"\n|-------|------|-------------|","range":{"startLineNumber":114,"startColumn":1,"endLineNumber":114,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1345,"edits":[{"text":"\n| `id` | INT | ID único |","range":{"startLineNumber":115,"startColumn":1,"endLineNumber":115,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1346,"edits":[{"text":"\n| `supplier_id` | INT | Referencia a suppliers * |","range":{"startLineNumber":116,"startColumn":1,"endLineNumber":116,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1347,"edits":[{"text":"\n| `name` | VARCHAR(255) | Nombre del contacto * |","range":{"startLineNumber":117,"startColumn":1,"endLineNumber":117,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1348,"edits":[{"text":"\n| `position` | VARCHAR(100) | Cargo/Puesto |","range":{"startLineNumber":118,"startColumn":1,"endLineNumber":118,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1349,"edits":[{"text":"\n| `email` | VARCHAR(255) | Email |","range":{"startLineNumber":119,"startColumn":1,"endLineNumber":119,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1350,"edits":[{"text":"\n| `phone` | VARCHAR(20) | Teléfono fijo |","range":{"startLineNumber":120,"startColumn":1,"endLineNumber":120,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1351,"edits":[{"text":"\n| `mobile` | VARCHAR(20) | Móvil |","range":{"startLineNumber":121,"startColumn":1,"endLineNumber":121,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1352,"edits":[{"text":"\n| `is_primary` | BOOLEAN | Es contacto principal |","range":{"startLineNumber":122,"startColumn":1,"endLineNumber":122,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1353,"edits":[{"text":"\n| `notes` | TEXT | Notas |","range":{"startLineNumber":123,"startColumn":1,"endLineNumber":123,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1354,"edits":[{"text":"\n| `created_at` | DATETIME | Fecha de creación |","range":{"startLineNumber":124,"startColumn":1,"endLineNumber":124,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1355,"edits":[{"text":"\n","range":{"startLineNumber":125,"startColumn":1,"endLineNumber":125,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1356,"edits":[{"text":"\n### Tabla: `supplier_documents`","range":{"startLineNumber":126,"startColumn":1,"endLineNumber":126,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1357,"edits":[{"text":"\n","range":{"startLineNumber":127,"startColumn":1,"endLineNumber":127,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1358,"edits":[{"text":"\nGestión de documentos asociados a proveedores con control de caducidad.","range":{"startLineNumber":128,"startColumn":1,"endLineNumber":128,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1359,"edits":[{"text":"\n","range":{"startLineNumber":129,"startColumn":1,"endLineNumber":129,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1360,"edits":[{"text":"\n| Campo | Tipo | Descripción |","range":{"startLineNumber":130,"startColumn":1,"endLineNumber":130,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1361,"edits":[{"text":"\n|-------|------|-------------|","range":{"startLineNumber":131,"startColumn":1,"endLineNumber":131,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1362,"edits":[{"text":"\n| `id` | INT | ID único |","range":{"startLineNumber":132,"startColumn":1,"endLineNumber":132,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1363,"edits":[{"text":"\n| `supplier_id` | INT | Referencia a suppliers * |","range":{"startLineNumber":133,"startColumn":1,"endLineNumber":133,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1364,"edits":[{"text":"\n| `document_id` | INT | Ref. al gestor documental (opcional) |","range":{"startLineNumber":134,"startColumn":1,"endLineNumber":134,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1365,"edits":[{"text":"\n| `document_type` | ENUM | contrato, certificado, seguro, licencia, otro |","range":{"startLineNumber":135,"startColumn":1,"endLineNumber":135,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1366,"edits":[{"text":"\n| `name` | VARCHAR(255) | Nombre del documento * |","range":{"startLineNumber":136,"startColumn":1,"endLineNumber":136,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1367,"edits":[{"text":"\n| `file_path` | VARCHAR(255) | Ruta del archivo |","range":{"startLineNumber":137,"startColumn":1,"endLineNumber":137,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1368,"edits":[{"text":"\n| `description` | TEXT | Descripción |","range":{"startLineNumber":138,"startColumn":1,"endLineNumber":138,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1369,"edits":[{"text":"\n| `upload_date` | DATE | Fecha de subida |","range":{"startLineNumber":139,"startColumn":1,"endLineNumber":139,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1370,"edits":[{"text":"\n| `expiry_date` | DATE | Fecha de caducidad |","range":{"startLineNumber":140,"startColumn":1,"endLineNumber":140,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1371,"edits":[{"text":"\n| `status` | ENUM | vigente, caducado, renovado, cancelado |","range":{"startLineNumber":141,"startColumn":1,"endLineNumber":141,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1372,"edits":[{"text":"\n| `tags` | VARCHAR(255) | Tags para búsqueda (separados por comas) |","range":{"startLineNumber":142,"startColumn":1,"endLineNumber":142,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1373,"edits":[{"text":"\n| `uploaded_by` | INT | Usuario que subió el documento |","range":{"startLineNumber":143,"startColumn":1,"endLineNumber":143,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1374,"edits":[{"text":"\n| `created_at` | DATETIME | Fecha de creación |","range":{"startLineNumber":144,"startColumn":1,"endLineNumber":144,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1375,"edits":[{"text":"\n","range":{"startLineNumber":145,"startColumn":1,"endLineNumber":145,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1376,"edits":[{"text":"\n### Tabla: `supplier_orders`","range":{"startLineNumber":146,"startColumn":1,"endLineNumber":146,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1377,"edits":[{"text":"\n","range":{"startLineNumber":147,"startColumn":1,"endLineNumber":147,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1378,"edits":[{"text":"\nÓrdenes de compra antes de recibir la factura formal.","range":{"startLineNumber":148,"startColumn":1,"endLineNumber":148,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1379,"edits":[{"text":"\n","range":{"startLineNumber":149,"startColumn":1,"endLineNumber":149,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1380,"edits":[{"text":"\n| Campo | Tipo | Descripción |","range":{"startLineNumber":150,"startColumn":1,"endLineNumber":150,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1381,"edits":[{"text":"\n|-------|------|-------------|","range":{"startLineNumber":151,"startColumn":1,"endLineNumber":151,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1382,"edits":[{"text":"\n| `id` | INT | ID único |","range":{"startLineNumber":152,"startColumn":1,"endLineNumber":152,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1383,"edits":[{"text":"\n| `supplier_id` | INT | Referencia a suppliers * |","range":{"startLineNumber":153,"startColumn":1,"endLineNumber":153,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1384,"edits":[{"text":"\n| `order_number` | VARCHAR(50) | Número de orden * (único) |","range":{"startLineNumber":154,"startColumn":1,"endLineNumber":154,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1385,"edits":[{"text":"\n| `order_date` | DATE | Fecha de orden * |","range":{"startLineNumber":155,"startColumn":1,"endLineNumber":155,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1386,"edits":[{"text":"\n| `expected_delivery_date` | DATE | Fecha estimada de entrega |","range":{"startLineNumber":156,"startColumn":1,"endLineNumber":156,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1387,"edits":[{"text":"\n| `status` | ENUM | draft, sent, confirmed, received, cancelled |","range":{"startLineNumber":157,"startColumn":1,"endLineNumber":157,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1388,"edits":[{"text":"\n| `subtotal` | DECIMAL(10,2) | Subtotal sin IVA |","range":{"startLineNumber":158,"startColumn":1,"endLineNumber":158,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1389,"edits":[{"text":"\n| `tax_amount` | DECIMAL(10,2) | Importe de IVA |","range":{"startLineNumber":159,"startColumn":1,"endLineNumber":159,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1390,"edits":[{"text":"\n| `discount_amount` | DECIMAL(10,2) | Descuentos aplicados |","range":{"startLineNumber":160,"startColumn":1,"endLineNumber":160,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1391,"edits":[{"text":"\n| `total_amount` | DECIMAL(10,2) | Total de la orden |","range":{"startLineNumber":161,"startColumn":1,"endLineNumber":161,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1392,"edits":[{"text":"\n| `notes` | TEXT | Notas |","range":{"startLineNumber":162,"startColumn":1,"endLineNumber":162,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1393,"edits":[{"text":"\n| `approved_by` | INT | Usuario que aprobó |","range":{"startLineNumber":163,"startColumn":1,"endLineNumber":163,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1394,"edits":[{"text":"\n| `approved_at` | DATETIME | Fecha de aprobación |","range":{"startLineNumber":164,"startColumn":1,"endLineNumber":164,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1395,"edits":[{"text":"\n| `created_by` | INT | Usuario creador |","range":{"startLineNumber":165,"startColumn":1,"endLineNumber":165,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1396,"edits":[{"text":"\n| `created_at` | DATETIME | Fecha de creación |","range":{"startLineNumber":166,"startColumn":1,"endLineNumber":166,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1397,"edits":[{"text":"\n| `updated_at` | DATETIME | Última actualización |","range":{"startLineNumber":167,"startColumn":1,"endLineNumber":167,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1398,"edits":[{"text":"\n","range":{"startLineNumber":168,"startColumn":1,"endLineNumber":168,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1399,"edits":[{"text":"\n### Tabla: `supplier_order_lines`","range":{"startLineNumber":169,"startColumn":1,"endLineNumber":169,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1400,"edits":[{"text":"\n","range":{"startLineNumber":170,"startColumn":1,"endLineNumber":170,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1401,"edits":[{"text":"\nLíneas de detalle de cada orden de compra.","range":{"startLineNumber":171,"startColumn":1,"endLineNumber":171,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1402,"edits":[{"text":"\n","range":{"startLineNumber":172,"startColumn":1,"endLineNumber":172,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1403,"edits":[{"text":"\n| Campo | Tipo | Descripción |","range":{"startLineNumber":173,"startColumn":1,"endLineNumber":173,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1404,"edits":[{"text":"\n|-------|------|-------------|","range":{"startLineNumber":174,"startColumn":1,"endLineNumber":174,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1405,"edits":[{"text":"\n| `id` | INT | ID único |","range":{"startLineNumber":175,"startColumn":1,"endLineNumber":175,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1406,"edits":[{"text":"\n| `order_id` | INT | Referencia a supplier_orders * |","range":{"startLineNumber":176,"startColumn":1,"endLineNumber":176,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1407,"edits":[{"text":"\n| `line_number` | INT | Número de línea * |","range":{"startLineNumber":177,"startColumn":1,"endLineNumber":177,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1408,"edits":[{"text":"\n| `description` | VARCHAR(255) | Descripción del artículo * |","range":{"startLineNumber":178,"startColumn":1,"endLineNumber":178,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1409,"edits":[{"text":"\n| `quantity` | DECIMAL(10,2) | Cantidad * |","range":{"startLineNumber":179,"startColumn":1,"endLineNumber":179,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1410,"edits":[{"text":"\n| `unit_price` | DECIMAL(10,2) | Precio unitario * |","range":{"startLineNumber":180,"startColumn":1,"endLineNumber":180,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1411,"edits":[{"text":"\n| `tax_rate` | DECIMAL(5,2) | % IVA (default: 21%) |","range":{"startLineNumber":181,"startColumn":1,"endLineNumber":181,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1412,"edits":[{"text":"\n| `discount_rate` | DECIMAL(5,2) | % Descuento (default: 0%) |","range":{"startLineNumber":182,"startColumn":1,"endLineNumber":182,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1413,"edits":[{"text":"\n| `line_total` | DECIMAL(10,2) | Total de la línea |","range":{"startLineNumber":183,"startColumn":1,"endLineNumber":183,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1414,"edits":[{"text":"\n| `notes` | TEXT | Notas |","range":{"startLineNumber":184,"startColumn":1,"endLineNumber":184,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1415,"edits":[{"text":"\n","range":{"startLineNumber":185,"startColumn":1,"endLineNumber":185,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1416,"edits":[{"text":"\n### Tabla: `supplier_invoices` (Mejorada)","range":{"startLineNumber":186,"startColumn":1,"endLineNumber":186,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1417,"edits":[{"text":"\n","range":{"startLineNumber":187,"startColumn":1,"endLineNumber":187,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1418,"edits":[{"text":"\nFacturas de proveedores con desglose completo.","range":{"startLineNumber":188,"startColumn":1,"endLineNumber":188,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1419,"edits":[{"text":"\n","range":{"startLineNumber":189,"startColumn":1,"endLineNumber":189,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1420,"edits":[{"text":"\n| Campo | Tipo | Descripción |","range":{"startLineNumber":190,"startColumn":1,"endLineNumber":190,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1421,"edits":[{"text":"\n|-------|------|-------------|","range":{"startLineNumber":191,"startColumn":1,"endLineNumber":191,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1422,"edits":[{"text":"\n| `id` | INT | ID único |","range":{"startLineNumber":192,"startColumn":1,"endLineNumber":192,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1423,"edits":[{"text":"\n| `supplier_id` | INT | Referencia a suppliers * |","range":{"startLineNumber":193,"startColumn":1,"endLineNumber":193,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1424,"edits":[{"text":"\n| `order_id` | INT | Referencia a supplier_orders (opcional) |","range":{"startLineNumber":194,"startColumn":1,"endLineNumber":194,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1425,"edits":[{"text":"\n| `invoice_number` | VARCHAR(50) | Número de factura * |","range":{"startLineNumber":195,"startColumn":1,"endLineNumber":195,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1426,"edits":[{"text":"\n| `invoice_date` | DATE | Fecha de factura * |","range":{"startLineNumber":196,"startColumn":1,"endLineNumber":196,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1427,"edits":[{"text":"\n| `due_date` | DATE | Fecha de vencimiento |","range":{"startLineNumber":197,"startColumn":1,"endLineNumber":197,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1428,"edits":[{"text":"\n| `payment_date` | DATE | Fecha real de pago |","range":{"startLineNumber":198,"startColumn":1,"endLineNumber":198,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1429,"edits":[{"text":"\n| `subtotal` | DECIMAL(10,2) | Base imponible |","range":{"startLineNumber":199,"startColumn":1,"endLineNumber":199,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1430,"edits":[{"text":"\n| `tax_amount` | DECIMAL(10,2) | IVA |","range":{"startLineNumber":200,"startColumn":1,"endLineNumber":200,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1431,"edits":[{"text":"\n| `discount_amount` | DECIMAL(10,2) | Descuentos |","range":{"startLineNumber":201,"startColumn":1,"endLineNumber":201,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1432,"edits":[{"text":"\n| `amount` | DECIMAL(10,2) | Total * |","range":{"startLineNumber":202,"startColumn":1,"endLineNumber":202,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1433,"edits":[{"text":"\n| `status` | ENUM | paid, pending, overdue, cancelled |","range":{"startLineNumber":203,"startColumn":1,"endLineNumber":203,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1434,"edits":[{"text":"\n| `payment_method` | ENUM | transfer, cash, card, check, other |","range":{"startLineNumber":204,"startColumn":1,"endLineNumber":204,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1435,"edits":[{"text":"\n| `bank_reference` | VARCHAR(100) | Referencia bancaria del pago |","range":{"startLineNumber":205,"startColumn":1,"endLineNumber":205,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1436,"edits":[{"text":"\n| `tipo_factura` | ENUM | normal, rectificativa, abono |","range":{"startLineNumber":206,"startColumn":1,"endLineNumber":206,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1437,"edits":[{"text":"\n| `file_path` | VARCHAR(255) | Ruta del PDF |","range":{"startLineNumber":207,"startColumn":1,"endLineNumber":207,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1438,"edits":[{"text":"\n| `notes` | TEXT | Notas |","range":{"startLineNumber":208,"startColumn":1,"endLineNumber":208,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1439,"edits":[{"text":"\n| `created_at` | DATETIME | Fecha de creación |","range":{"startLineNumber":209,"startColumn":1,"endLineNumber":209,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1440,"edits":[{"text":"\n| `updated_at` | DATETIME | Última actualización |","range":{"startLineNumber":210,"startColumn":1,"endLineNumber":210,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1441,"edits":[{"text":"\n","range":{"startLineNumber":211,"startColumn":1,"endLineNumber":211,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1442,"edits":[{"text":"\n---","range":{"startLineNumber":212,"startColumn":1,"endLineNumber":212,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1443,"edits":[{"text":"\n","range":{"startLineNumber":213,"startColumn":1,"endLineNumber":213,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1444,"edits":[{"text":"\n## Integración con Contabilidad","range":{"startLineNumber":214,"startColumn":1,"endLineNumber":214,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1445,"edits":[{"text":"\n","range":{"startLineNumber":215,"startColumn":1,"endLineNumber":215,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1446,"edits":[{"text":"\n### Cuentas Contables Utilizadas","range":{"startLineNumber":216,"startColumn":1,"endLineNumber":216,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1447,"edits":[{"text":"\n","range":{"startLineNumber":217,"startColumn":1,"endLineNumber":217,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1448,"edits":[{"text":"\n- **400 - Proveedores**: Cuenta de pasivo para proveedores","range":{"startLineNumber":218,"startColumn":1,"endLineNumber":218,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1449,"edits":[{"text":"\n- **570 - Caja/Bancos**: Cuenta de tesorería para pagos","range":{"startLineNumber":219,"startColumn":1,"endLineNumber":219,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1450,"edits":[{"text":"\n- **629 - Otros Servicios**: Gastos de servicios","range":{"startLineNumber":220,"startColumn":1,"endLineNumber":220,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1451,"edits":[{"text":"\n- **600 - Compras**: Compras de productos","range":{"startLineNumber":221,"startColumn":1,"endLineNumber":221,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1452,"edits":[{"text":"\n","range":{"startLineNumber":222,"startColumn":1,"endLineNumber":222,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1453,"edits":[{"text":"\n### Flujo Contable Automático","range":{"startLineNumber":223,"startColumn":1,"endLineNumber":223,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1454,"edits":[{"text":"\n","range":{"startLineNumber":224,"startColumn":1,"endLineNumber":224,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1455,"edits":[{"text":"\n#### 1. Al Subir una Factura (Estado: Pending)","range":{"startLineNumber":225,"startColumn":1,"endLineNumber":225,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1456,"edits":[{"text":"\n","range":{"startLineNumber":226,"startColumn":1,"endLineNumber":226,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1457,"edits":[{"text":"\n**NO SE CREA ASIENTO** hasta que se marca como pagada.","range":{"startLineNumber":227,"startColumn":1,"endLineNumber":227,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1458,"edits":[{"text":"\n","range":{"startLineNumber":228,"startColumn":1,"endLineNumber":228,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1459,"edits":[{"text":"\n#### 2. Al Marcar Factura como Pagada","range":{"startLineNumber":229,"startColumn":1,"endLineNumber":229,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1460,"edits":[{"text":"\n","range":{"startLineNumber":230,"startColumn":1,"endLineNumber":230,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1461,"edits":[{"text":"\n```php","range":{"startLineNumber":231,"startColumn":1,"endLineNumber":231,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1462,"edits":[{"text":"\nAccountingHelper::createEntryFromSupplierInvoice(","range":{"startLineNumber":232,"startColumn":1,"endLineNumber":232,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1463,"edits":[{"text":"\n    $db,","range":{"startLineNumber":233,"startColumn":1,"endLineNumber":233,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1464,"edits":[{"text":"\n    $invoice_id,","range":{"startLineNumber":234,"startColumn":1,"endLineNumber":234,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1465,"edits":[{"text":"\n    $amount,","range":{"startLineNumber":235,"startColumn":1,"endLineNumber":235,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1466,"edits":[{"text":"\n    $description,","range":{"startLineNumber":236,"startColumn":1,"endLineNumber":236,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1467,"edits":[{"text":"\n    $invoice_date,","range":{"startLineNumber":237,"startColumn":1,"endLineNumber":237,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1468,"edits":[{"text":"\n    $payment_date,","range":{"startLineNumber":238,"startColumn":1,"endLineNumber":238,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1469,"edits":[{"text":"\n    $payment_method","range":{"startLineNumber":239,"startColumn":1,"endLineNumber":239,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1470,"edits":[{"text":"\n);","range":{"startLineNumber":240,"startColumn":1,"endLineNumber":240,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1471,"edits":[{"text":"\n```","range":{"startLineNumber":241,"startColumn":1,"endLineNumber":241,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1472,"edits":[{"text":"\n","range":{"startLineNumber":242,"startColumn":1,"endLineNumber":242,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1473,"edits":[{"text":"\n**Asiento Generado:**","range":{"startLineNumber":243,"startColumn":1,"endLineNumber":243,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1474,"edits":[{"text":"\n```","range":{"startLineNumber":244,"startColumn":1,"endLineNumber":244,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1475,"edits":[{"text":"\nDEBE                                    HABER","range":{"startLineNumber":245,"startColumn":1,"endLineNumber":245,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1476,"edits":[{"text":"\n629 Otros Servicios    €1,000.00","range":{"startLineNumber":246,"startColumn":1,"endLineNumber":246,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1477,"edits":[{"text":"\n                                        400 Proveedores        €1,000.00","range":{"startLineNumber":247,"startColumn":1,"endLineNumber":247,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1478,"edits":[{"text":"\n","range":{"startLineNumber":248,"startColumn":1,"endLineNumber":248,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1479,"edits":[{"text":"\n(Registro del gasto)","range":{"startLineNumber":249,"startColumn":1,"endLineNumber":249,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1480,"edits":[{"text":"\n","range":{"startLineNumber":250,"startColumn":1,"endLineNumber":250,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1481,"edits":[{"text":"\n400 Proveedores        €1,000.00","range":{"startLineNumber":251,"startColumn":1,"endLineNumber":251,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1482,"edits":[{"text":"\n                                        570 Caja/Bancos        €1,000.00","range":{"startLineNumber":252,"startColumn":1,"endLineNumber":252,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1483,"edits":[{"text":"\n","range":{"startLineNumber":253,"startColumn":1,"endLineNumber":253,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1484,"edits":[{"text":"\n(Pago realizado)","range":{"startLineNumber":254,"startColumn":1,"endLineNumber":254,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1485,"edits":[{"text":"\n```","range":{"startLineNumber":255,"startColumn":1,"endLineNumber":255,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1486,"edits":[{"text":"\n","range":{"startLineNumber":256,"startColumn":1,"endLineNumber":256,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1487,"edits":[{"text":"\n#### 3. Al Cancelar/Eliminar Factura","range":{"startLineNumber":257,"startColumn":1,"endLineNumber":257,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1488,"edits":[{"text":"\n","range":{"startLineNumber":258,"startColumn":1,"endLineNumber":258,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1489,"edits":[{"text":"\nEl sistema **cancela automáticamente** el asiento contable asociado:","range":{"startLineNumber":259,"startColumn":1,"endLineNumber":259,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1490,"edits":[{"text":"\n","range":{"startLineNumber":260,"startColumn":1,"endLineNumber":260,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1491,"edits":[{"text":"\n```php","range":{"startLineNumber":261,"startColumn":1,"endLineNumber":261,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1492,"edits":[{"text":"\n// En SupplierController::deleteInvoice()","range":{"startLineNumber":262,"startColumn":1,"endLineNumber":262,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1493,"edits":[{"text":"\n$stmt = $this->db->prepare(\"SELECT id FROM accounting_entries ","range":{"startLineNumber":263,"startColumn":1,"endLineNumber":263,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1494,"edits":[{"text":"\n                            WHERE source_type = 'supplier_invoice' ","range":{"startLineNumber":264,"startColumn":1,"endLineNumber":264,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1495,"edits":[{"text":"\n                            AND source_id = ?\");","range":{"startLineNumber":265,"startColumn":1,"endLineNumber":265,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1496,"edits":[{"text":"\n$stmt->execute([$invoice_id]);","range":{"startLineNumber":266,"startColumn":1,"endLineNumber":266,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1497,"edits":[{"text":"\n$entry = $stmt->fetch(PDO::FETCH_ASSOC);","range":{"startLineNumber":267,"startColumn":1,"endLineNumber":267,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1498,"edits":[{"text":"\n","range":{"startLineNumber":268,"startColumn":1,"endLineNumber":268,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1499,"edits":[{"text":"\nif ($entry) {","range":{"startLineNumber":269,"startColumn":1,"endLineNumber":269,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1500,"edits":[{"text":"\n    $entryModel = new AccountingEntry($this->db);","range":{"startLineNumber":270,"startColumn":1,"endLineNumber":270,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1501,"edits":[{"text":"\n    $entryModel->id = $entry['id'];","range":{"startLineNumber":271,"startColumn":1,"endLineNumber":271,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1502,"edits":[{"text":"\n    $entryModel->cancel(); // Marca como cancelled","range":{"startLineNumber":272,"startColumn":1,"endLineNumber":272,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1503,"edits":[{"text":"\n}","range":{"startLineNumber":273,"startColumn":1,"endLineNumber":273,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1504,"edits":[{"text":"\n```","range":{"startLineNumber":274,"startColumn":1,"endLineNumber":274,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1505,"edits":[{"text":"\n","range":{"startLineNumber":275,"startColumn":1,"endLineNumber":275,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1506,"edits":[{"text":"\n### Verificación de Periodo Contable","range":{"startLineNumber":276,"startColumn":1,"endLineNumber":276,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1507,"edits":[{"text":"\n","range":{"startLineNumber":277,"startColumn":1,"endLineNumber":277,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1508,"edits":[{"text":"\nTodas las operaciones verifican que el periodo contable esté abierto:","range":{"startLineNumber":278,"startColumn":1,"endLineNumber":278,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1509,"edits":[{"text":"\n","range":{"startLineNumber":279,"startColumn":1,"endLineNumber":279,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1510,"edits":[{"text":"\n```php","range":{"startLineNumber":280,"startColumn":1,"endLineNumber":280,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1511,"edits":[{"text":"\nAccountingPeriod::getCurrentPeriod($db); // Verifica que esté 'open'","range":{"startLineNumber":281,"startColumn":1,"endLineNumber":281,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1512,"edits":[{"text":"\n```","range":{"startLineNumber":282,"startColumn":1,"endLineNumber":282,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1513,"edits":[{"text":"\n","range":{"startLineNumber":283,"startColumn":1,"endLineNumber":283,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1514,"edits":[{"text":"\n---","range":{"startLineNumber":284,"startColumn":1,"endLineNumber":284,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1515,"edits":[{"text":"\n","range":{"startLineNumber":285,"startColumn":1,"endLineNumber":285,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1516,"edits":[{"text":"\n## Integración con Gestor Documental","range":{"startLineNumber":286,"startColumn":1,"endLineNumber":286,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1517,"edits":[{"text":"\n","range":{"startLineNumber":287,"startColumn":1,"endLineNumber":287,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1518,"edits":[{"text":"\n### Almacenamiento de Documentos","range":{"startLineNumber":288,"startColumn":1,"endLineNumber":288,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1519,"edits":[{"text":"\n","range":{"startLineNumber":289,"startColumn":1,"endLineNumber":289,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1520,"edits":[{"text":"\nLos documentos de proveedores se pueden gestionar de dos formas:","range":{"startLineNumber":290,"startColumn":1,"endLineNumber":290,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1521,"edits":[{"text":"\n","range":{"startLineNumber":291,"startColumn":1,"endLineNumber":291,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1522,"edits":[{"text":"\n#### 1. Sistema de Archivos (Básico)","range":{"startLineNumber":292,"startColumn":1,"endLineNumber":292,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1523,"edits":[{"text":"\n","range":{"startLineNumber":293,"startColumn":1,"endLineNumber":293,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1524,"edits":[{"text":"\n```","range":{"startLineNumber":294,"startColumn":1,"endLineNumber":294,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1525,"edits":[{"text":"\npublic/uploads/suppliers/","range":{"startLineNumber":295,"startColumn":1,"endLineNumber":295,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1526,"edits":[{"text":"\n├── [supplier_id]/","range":{"startLineNumber":296,"startColumn":1,"endLineNumber":296,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1527,"edits":[{"text":"\n│   ├── factura_001.pdf","range":{"startLineNumber":297,"startColumn":1,"endLineNumber":297,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1528,"edits":[{"text":"\n│   ├── contrato_2025.pdf","range":{"startLineNumber":298,"startColumn":1,"endLineNumber":298,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1529,"edits":[{"text":"\n│   └── certificado_seguro.pdf","range":{"startLineNumber":299,"startColumn":1,"endLineNumber":299,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1530,"edits":[{"text":"\n└── logos/","range":{"startLineNumber":300,"startColumn":1,"endLineNumber":300,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1531,"edits":[{"text":"\n    └── logo_proveedor_123.png","range":{"startLineNumber":301,"startColumn":1,"endLineNumber":301,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1532,"edits":[{"text":"\n```","range":{"startLineNumber":302,"startColumn":1,"endLineNumber":302,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1533,"edits":[{"text":"\n","range":{"startLineNumber":303,"startColumn":1,"endLineNumber":303,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1534,"edits":[{"text":"\n#### 2. Gestor Documental Integrado (Avanzado)","range":{"startLineNumber":304,"startColumn":1,"endLineNumber":304,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1535,"edits":[{"text":"\n","range":{"startLineNumber":305,"startColumn":1,"endLineNumber":305,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1536,"edits":[{"text":"\nLos documentos se registran en `supplier_documents` con referencia a `document_id` del sistema de gestión documental general, que proporciona:","range":{"startLineNumber":306,"startColumn":1,"endLineNumber":306,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1537,"edits":[{"text":"\n","range":{"startLineNumber":307,"startColumn":1,"endLineNumber":307,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1538,"edits":[{"text":"\n- **Versionado**: Múltiples versiones del mismo documento","range":{"startLineNumber":308,"startColumn":1,"endLineNumber":308,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1539,"edits":[{"text":"\n- **Control de permisos**: Quién puede ver/editar","range":{"startLineNumber":309,"startColumn":1,"endLineNumber":309,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1540,"edits":[{"text":"\n- **Búsqueda avanzada**: Por tags, tipo, fecha","range":{"startLineNumber":310,"startColumn":1,"endLineNumber":310,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1541,"edits":[{"text":"\n- **Auditoría**: Historial completo de cambios","range":{"startLineNumber":311,"startColumn":1,"endLineNumber":311,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1542,"edits":[{"text":"\n- **Firmas digitales**: Validación de documentos","range":{"startLineNumber":312,"startColumn":1,"endLineNumber":312,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1543,"edits":[{"text":"\n","range":{"startLineNumber":313,"startColumn":1,"endLineNumber":313,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1544,"edits":[{"text":"\n### Uso de Supplier Documents","range":{"startLineNumber":314,"startColumn":1,"endLineNumber":314,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1545,"edits":[{"text":"\n","range":{"startLineNumber":315,"startColumn":1,"endLineNumber":315,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1546,"edits":[{"text":"\n```php","range":{"startLineNumber":316,"startColumn":1,"endLineNumber":316,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1547,"edits":[{"text":"\nrequire_once 'src/Models/SupplierDocument.php';","range":{"startLineNumber":317,"startColumn":1,"endLineNumber":317,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1548,"edits":[{"text":"\n","range":{"startLineNumber":318,"startColumn":1,"endLineNumber":318,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1549,"edits":[{"text":"\n$doc = new SupplierDocument($db);","range":{"startLineNumber":319,"startColumn":1,"endLineNumber":319,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1550,"edits":[{"text":"\n$doc->supplier_id = $supplier_id;","range":{"startLineNumber":320,"startColumn":1,"endLineNumber":320,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1551,"edits":[{"text":"\n$doc->document_type = 'contrato';","range":{"startLineNumber":321,"startColumn":1,"endLineNumber":321,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1552,"edits":[{"text":"\n$doc->name = 'Contrato Marco 2025';","range":{"startLineNumber":322,"startColumn":1,"endLineNumber":322,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1553,"edits":[{"text":"\n$doc->file_path = 'public/uploads/suppliers/123/contrato.pdf';","range":{"startLineNumber":323,"startColumn":1,"endLineNumber":323,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1554,"edits":[{"text":"\n$doc->expiry_date = '2025-12-31';","range":{"startLineNumber":324,"startColumn":1,"endLineNumber":324,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1555,"edits":[{"text":"\n$doc->tags = 'contrato,marco,anual';","range":{"startLineNumber":325,"startColumn":1,"endLineNumber":325,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1556,"edits":[{"text":"\n$doc->uploaded_by = $_SESSION['user_id'];","range":{"startLineNumber":326,"startColumn":1,"endLineNumber":326,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1557,"edits":[{"text":"\n$doc->create();","range":{"startLineNumber":327,"startColumn":1,"endLineNumber":327,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1558,"edits":[{"text":"\n```","range":{"startLineNumber":328,"startColumn":1,"endLineNumber":328,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1559,"edits":[{"text":"\n","range":{"startLineNumber":329,"startColumn":1,"endLineNumber":329,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1560,"edits":[{"text":"\n### Alertas de Caducidad","range":{"startLineNumber":330,"startColumn":1,"endLineNumber":330,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1561,"edits":[{"text":"\n","range":{"startLineNumber":331,"startColumn":1,"endLineNumber":331,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1562,"edits":[{"text":"\nEl sistema detecta automáticamente documentos próximos a caducar:","range":{"startLineNumber":332,"startColumn":1,"endLineNumber":332,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1563,"edits":[{"text":"\n","range":{"startLineNumber":333,"startColumn":1,"endLineNumber":333,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1564,"edits":[{"text":"\n```php","range":{"startLineNumber":334,"startColumn":1,"endLineNumber":334,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1565,"edits":[{"text":"\n// Documentos que caducan en los próximos 30 días","range":{"startLineNumber":335,"startColumn":1,"endLineNumber":335,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1566,"edits":[{"text":"\n$expiring = $doc->getExpiringDocuments(30);","range":{"startLineNumber":336,"startColumn":1,"endLineNumber":336,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1567,"edits":[{"text":"\n","range":{"startLineNumber":337,"startColumn":1,"endLineNumber":337,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1568,"edits":[{"text":"\n// Documentos ya caducados","range":{"startLineNumber":338,"startColumn":1,"endLineNumber":338,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1569,"edits":[{"text":"\n$expired = $doc->getExpiredDocuments();","range":{"startLineNumber":339,"startColumn":1,"endLineNumber":339,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1570,"edits":[{"text":"\n```","range":{"startLineNumber":340,"startColumn":1,"endLineNumber":340,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1571,"edits":[{"text":"\n","range":{"startLineNumber":341,"startColumn":1,"endLineNumber":341,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1572,"edits":[{"text":"\n---","range":{"startLineNumber":342,"startColumn":1,"endLineNumber":342,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1573,"edits":[{"text":"\n","range":{"startLineNumber":343,"startColumn":1,"endLineNumber":343,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1574,"edits":[{"text":"\n## Flujo de Trabajo","range":{"startLineNumber":344,"startColumn":1,"endLineNumber":344,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1575,"edits":[{"text":"\n","range":{"startLineNumber":345,"startColumn":1,"endLineNumber":345,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1576,"edits":[{"text":"\n### 1. Creación de Proveedor","range":{"startLineNumber":346,"startColumn":1,"endLineNumber":346,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1577,"edits":[{"text":"\n","range":{"startLineNumber":347,"startColumn":1,"endLineNumber":347,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1578,"edits":[{"text":"\n```","range":{"startLineNumber":348,"startColumn":1,"endLineNumber":348,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1579,"edits":[{"text":"\nUsuario completa formulario","range":{"startLineNumber":349,"startColumn":1,"endLineNumber":349,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1580,"edits":[{"text":"\n    ↓","range":{"startLineNumber":350,"startColumn":1,"endLineNumber":350,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1581,"edits":[{"text":"\nValidación de datos","range":{"startLineNumber":351,"startColumn":1,"endLineNumber":351,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1582,"edits":[{"text":"\n    ↓","range":{"startLineNumber":352,"startColumn":1,"endLineNumber":352,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1583,"edits":[{"text":"\nCreación en BD (suppliers)","range":{"startLineNumber":353,"startColumn":1,"endLineNumber":353,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1584,"edits":[{"text":"\n    ↓","range":{"startLineNumber":354,"startColumn":1,"endLineNumber":354,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1585,"edits":[{"text":"\nCreación de directorio de documentos","range":{"startLineNumber":355,"startColumn":1,"endLineNumber":355,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1586,"edits":[{"text":"\n    ↓","range":{"startLineNumber":356,"startColumn":1,"endLineNumber":356,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1587,"edits":[{"text":"\n[Opcional] Creación de contacto inicial","range":{"startLineNumber":357,"startColumn":1,"endLineNumber":357,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1588,"edits":[{"text":"\n    ↓","range":{"startLineNumber":358,"startColumn":1,"endLineNumber":358,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1589,"edits":[{"text":"\nMensaje de éxito","range":{"startLineNumber":359,"startColumn":1,"endLineNumber":359,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1590,"edits":[{"text":"\n```","range":{"startLineNumber":360,"startColumn":1,"endLineNumber":360,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1591,"edits":[{"text":"\n","range":{"startLineNumber":361,"startColumn":1,"endLineNumber":361,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1592,"edits":[{"text":"\n### 2. Gestión de Contactos","range":{"startLineNumber":362,"startColumn":1,"endLineNumber":362,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1593,"edits":[{"text":"\n","range":{"startLineNumber":363,"startColumn":1,"endLineNumber":363,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1594,"edits":[{"text":"\n```","range":{"startLineNumber":364,"startColumn":1,"endLineNumber":364,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1595,"edits":[{"text":"\nAñadir nuevo contacto","range":{"startLineNumber":365,"startColumn":1,"endLineNumber":365,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1596,"edits":[{"text":"\n    ↓","range":{"startLineNumber":366,"startColumn":1,"endLineNumber":366,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1597,"edits":[{"text":"\nMarcar como principal (opcional)","range":{"startLineNumber":367,"startColumn":1,"endLineNumber":367,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1598,"edits":[{"text":"\n    ↓","range":{"startLineNumber":368,"startColumn":1,"endLineNumber":368,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1599,"edits":[{"text":"\nSi es principal: desmarcar otros contactos","range":{"startLineNumber":369,"startColumn":1,"endLineNumber":369,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1600,"edits":[{"text":"\n    ↓","range":{"startLineNumber":370,"startColumn":1,"endLineNumber":370,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1601,"edits":[{"text":"\nGuardar en supplier_contacts","range":{"startLineNumber":371,"startColumn":1,"endLineNumber":371,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1602,"edits":[{"text":"\n```","range":{"startLineNumber":372,"startColumn":1,"endLineNumber":372,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1603,"edits":[{"text":"\n","range":{"startLineNumber":373,"startColumn":1,"endLineNumber":373,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1604,"edits":[{"text":"\n### 3. Subida de Documentos","range":{"startLineNumber":374,"startColumn":1,"endLineNumber":374,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1605,"edits":[{"text":"\n","range":{"startLineNumber":375,"startColumn":1,"endLineNumber":375,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1606,"edits":[{"text":"\n```","range":{"startLineNumber":376,"startColumn":1,"endLineNumber":376,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1607,"edits":[{"text":"\nSeleccionar archivo","range":{"startLineNumber":377,"startColumn":1,"endLineNumber":377,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1608,"edits":[{"text":"\n    ↓","range":{"startLineNumber":378,"startColumn":1,"endLineNumber":378,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1609,"edits":[{"text":"\nValidación (tipo, tamaño, MIME)","range":{"startLineNumber":379,"startColumn":1,"endLineNumber":379,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1610,"edits":[{"text":"\n    ↓","range":{"startLineNumber":380,"startColumn":1,"endLineNumber":380,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1611,"edits":[{"text":"\nSubir a directorio del proveedor","range":{"startLineNumber":381,"startColumn":1,"endLineNumber":381,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1612,"edits":[{"text":"\n    ↓","range":{"startLineNumber":382,"startColumn":1,"endLineNumber":382,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1613,"edits":[{"text":"\nRegistrar en supplier_documents","range":{"startLineNumber":383,"startColumn":1,"endLineNumber":383,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1614,"edits":[{"text":"\n    ↓","range":{"startLineNumber":384,"startColumn":1,"endLineNumber":384,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1615,"edits":[{"text":"\n[Opcional] Vincular con gestor documental","range":{"startLineNumber":385,"startColumn":1,"endLineNumber":385,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1616,"edits":[{"text":"\n    ↓","range":{"startLineNumber":386,"startColumn":1,"endLineNumber":386,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1617,"edits":[{"text":"\nConfigurar alertas de caducidad","range":{"startLineNumber":387,"startColumn":1,"endLineNumber":387,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1618,"edits":[{"text":"\n```","range":{"startLineNumber":388,"startColumn":1,"endLineNumber":388,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1619,"edits":[{"text":"\n","range":{"startLineNumber":389,"startColumn":1,"endLineNumber":389,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1620,"edits":[{"text":"\n### 4. Crear Orden de Compra","range":{"startLineNumber":390,"startColumn":1,"endLineNumber":390,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1621,"edits":[{"text":"\n","range":{"startLineNumber":391,"startColumn":1,"endLineNumber":391,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1622,"edits":[{"text":"\n```","range":{"startLineNumber":392,"startColumn":1,"endLineNumber":392,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1623,"edits":[{"text":"\nCrear orden (estado: draft)","range":{"startLineNumber":393,"startColumn":1,"endLineNumber":393,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1624,"edits":[{"text":"\n    ↓","range":{"startLineNumber":394,"startColumn":1,"endLineNumber":394,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1625,"edits":[{"text":"\nAñadir líneas de productos/servicios","range":{"startLineNumber":395,"startColumn":1,"endLineNumber":395,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1626,"edits":[{"text":"\n    ↓","range":{"startLineNumber":396,"startColumn":1,"endLineNumber":396,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1627,"edits":[{"text":"\nCalcular subtotales, IVA, descuentos","range":{"startLineNumber":397,"startColumn":1,"endLineNumber":397,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1628,"edits":[{"text":"\n    ↓","range":{"startLineNumber":398,"startColumn":1,"endLineNumber":398,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1629,"edits":[{"text":"\nEnviar para aprobación","range":{"startLineNumber":399,"startColumn":1,"endLineNumber":399,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1630,"edits":[{"text":"\n    ↓","range":{"startLineNumber":400,"startColumn":1,"endLineNumber":400,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1631,"edits":[{"text":"\nAprobar orden (estado: sent)","range":{"startLineNumber":401,"startColumn":1,"endLineNumber":401,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1632,"edits":[{"text":"\n    ↓","range":{"startLineNumber":402,"startColumn":1,"endLineNumber":402,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1633,"edits":[{"text":"\nEnviar al proveedor","range":{"startLineNumber":403,"startColumn":1,"endLineNumber":403,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1634,"edits":[{"text":"\n    ↓","range":{"startLineNumber":404,"startColumn":1,"endLineNumber":404,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1635,"edits":[{"text":"\nConfirmar recepción (estado: received)","range":{"startLineNumber":405,"startColumn":1,"endLineNumber":405,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1636,"edits":[{"text":"\n```","range":{"startLineNumber":406,"startColumn":1,"endLineNumber":406,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1637,"edits":[{"text":"\n","range":{"startLineNumber":407,"startColumn":1,"endLineNumber":407,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1638,"edits":[{"text":"\n### 5. Gestión de Facturas","range":{"startLineNumber":408,"startColumn":1,"endLineNumber":408,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1639,"edits":[{"text":"\n","range":{"startLineNumber":409,"startColumn":1,"endLineNumber":409,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1640,"edits":[{"text":"\n```","range":{"startLineNumber":410,"startColumn":1,"endLineNumber":410,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1641,"edits":[{"text":"\nSubir factura PDF","range":{"startLineNumber":411,"startColumn":1,"endLineNumber":411,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1642,"edits":[{"text":"\n    ↓","range":{"startLineNumber":412,"startColumn":1,"endLineNumber":412,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1643,"edits":[{"text":"\nCompletar datos (número, fecha, importes)","range":{"startLineNumber":413,"startColumn":1,"endLineNumber":413,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1644,"edits":[{"text":"\n    ↓","range":{"startLineNumber":414,"startColumn":1,"endLineNumber":414,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1645,"edits":[{"text":"\n[Opcional] Vincular con orden de compra","range":{"startLineNumber":415,"startColumn":1,"endLineNumber":415,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1646,"edits":[{"text":"\n    ↓","range":{"startLineNumber":416,"startColumn":1,"endLineNumber":416,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1647,"edits":[{"text":"\nEstado: pending (sin asiento contable)","range":{"startLineNumber":417,"startColumn":1,"endLineNumber":417,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1648,"edits":[{"text":"\n    ↓","range":{"startLineNumber":418,"startColumn":1,"endLineNumber":418,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1649,"edits":[{"text":"\nMarcar como pagada","range":{"startLineNumber":419,"startColumn":1,"endLineNumber":419,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1650,"edits":[{"text":"\n    ↓","range":{"startLineNumber":420,"startColumn":1,"endLineNumber":420,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1651,"edits":[{"text":"\nCREAR ASIENTO CONTABLE automático","range":{"startLineNumber":421,"startColumn":1,"endLineNumber":421,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1652,"edits":[{"text":"\n    ↓","range":{"startLineNumber":422,"startColumn":1,"endLineNumber":422,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1653,"edits":[{"text":"\nActualizar estado: paid","range":{"startLineNumber":423,"startColumn":1,"endLineNumber":423,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1654,"edits":[{"text":"\n    ↓","range":{"startLineNumber":424,"startColumn":1,"endLineNumber":424,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1655,"edits":[{"text":"\nRegistrar en auditoría","range":{"startLineNumber":425,"startColumn":1,"endLineNumber":425,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1656,"edits":[{"text":"\n```","range":{"startLineNumber":426,"startColumn":1,"endLineNumber":426,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1657,"edits":[{"text":"\n","range":{"startLineNumber":427,"startColumn":1,"endLineNumber":427,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1658,"edits":[{"text":"\n### 6. Control de Vencimientos","range":{"startLineNumber":428,"startColumn":1,"endLineNumber":428,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1659,"edits":[{"text":"\n","range":{"startLineNumber":429,"startColumn":1,"endLineNumber":429,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1660,"edits":[{"text":"\n```","range":{"startLineNumber":430,"startColumn":1,"endLineNumber":430,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1661,"edits":[{"text":"\nCron diario ejecuta verificación","range":{"startLineNumber":431,"startColumn":1,"endLineNumber":431,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1662,"edits":[{"text":"\n    ↓","range":{"startLineNumber":432,"startColumn":1,"endLineNumber":432,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1663,"edits":[{"text":"\nDetectar facturas vencidas","range":{"startLineNumber":433,"startColumn":1,"endLineNumber":433,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1664,"edits":[{"text":"\n    ↓","range":{"startLineNumber":434,"startColumn":1,"endLineNumber":434,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1665,"edits":[{"text":"\nActualizar estado: overdue","range":{"startLineNumber":435,"startColumn":1,"endLineNumber":435,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1666,"edits":[{"text":"\n    ↓","range":{"startLineNumber":436,"startColumn":1,"endLineNumber":436,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1667,"edits":[{"text":"\nEnviar notificaciones","range":{"startLineNumber":437,"startColumn":1,"endLineNumber":437,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1668,"edits":[{"text":"\n    ↓","range":{"startLineNumber":438,"startColumn":1,"endLineNumber":438,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1669,"edits":[{"text":"\nDetectar documentos próximos a caducar","range":{"startLineNumber":439,"startColumn":1,"endLineNumber":439,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1670,"edits":[{"text":"\n    ↓","range":{"startLineNumber":440,"startColumn":1,"endLineNumber":440,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1671,"edits":[{"text":"\nAlertar a administradores","range":{"startLineNumber":441,"startColumn":1,"endLineNumber":441,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1672,"edits":[{"text":"\n```","range":{"startLineNumber":442,"startColumn":1,"endLineNumber":442,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1673,"edits":[{"text":"\n","range":{"startLineNumber":443,"startColumn":1,"endLineNumber":443,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1674,"edits":[{"text":"\n---","range":{"startLineNumber":444,"startColumn":1,"endLineNumber":444,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1675,"edits":[{"text":"\n","range":{"startLineNumber":445,"startColumn":1,"endLineNumber":445,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1676,"edits":[{"text":"\n## API y Endpoints","range":{"startLineNumber":446,"startColumn":1,"endLineNumber":446,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1677,"edits":[{"text":"\n","range":{"startLineNumber":447,"startColumn":1,"endLineNumber":447,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1678,"edits":[{"text":"\n### Proveedores","range":{"startLineNumber":448,"startColumn":1,"endLineNumber":448,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1679,"edits":[{"text":"\n","range":{"startLineNumber":449,"startColumn":1,"endLineNumber":449,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1680,"edits":[{"text":"\n- `GET /index.php?page=suppliers` - Listado","range":{"startLineNumber":450,"startColumn":1,"endLineNumber":450,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1681,"edits":[{"text":"\n- `GET /index.php?page=suppliers&action=create` - Formulario de creación","range":{"startLineNumber":451,"startColumn":1,"endLineNumber":451,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1682,"edits":[{"text":"\n- `POST /index.php?page=suppliers&action=store` - Guardar proveedor","range":{"startLineNumber":452,"startColumn":1,"endLineNumber":452,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1683,"edits":[{"text":"\n- `GET /index.php?page=suppliers&action=show&id={id}` - Detalle","range":{"startLineNumber":453,"startColumn":1,"endLineNumber":453,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1684,"edits":[{"text":"\n- `GET /index.php?page=suppliers&action=edit&id={id}` - Formulario de edición","range":{"startLineNumber":454,"startColumn":1,"endLineNumber":454,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1685,"edits":[{"text":"\n- `POST /index.php?page=suppliers&action=update` - Actualizar","range":{"startLineNumber":455,"startColumn":1,"endLineNumber":455,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1686,"edits":[{"text":"\n- `POST /index.php?page=suppliers&action=delete&id={id}` - Eliminar","range":{"startLineNumber":456,"startColumn":1,"endLineNumber":456,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1687,"edits":[{"text":"\n","range":{"startLineNumber":457,"startColumn":1,"endLineNumber":457,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1688,"edits":[{"text":"\n### Facturas","range":{"startLineNumber":458,"startColumn":1,"endLineNumber":458,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1689,"edits":[{"text":"\n","range":{"startLineNumber":459,"startColumn":1,"endLineNumber":459,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1690,"edits":[{"text":"\n- `POST /index.php?page=suppliers&action=uploadInvoice` - Subir factura","range":{"startLineNumber":460,"startColumn":1,"endLineNumber":460,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1691,"edits":[{"text":"\n- `POST /index.php?page=suppliers&action=updateInvoiceStatus&id={id}&status={status}` - Cambiar estado","range":{"startLineNumber":461,"startColumn":1,"endLineNumber":461,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1692,"edits":[{"text":"\n- `POST /index.php?page=suppliers&action=deleteInvoice&id={id}` - Eliminar factura","range":{"startLineNumber":462,"startColumn":1,"endLineNumber":462,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1693,"edits":[{"text":"\n","range":{"startLineNumber":463,"startColumn":1,"endLineNumber":463,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1694,"edits":[{"text":"\n### Dashboard","range":{"startLineNumber":464,"startColumn":1,"endLineNumber":464,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1695,"edits":[{"text":"\n","range":{"startLineNumber":465,"startColumn":1,"endLineNumber":465,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1696,"edits":[{"text":"\n- `GET /index.php?page=suppliers&action=dashboard&year={year}` - Estadísticas","range":{"startLineNumber":466,"startColumn":1,"endLineNumber":466,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1697,"edits":[{"text":"\n","range":{"startLineNumber":467,"startColumn":1,"endLineNumber":467,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1698,"edits":[{"text":"\n---","range":{"startLineNumber":468,"startColumn":1,"endLineNumber":468,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1699,"edits":[{"text":"\n","range":{"startLineNumber":469,"startColumn":1,"endLineNumber":469,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1700,"edits":[{"text":"\n## Migración","range":{"startLineNumber":470,"startColumn":1,"endLineNumber":470,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1701,"edits":[{"text":"\n","range":{"startLineNumber":471,"startColumn":1,"endLineNumber":471,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1702,"edits":[{"text":"\n### Prerequisitos","range":{"startLineNumber":472,"startColumn":1,"endLineNumber":472,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1703,"edits":[{"text":"\n","range":{"startLineNumber":473,"startColumn":1,"endLineNumber":473,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1704,"edits":[{"text":"\n1. **Backup de la base de datos**","range":{"startLineNumber":474,"startColumn":1,"endLineNumber":474,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1705,"edits":[{"text":"\n2. **PHP 7.4+** con extensiones: PDO, PDO_MySQL","range":{"startLineNumber":475,"startColumn":1,"endLineNumber":475,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1706,"edits":[{"text":"\n3. **MySQL 5.7+** o **MariaDB 10.3+**","range":{"startLineNumber":476,"startColumn":1,"endLineNumber":476,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1707,"edits":[{"text":"\n","range":{"startLineNumber":477,"startColumn":1,"endLineNumber":477,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1708,"edits":[{"text":"\n### Ejecutar Migración","range":{"startLineNumber":478,"startColumn":1,"endLineNumber":478,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1709,"edits":[{"text":"\n","range":{"startLineNumber":479,"startColumn":1,"endLineNumber":479,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1710,"edits":[{"text":"\n```bash","range":{"startLineNumber":480,"startColumn":1,"endLineNumber":480,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1711,"edits":[{"text":"\ncd /root/Documentos/github/GestionSocios","range":{"startLineNumber":481,"startColumn":1,"endLineNumber":481,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1712,"edits":[{"text":"\n./database/migrations/apply_supplier_migration.sh","range":{"startLineNumber":482,"startColumn":1,"endLineNumber":482,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1713,"edits":[{"text":"\n```","range":{"startLineNumber":483,"startColumn":1,"endLineNumber":483,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1714,"edits":[{"text":"\n","range":{"startLineNumber":484,"startColumn":1,"endLineNumber":484,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1715,"edits":[{"text":"\nEl script solicitará:","range":{"startLineNumber":485,"startColumn":1,"endLineNumber":485,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1716,"edits":[{"text":"\n- Host de MySQL","range":{"startLineNumber":486,"startColumn":1,"endLineNumber":486,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1717,"edits":[{"text":"\n- Usuario","range":{"startLineNumber":487,"startColumn":1,"endLineNumber":487,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1718,"edits":[{"text":"\n- Contraseña","range":{"startLineNumber":488,"startColumn":1,"endLineNumber":488,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1719,"edits":[{"text":"\n- Nombre de la base de datos","range":{"startLineNumber":489,"startColumn":1,"endLineNumber":489,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1720,"edits":[{"text":"\n","range":{"startLineNumber":490,"startColumn":1,"endLineNumber":490,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1721,"edits":[{"text":"\nAutomáticamente:","range":{"startLineNumber":491,"startColumn":1,"endLineNumber":491,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1722,"edits":[{"text":"\n1. Crea un backup de seguridad","range":{"startLineNumber":492,"startColumn":1,"endLineNumber":492,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1723,"edits":[{"text":"\n2. Aplica todas las modificaciones","range":{"startLineNumber":493,"startColumn":1,"endLineNumber":493,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1724,"edits":[{"text":"\n3. Migra datos existentes","range":{"startLineNumber":494,"startColumn":1,"endLineNumber":494,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1725,"edits":[{"text":"\n4. Verifica integridad","range":{"startLineNumber":495,"startColumn":1,"endLineNumber":495,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1726,"edits":[{"text":"\n","range":{"startLineNumber":496,"startColumn":1,"endLineNumber":496,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1727,"edits":[{"text":"\n### Verificación Post-Migración","range":{"startLineNumber":497,"startColumn":1,"endLineNumber":497,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1728,"edits":[{"text":"\n","range":{"startLineNumber":498,"startColumn":1,"endLineNumber":498,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1729,"edits":[{"text":"\n```sql","range":{"startLineNumber":499,"startColumn":1,"endLineNumber":499,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1730,"edits":[{"text":"\n-- Verificar nuevas tablas","range":{"startLineNumber":500,"startColumn":1,"endLineNumber":500,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1731,"edits":[{"text":"\nSHOW TABLES LIKE 'supplier_%';","range":{"startLineNumber":501,"startColumn":1,"endLineNumber":501,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1732,"edits":[{"text":"\n","range":{"startLineNumber":502,"startColumn":1,"endLineNumber":502,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1733,"edits":[{"text":"\n-- Verificar nuevos campos en suppliers","range":{"startLineNumber":503,"startColumn":1,"endLineNumber":503,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1734,"edits":[{"text":"\nDESCRIBE suppliers;","range":{"startLineNumber":504,"startColumn":1,"endLineNumber":504,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1735,"edits":[{"text":"\n","range":{"startLineNumber":505,"startColumn":1,"endLineNumber":505,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1736,"edits":[{"text":"\n-- Verificar nuevos campos en supplier_invoices","range":{"startLineNumber":506,"startColumn":1,"endLineNumber":506,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1737,"edits":[{"text":"\nDESCRIBE supplier_invoices;","range":{"startLineNumber":507,"startColumn":1,"endLineNumber":507,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1738,"edits":[{"text":"\n","range":{"startLineNumber":508,"startColumn":1,"endLineNumber":508,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1739,"edits":[{"text":"\n-- Contar registros migrados","range":{"startLineNumber":509,"startColumn":1,"endLineNumber":509,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1740,"edits":[{"text":"\nSELECT COUNT(*) FROM supplier_contacts;","range":{"startLineNumber":510,"startColumn":1,"endLineNumber":510,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1741,"edits":[{"text":"\n```","range":{"startLineNumber":511,"startColumn":1,"endLineNumber":511,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1742,"edits":[{"text":"\n","range":{"startLineNumber":512,"startColumn":1,"endLineNumber":512,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1743,"edits":[{"text":"\n### Rollback (Si es necesario)","range":{"startLineNumber":513,"startColumn":1,"endLineNumber":513,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1744,"edits":[{"text":"\n","range":{"startLineNumber":514,"startColumn":1,"endLineNumber":514,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1745,"edits":[{"text":"\n```bash","range":{"startLineNumber":515,"startColumn":1,"endLineNumber":515,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1746,"edits":[{"text":"\nmysql -h localhost -u root -p gestion_socios < Backups/backup_before_supplier_migration_YYYYMMDD_HHMMSS.sql","range":{"startLineNumber":516,"startColumn":1,"endLineNumber":516,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1747,"edits":[{"text":"\n```","range":{"startLineNumber":517,"startColumn":1,"endLineNumber":517,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1748,"edits":[{"text":"\n","range":{"startLineNumber":518,"startColumn":1,"endLineNumber":518,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1749,"edits":[{"text":"\n---","range":{"startLineNumber":519,"startColumn":1,"endLineNumber":519,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1750,"edits":[{"text":"\n","range":{"startLineNumber":520,"startColumn":1,"endLineNumber":520,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1751,"edits":[{"text":"\n## Mejoras Futuras","range":{"startLineNumber":521,"startColumn":1,"endLineNumber":521,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1752,"edits":[{"text":"\n","range":{"startLineNumber":522,"startColumn":1,"endLineNumber":522,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1753,"edits":[{"text":"\n1. **Órdenes de Compra Recurrentes**: Automatizar órdenes periódicas","range":{"startLineNumber":523,"startColumn":1,"endLineNumber":523,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1754,"edits":[{"text":"\n2. **Integración con Proveedores**: API para recibir facturas electrónicas","range":{"startLineNumber":524,"startColumn":1,"endLineNumber":524,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1755,"edits":[{"text":"\n3. **Análisis Predictivo**: Predicción de gastos futuros","range":{"startLineNumber":525,"startColumn":1,"endLineNumber":525,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1756,"edits":[{"text":"\n4. **Comparativa de Proveedores**: Evaluación automática de precios","range":{"startLineNumber":526,"startColumn":1,"endLineNumber":526,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1757,"edits":[{"text":"\n5. **Portal de Proveedores**: Acceso web para que proveedores consulten estado","range":{"startLineNumber":527,"startColumn":1,"endLineNumber":527,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1758,"edits":[{"text":"\n6. **Aprobaciones Multi-Nivel**: Flujo de aprobación de órdenes/facturas","range":{"startLineNumber":528,"startColumn":1,"endLineNumber":528,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1759,"edits":[{"text":"\n7. **Pagos Batch**: Generación de archivos SEPA para pagos masivos","range":{"startLineNumber":529,"startColumn":1,"endLineNumber":529,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1760,"edits":[{"text":"\n","range":{"startLineNumber":530,"startColumn":1,"endLineNumber":530,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1761,"edits":[{"text":"\n---","range":{"startLineNumber":531,"startColumn":1,"endLineNumber":531,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1762,"edits":[{"text":"\n","range":{"startLineNumber":532,"startColumn":1,"endLineNumber":532,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1763,"edits":[{"text":"\n## Soporte","range":{"startLineNumber":533,"startColumn":1,"endLineNumber":533,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1764,"edits":[{"text":"\n","range":{"startLineNumber":534,"startColumn":1,"endLineNumber":534,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1765,"edits":[{"text":"\nPara dudas o problemas con el módulo de proveedores:","range":{"startLineNumber":535,"startColumn":1,"endLineNumber":535,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1766,"edits":[{"text":"\n- Revisar logs en `logs/`","range":{"startLineNumber":536,"startColumn":1,"endLineNumber":536,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1767,"edits":[{"text":"\n- Consultar `AccountingHelper.php` para debugging contable","range":{"startLineNumber":537,"startColumn":1,"endLineNumber":537,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1768,"edits":[{"text":"\n- Verificar permisos de directorios `public/uploads/suppliers/`","range":{"startLineNumber":538,"startColumn":1,"endLineNumber":538,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1769,"edits":[{"text":"\n","range":{"startLineNumber":539,"startColumn":1,"endLineNumber":539,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1770,"edits":[{"text":"\n---","range":{"startLineNumber":540,"startColumn":1,"endLineNumber":540,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1771,"edits":[{"text":"\n","range":{"startLineNumber":541,"startColumn":1,"endLineNumber":541,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1772,"edits":[{"text":"\n**Documentación generada: 3 de diciembre de 2025**","range":{"startLineNumber":542,"startColumn":1,"endLineNumber":542,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1773,"edits":[{"text":"\n**Versión del módulo: 2.0 Professional**","range":{"startLineNumber":543,"startColumn":1,"endLineNumber":543,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","scheme":"file"},"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","epoch":1774,"edits":[{"text":"\n","range":{"startLineNumber":544,"startColumn":1,"endLineNumber":544,"endColumn":1}}]},{"type":"create","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1776,"initialContent":"","telemetryInfo":{}},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1778,"edits":[{"text":"# Módulo de Proveedores Profesional - Guía de Implementación","range":{"startLineNumber":1,"startColumn":1,"endLineNumber":1,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1779,"edits":[{"text":"\n","range":{"startLineNumber":2,"startColumn":1,"endLineNumber":2,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1780,"edits":[{"text":"\n## 🎯 Resumen de Mejoras","range":{"startLineNumber":3,"startColumn":1,"endLineNumber":3,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1781,"edits":[{"text":"\n","range":{"startLineNumber":4,"startColumn":1,"endLineNumber":4,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1782,"edits":[{"text":"\nEl módulo de proveedores ha sido completamente profesionalizado con las siguientes mejoras:","range":{"startLineNumber":5,"startColumn":1,"endLineNumber":5,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1783,"edits":[{"text":"\n","range":{"startLineNumber":6,"startColumn":1,"endLineNumber":6,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1784,"edits":[{"text":"\n### ✅ Base de Datos","range":{"startLineNumber":7,"startColumn":1,"endLineNumber":7,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1785,"edits":[{"text":"\n- **5 nuevas tablas** creadas","range":{"startLineNumber":8,"startColumn":1,"endLineNumber":8,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1786,"edits":[{"text":"\n- **25+ campos nuevos** en tabla suppliers","range":{"startLineNumber":9,"startColumn":1,"endLineNumber":9,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1787,"edits":[{"text":"\n- **10+ campos nuevos** en supplier_invoices","range":{"startLineNumber":10,"startColumn":1,"endLineNumber":10,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1788,"edits":[{"text":"\n- **Índices optimizados** para consultas rápidas","range":{"startLineNumber":11,"startColumn":1,"endLineNumber":11,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1789,"edits":[{"text":"\n","range":{"startLineNumber":12,"startColumn":1,"endLineNumber":12,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1790,"edits":[{"text":"\n### ✅ Modelos PHP","range":{"startLineNumber":13,"startColumn":1,"endLineNumber":13,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1791,"edits":[{"text":"\n- **6 modelos nuevos/actualizados**","range":{"startLineNumber":14,"startColumn":1,"endLineNumber":14,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1792,"edits":[{"text":"\n- Validación completa de datos","range":{"startLineNumber":15,"startColumn":1,"endLineNumber":15,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1793,"edits":[{"text":"\n- Métodos de consulta avanzados","range":{"startLineNumber":16,"startColumn":1,"endLineNumber":16,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1794,"edits":[{"text":"\n- Manejo de errores robusto","range":{"startLineNumber":17,"startColumn":1,"endLineNumber":17,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1795,"edits":[{"text":"\n","range":{"startLineNumber":18,"startColumn":1,"endLineNumber":18,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1796,"edits":[{"text":"\n### ✅ Integración","range":{"startLineNumber":19,"startColumn":1,"endLineNumber":19,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1797,"edits":[{"text":"\n- **Contabilidad**: Asientos automáticos en todas las operaciones","range":{"startLineNumber":20,"startColumn":1,"endLineNumber":20,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1798,"edits":[{"text":"\n- **Gestor Documental**: Versionado, permisos y tags","range":{"startLineNumber":21,"startColumn":1,"endLineNumber":21,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1799,"edits":[{"text":"\n- **Alertas**: Vencimientos de facturas y documentos","range":{"startLineNumber":22,"startColumn":1,"endLineNumber":22,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1800,"edits":[{"text":"\n","range":{"startLineNumber":23,"startColumn":1,"endLineNumber":23,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1801,"edits":[{"text":"\n---","range":{"startLineNumber":24,"startColumn":1,"endLineNumber":24,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1802,"edits":[{"text":"\n","range":{"startLineNumber":25,"startColumn":1,"endLineNumber":25,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1803,"edits":[{"text":"\n## 📋 Checklist de Implementación","range":{"startLineNumber":26,"startColumn":1,"endLineNumber":26,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1804,"edits":[{"text":"\n","range":{"startLineNumber":27,"startColumn":1,"endLineNumber":27,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1805,"edits":[{"text":"\n### 1. Backup (OBLIGATORIO)","range":{"startLineNumber":28,"startColumn":1,"endLineNumber":28,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1806,"edits":[{"text":"\n```bash","range":{"startLineNumber":29,"startColumn":1,"endLineNumber":29,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1807,"edits":[{"text":"\nmysqldump -u root -p gestion_socios > backup_$(date +%Y%m%d).sql","range":{"startLineNumber":30,"startColumn":1,"endLineNumber":30,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1808,"edits":[{"text":"\n```","range":{"startLineNumber":31,"startColumn":1,"endLineNumber":31,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1809,"edits":[{"text":"\n","range":{"startLineNumber":32,"startColumn":1,"endLineNumber":32,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1810,"edits":[{"text":"\n### 2. Aplicar Migración","range":{"startLineNumber":33,"startColumn":1,"endLineNumber":33,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1811,"edits":[{"text":"\n```bash","range":{"startLineNumber":34,"startColumn":1,"endLineNumber":34,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1812,"edits":[{"text":"\ncd /root/Documentos/github/GestionSocios","range":{"startLineNumber":35,"startColumn":1,"endLineNumber":35,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1813,"edits":[{"text":"\n./database/migrations/apply_supplier_migration.sh","range":{"startLineNumber":36,"startColumn":1,"endLineNumber":36,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1814,"edits":[{"text":"\n```","range":{"startLineNumber":37,"startColumn":1,"endLineNumber":37,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1815,"edits":[{"text":"\n","range":{"startLineNumber":38,"startColumn":1,"endLineNumber":38,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1816,"edits":[{"text":"\n### 3. Verificar Migración","range":{"startLineNumber":39,"startColumn":1,"endLineNumber":39,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1817,"edits":[{"text":"\n```sql","range":{"startLineNumber":40,"startColumn":1,"endLineNumber":40,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1818,"edits":[{"text":"\n-- Conectar a MySQL","range":{"startLineNumber":41,"startColumn":1,"endLineNumber":41,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1819,"edits":[{"text":"\nmysql -u root -p gestion_socios","range":{"startLineNumber":42,"startColumn":1,"endLineNumber":42,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1820,"edits":[{"text":"\n","range":{"startLineNumber":43,"startColumn":1,"endLineNumber":43,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1821,"edits":[{"text":"\n-- Verificar tablas nuevas","range":{"startLineNumber":44,"startColumn":1,"endLineNumber":44,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1822,"edits":[{"text":"\nSHOW TABLES LIKE 'supplier_%';","range":{"startLineNumber":45,"startColumn":1,"endLineNumber":45,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1823,"edits":[{"text":"\n","range":{"startLineNumber":46,"startColumn":1,"endLineNumber":46,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1824,"edits":[{"text":"\n-- Debería mostrar:","range":{"startLineNumber":47,"startColumn":1,"endLineNumber":47,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1825,"edits":[{"text":"\n-- supplier_contacts","range":{"startLineNumber":48,"startColumn":1,"endLineNumber":48,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1826,"edits":[{"text":"\n-- supplier_documents  ","range":{"startLineNumber":49,"startColumn":1,"endLineNumber":49,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1827,"edits":[{"text":"\n-- supplier_invoices (ya existía, pero modificada)","range":{"startLineNumber":50,"startColumn":1,"endLineNumber":50,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1828,"edits":[{"text":"\n-- supplier_orders","range":{"startLineNumber":51,"startColumn":1,"endLineNumber":51,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1829,"edits":[{"text":"\n-- supplier_order_lines","range":{"startLineNumber":52,"startColumn":1,"endLineNumber":52,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1830,"edits":[{"text":"\n","range":{"startLineNumber":53,"startColumn":1,"endLineNumber":53,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1831,"edits":[{"text":"\n-- Verificar campos en suppliers","range":{"startLineNumber":54,"startColumn":1,"endLineNumber":54,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1832,"edits":[{"text":"\nDESCRIBE suppliers;","range":{"startLineNumber":55,"startColumn":1,"endLineNumber":55,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1833,"edits":[{"text":"\n","range":{"startLineNumber":56,"startColumn":1,"endLineNumber":56,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1834,"edits":[{"text":"\n-- Debería incluir nuevos campos:","range":{"startLineNumber":57,"startColumn":1,"endLineNumber":57,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1835,"edits":[{"text":"\n-- tax_id, postal_code, city, province, country","range":{"startLineNumber":58,"startColumn":1,"endLineNumber":58,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1836,"edits":[{"text":"\n-- tipo_proveedor, categoria, estado","range":{"startLineNumber":59,"startColumn":1,"endLineNumber":59,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1837,"edits":[{"text":"\n-- payment_terms, default_payment_method","range":{"startLineNumber":60,"startColumn":1,"endLineNumber":60,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1838,"edits":[{"text":"\n-- iban, swift, bank_name","range":{"startLineNumber":61,"startColumn":1,"endLineNumber":61,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1839,"edits":[{"text":"\n-- default_discount, credit_limit","range":{"startLineNumber":62,"startColumn":1,"endLineNumber":62,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1840,"edits":[{"text":"\n-- contact_person, contact_email, contact_phone, rating","range":{"startLineNumber":63,"startColumn":1,"endLineNumber":63,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1841,"edits":[{"text":"\n```","range":{"startLineNumber":64,"startColumn":1,"endLineNumber":64,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1842,"edits":[{"text":"\n","range":{"startLineNumber":65,"startColumn":1,"endLineNumber":65,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1843,"edits":[{"text":"\n### 4. Actualizar Controlador (Si es necesario)","range":{"startLineNumber":66,"startColumn":1,"endLineNumber":66,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1844,"edits":[{"text":"\n","range":{"startLineNumber":67,"startColumn":1,"endLineNumber":67,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1845,"edits":[{"text":"\nEl `SupplierController.php` actual ya tiene integración contable básica. ","range":{"startLineNumber":68,"startColumn":1,"endLineNumber":68,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1846,"edits":[{"text":"\nAhora necesitarás actualizar los métodos `store()` y `update()` para manejar los nuevos campos.","range":{"startLineNumber":69,"startColumn":1,"endLineNumber":69,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1847,"edits":[{"text":"\n","range":{"startLineNumber":70,"startColumn":1,"endLineNumber":70,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1848,"edits":[{"text":"\nEjemplo de actualización en `store()`:","range":{"startLineNumber":71,"startColumn":1,"endLineNumber":71,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1849,"edits":[{"text":"\n","range":{"startLineNumber":72,"startColumn":1,"endLineNumber":72,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1850,"edits":[{"text":"\n```php","range":{"startLineNumber":73,"startColumn":1,"endLineNumber":73,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1851,"edits":[{"text":"\n// Campos adicionales a añadir","range":{"startLineNumber":74,"startColumn":1,"endLineNumber":74,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1852,"edits":[{"text":"\n$this->supplier->tax_id = $_POST['tax_id'] ?? '';","range":{"startLineNumber":75,"startColumn":1,"endLineNumber":75,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1853,"edits":[{"text":"\n$this->supplier->postal_code = $_POST['postal_code'] ?? '';","range":{"startLineNumber":76,"startColumn":1,"endLineNumber":76,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1854,"edits":[{"text":"\n$this->supplier->city = $_POST['city'] ?? '';","range":{"startLineNumber":77,"startColumn":1,"endLineNumber":77,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1855,"edits":[{"text":"\n$this->supplier->province = $_POST['province'] ?? '';","range":{"startLineNumber":78,"startColumn":1,"endLineNumber":78,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1856,"edits":[{"text":"\n$this->supplier->country = $_POST['country'] ?? 'España';","range":{"startLineNumber":79,"startColumn":1,"endLineNumber":79,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1857,"edits":[{"text":"\n$this->supplier->tipo_proveedor = $_POST['tipo_proveedor'] ?? 'servicios';","range":{"startLineNumber":80,"startColumn":1,"endLineNumber":80,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1858,"edits":[{"text":"\n$this->supplier->categoria = $_POST['categoria'] ?? '';","range":{"startLineNumber":81,"startColumn":1,"endLineNumber":81,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1859,"edits":[{"text":"\n$this->supplier->estado = $_POST['estado'] ?? 'activo';","range":{"startLineNumber":82,"startColumn":1,"endLineNumber":82,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1860,"edits":[{"text":"\n$this->supplier->payment_terms = intval($_POST['payment_terms'] ?? 30);","range":{"startLineNumber":83,"startColumn":1,"endLineNumber":83,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1861,"edits":[{"text":"\n$this->supplier->default_payment_method = $_POST['default_payment_method'] ?? 'transfer';","range":{"startLineNumber":84,"startColumn":1,"endLineNumber":84,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1862,"edits":[{"text":"\n$this->supplier->iban = $_POST['iban'] ?? '';","range":{"startLineNumber":85,"startColumn":1,"endLineNumber":85,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1863,"edits":[{"text":"\n$this->supplier->swift = $_POST['swift'] ?? '';","range":{"startLineNumber":86,"startColumn":1,"endLineNumber":86,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1864,"edits":[{"text":"\n$this->supplier->bank_name = $_POST['bank_name'] ?? '';","range":{"startLineNumber":87,"startColumn":1,"endLineNumber":87,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1865,"edits":[{"text":"\n$this->supplier->default_discount = floatval($_POST['default_discount'] ?? 0.00);","range":{"startLineNumber":88,"startColumn":1,"endLineNumber":88,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1866,"edits":[{"text":"\n$this->supplier->credit_limit = !empty($_POST['credit_limit']) ? floatval($_POST['credit_limit']) : null;","range":{"startLineNumber":89,"startColumn":1,"endLineNumber":89,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1867,"edits":[{"text":"\n$this->supplier->contact_person = $_POST['contact_person'] ?? '';","range":{"startLineNumber":90,"startColumn":1,"endLineNumber":90,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1868,"edits":[{"text":"\n$this->supplier->contact_email = $_POST['contact_email'] ?? '';","range":{"startLineNumber":91,"startColumn":1,"endLineNumber":91,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1869,"edits":[{"text":"\n$this->supplier->contact_phone = $_POST['contact_phone'] ?? '';","range":{"startLineNumber":92,"startColumn":1,"endLineNumber":92,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1870,"edits":[{"text":"\n$this->supplier->rating = !empty($_POST['rating']) ? intval($_POST['rating']) : null;","range":{"startLineNumber":93,"startColumn":1,"endLineNumber":93,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1871,"edits":[{"text":"\n```","range":{"startLineNumber":94,"startColumn":1,"endLineNumber":94,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1872,"edits":[{"text":"\n","range":{"startLineNumber":95,"startColumn":1,"endLineNumber":95,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1873,"edits":[{"text":"\n### 5. Actualizar Vistas","range":{"startLineNumber":96,"startColumn":1,"endLineNumber":96,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1874,"edits":[{"text":"\n","range":{"startLineNumber":97,"startColumn":1,"endLineNumber":97,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1875,"edits":[{"text":"\nDeberás actualizar los formularios en:","range":{"startLineNumber":98,"startColumn":1,"endLineNumber":98,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1876,"edits":[{"text":"\n- `src/Views/suppliers/create.php`","range":{"startLineNumber":99,"startColumn":1,"endLineNumber":99,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1877,"edits":[{"text":"\n- `src/Views/suppliers/edit.php`","range":{"startLineNumber":100,"startColumn":1,"endLineNumber":100,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1878,"edits":[{"text":"\n- `src/Views/suppliers/show.php`","range":{"startLineNumber":101,"startColumn":1,"endLineNumber":101,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1879,"edits":[{"text":"\n","range":{"startLineNumber":102,"startColumn":1,"endLineNumber":102,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1880,"edits":[{"text":"\nPara incluir los nuevos campos organizados en secciones:","range":{"startLineNumber":103,"startColumn":1,"endLineNumber":103,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1881,"edits":[{"text":"\n","range":{"startLineNumber":104,"startColumn":1,"endLineNumber":104,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1882,"edits":[{"text":"\n#### Sección: Datos Fiscales","range":{"startLineNumber":105,"startColumn":1,"endLineNumber":105,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1883,"edits":[{"text":"\n- CIF/NIF","range":{"startLineNumber":106,"startColumn":1,"endLineNumber":106,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1884,"edits":[{"text":"\n- Tax ID","range":{"startLineNumber":107,"startColumn":1,"endLineNumber":107,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1885,"edits":[{"text":"\n- Tipo de Proveedor","range":{"startLineNumber":108,"startColumn":1,"endLineNumber":108,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1886,"edits":[{"text":"\n- Categoría","range":{"startLineNumber":109,"startColumn":1,"endLineNumber":109,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1887,"edits":[{"text":"\n- Estado","range":{"startLineNumber":110,"startColumn":1,"endLineNumber":110,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1888,"edits":[{"text":"\n","range":{"startLineNumber":111,"startColumn":1,"endLineNumber":111,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1889,"edits":[{"text":"\n#### Sección: Dirección","range":{"startLineNumber":112,"startColumn":1,"endLineNumber":112,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1890,"edits":[{"text":"\n- Dirección","range":{"startLineNumber":113,"startColumn":1,"endLineNumber":113,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1891,"edits":[{"text":"\n- Código Postal","range":{"startLineNumber":114,"startColumn":1,"endLineNumber":114,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1892,"edits":[{"text":"\n- Ciudad","range":{"startLineNumber":115,"startColumn":1,"endLineNumber":115,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1893,"edits":[{"text":"\n- Provincia","range":{"startLineNumber":116,"startColumn":1,"endLineNumber":116,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1894,"edits":[{"text":"\n- País","range":{"startLineNumber":117,"startColumn":1,"endLineNumber":117,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1895,"edits":[{"text":"\n","range":{"startLineNumber":118,"startColumn":1,"endLineNumber":118,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1896,"edits":[{"text":"\n#### Sección: Datos Bancarios","range":{"startLineNumber":119,"startColumn":1,"endLineNumber":119,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1897,"edits":[{"text":"\n- IBAN","range":{"startLineNumber":120,"startColumn":1,"endLineNumber":120,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1898,"edits":[{"text":"\n- SWIFT","range":{"startLineNumber":121,"startColumn":1,"endLineNumber":121,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1899,"edits":[{"text":"\n- Banco","range":{"startLineNumber":122,"startColumn":1,"endLineNumber":122,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1900,"edits":[{"text":"\n- Forma de Pago por Defecto","range":{"startLineNumber":123,"startColumn":1,"endLineNumber":123,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1901,"edits":[{"text":"\n- Plazos de Pago (días)","range":{"startLineNumber":124,"startColumn":1,"endLineNumber":124,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1902,"edits":[{"text":"\n","range":{"startLineNumber":125,"startColumn":1,"endLineNumber":125,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1903,"edits":[{"text":"\n#### Sección: Comercial","range":{"startLineNumber":126,"startColumn":1,"endLineNumber":126,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1904,"edits":[{"text":"\n- Descuento por Defecto (%)","range":{"startLineNumber":127,"startColumn":1,"endLineNumber":127,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1905,"edits":[{"text":"\n- Límite de Crédito","range":{"startLineNumber":128,"startColumn":1,"endLineNumber":128,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1906,"edits":[{"text":"\n- Valoración (1-5 estrellas)","range":{"startLineNumber":129,"startColumn":1,"endLineNumber":129,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1907,"edits":[{"text":"\n","range":{"startLineNumber":130,"startColumn":1,"endLineNumber":130,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1908,"edits":[{"text":"\n#### Sección: Contacto Principal","range":{"startLineNumber":131,"startColumn":1,"endLineNumber":131,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1909,"edits":[{"text":"\n- Persona de Contacto","range":{"startLineNumber":132,"startColumn":1,"endLineNumber":132,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1910,"edits":[{"text":"\n- Email de Contacto","range":{"startLineNumber":133,"startColumn":1,"endLineNumber":133,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1911,"edits":[{"text":"\n- Teléfono de Contacto","range":{"startLineNumber":134,"startColumn":1,"endLineNumber":134,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1912,"edits":[{"text":"\n","range":{"startLineNumber":135,"startColumn":1,"endLineNumber":135,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1913,"edits":[{"text":"\n### 6. Crear Controladores Adicionales (Opcional pero Recomendado)","range":{"startLineNumber":136,"startColumn":1,"endLineNumber":136,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1914,"edits":[{"text":"\n","range":{"startLineNumber":137,"startColumn":1,"endLineNumber":137,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1915,"edits":[{"text":"\nPara gestionar las nuevas entidades:","range":{"startLineNumber":138,"startColumn":1,"endLineNumber":138,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1916,"edits":[{"text":"\n","range":{"startLineNumber":139,"startColumn":1,"endLineNumber":139,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1917,"edits":[{"text":"\n```php","range":{"startLineNumber":140,"startColumn":1,"endLineNumber":140,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1918,"edits":[{"text":"\n// src/Controllers/SupplierContactController.php","range":{"startLineNumber":141,"startColumn":1,"endLineNumber":141,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1919,"edits":[{"text":"\n// src/Controllers/SupplierDocumentController.php","range":{"startLineNumber":142,"startColumn":1,"endLineNumber":142,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1920,"edits":[{"text":"\n// src/Controllers/SupplierOrderController.php","range":{"startLineNumber":143,"startColumn":1,"endLineNumber":143,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1921,"edits":[{"text":"\n```","range":{"startLineNumber":144,"startColumn":1,"endLineNumber":144,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1922,"edits":[{"text":"\n","range":{"startLineNumber":145,"startColumn":1,"endLineNumber":145,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1923,"edits":[{"text":"\n---","range":{"startLineNumber":146,"startColumn":1,"endLineNumber":146,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1924,"edits":[{"text":"\n","range":{"startLineNumber":147,"startColumn":1,"endLineNumber":147,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1925,"edits":[{"text":"\n## 🔄 Flujo de Trabajo Recomendado","range":{"startLineNumber":148,"startColumn":1,"endLineNumber":148,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1926,"edits":[{"text":"\n","range":{"startLineNumber":149,"startColumn":1,"endLineNumber":149,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1927,"edits":[{"text":"\n### Gestión de Proveedores","range":{"startLineNumber":150,"startColumn":1,"endLineNumber":150,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1928,"edits":[{"text":"\n","range":{"startLineNumber":151,"startColumn":1,"endLineNumber":151,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1929,"edits":[{"text":"\n1. **Crear Proveedor**","range":{"startLineNumber":152,"startColumn":1,"endLineNumber":152,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1930,"edits":[{"text":"\n   - Completar todos los datos maestros","range":{"startLineNumber":153,"startColumn":1,"endLineNumber":153,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1931,"edits":[{"text":"\n   - Subir logo si está disponible","range":{"startLineNumber":154,"startColumn":1,"endLineNumber":154,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1932,"edits":[{"text":"\n   - Guardar proveedor","range":{"startLineNumber":155,"startColumn":1,"endLineNumber":155,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1933,"edits":[{"text":"\n","range":{"startLineNumber":156,"startColumn":1,"endLineNumber":156,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1934,"edits":[{"text":"\n2. **Añadir Contactos**","range":{"startLineNumber":157,"startColumn":1,"endLineNumber":157,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1935,"edits":[{"text":"\n   - Acceder al detalle del proveedor","range":{"startLineNumber":158,"startColumn":1,"endLineNumber":158,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1936,"edits":[{"text":"\n   - Sección \"Contactos\"","range":{"startLineNumber":159,"startColumn":1,"endLineNumber":159,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1937,"edits":[{"text":"\n   - Añadir múltiples contactos (ventas, facturación, técnico)","range":{"startLineNumber":160,"startColumn":1,"endLineNumber":160,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1938,"edits":[{"text":"\n   - Marcar uno como principal","range":{"startLineNumber":161,"startColumn":1,"endLineNumber":161,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1939,"edits":[{"text":"\n","range":{"startLineNumber":162,"startColumn":1,"endLineNumber":162,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1940,"edits":[{"text":"\n3. **Subir Documentos**","range":{"startLineNumber":163,"startColumn":1,"endLineNumber":163,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1941,"edits":[{"text":"\n   - Contratos","range":{"startLineNumber":164,"startColumn":1,"endLineNumber":164,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1942,"edits":[{"text":"\n   - Certificados de seguro","range":{"startLineNumber":165,"startColumn":1,"endLineNumber":165,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1943,"edits":[{"text":"\n   - Licencias","range":{"startLineNumber":166,"startColumn":1,"endLineNumber":166,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1944,"edits":[{"text":"\n   - Configurar fechas de caducidad","range":{"startLineNumber":167,"startColumn":1,"endLineNumber":167,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1945,"edits":[{"text":"\n   - Sistema alerta automáticamente 30 días antes","range":{"startLineNumber":168,"startColumn":1,"endLineNumber":168,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1946,"edits":[{"text":"\n","range":{"startLineNumber":169,"startColumn":1,"endLineNumber":169,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1947,"edits":[{"text":"\n### Gestión de Compras","range":{"startLineNumber":170,"startColumn":1,"endLineNumber":170,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1948,"edits":[{"text":"\n","range":{"startLineNumber":171,"startColumn":1,"endLineNumber":171,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1949,"edits":[{"text":"\n1. **Crear Orden de Compra** (Opcional)","range":{"startLineNumber":172,"startColumn":1,"endLineNumber":172,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1950,"edits":[{"text":"\n   - Crear borrador","range":{"startLineNumber":173,"startColumn":1,"endLineNumber":173,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1951,"edits":[{"text":"\n   - Añadir líneas de productos/servicios","range":{"startLineNumber":174,"startColumn":1,"endLineNumber":174,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1952,"edits":[{"text":"\n   - Enviar para aprobación","range":{"startLineNumber":175,"startColumn":1,"endLineNumber":175,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1953,"edits":[{"text":"\n   - Aprobar y enviar al proveedor","range":{"startLineNumber":176,"startColumn":1,"endLineNumber":176,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1954,"edits":[{"text":"\n   - Marcar como recibida","range":{"startLineNumber":177,"startColumn":1,"endLineNumber":177,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1955,"edits":[{"text":"\n","range":{"startLineNumber":178,"startColumn":1,"endLineNumber":178,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1956,"edits":[{"text":"\n2. **Registrar Factura**","range":{"startLineNumber":179,"startColumn":1,"endLineNumber":179,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1957,"edits":[{"text":"\n   - Subir PDF de la factura","range":{"startLineNumber":180,"startColumn":1,"endLineNumber":180,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1958,"edits":[{"text":"\n   - Completar datos (número, fecha, importes)","range":{"startLineNumber":181,"startColumn":1,"endLineNumber":181,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1959,"edits":[{"text":"\n   - Vincular con orden de compra si existe","range":{"startLineNumber":182,"startColumn":1,"endLineNumber":182,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1960,"edits":[{"text":"\n   - Estado inicial: \"Pendiente\"","range":{"startLineNumber":183,"startColumn":1,"endLineNumber":183,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1961,"edits":[{"text":"\n","range":{"startLineNumber":184,"startColumn":1,"endLineNumber":184,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1962,"edits":[{"text":"\n3. **Pagar Factura**","range":{"startLineNumber":185,"startColumn":1,"endLineNumber":185,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1963,"edits":[{"text":"\n   - Cambiar estado a \"Pagada\"","range":{"startLineNumber":186,"startColumn":1,"endLineNumber":186,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1964,"edits":[{"text":"\n   - **Se crea automáticamente el asiento contable**","range":{"startLineNumber":187,"startColumn":1,"endLineNumber":187,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1965,"edits":[{"text":"\n   - Se registra en auditoría","range":{"startLineNumber":188,"startColumn":1,"endLineNumber":188,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1966,"edits":[{"text":"\n","range":{"startLineNumber":189,"startColumn":1,"endLineNumber":189,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1967,"edits":[{"text":"\n### Alertas Automáticas","range":{"startLineNumber":190,"startColumn":1,"endLineNumber":190,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1968,"edits":[{"text":"\n","range":{"startLineNumber":191,"startColumn":1,"endLineNumber":191,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1969,"edits":[{"text":"\nEl sistema genera alertas para:","range":{"startLineNumber":192,"startColumn":1,"endLineNumber":192,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1970,"edits":[{"text":"\n- ✅ Facturas vencidas (overdue)","range":{"startLineNumber":193,"startColumn":1,"endLineNumber":193,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1971,"edits":[{"text":"\n- ✅ Documentos próximos a caducar (30 días)","range":{"startLineNumber":194,"startColumn":1,"endLineNumber":194,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1972,"edits":[{"text":"\n- ✅ Documentos caducados","range":{"startLineNumber":195,"startColumn":1,"endLineNumber":195,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1973,"edits":[{"text":"\n","range":{"startLineNumber":196,"startColumn":1,"endLineNumber":196,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1974,"edits":[{"text":"\n---","range":{"startLineNumber":197,"startColumn":1,"endLineNumber":197,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1975,"edits":[{"text":"\n","range":{"startLineNumber":198,"startColumn":1,"endLineNumber":198,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1976,"edits":[{"text":"\n## 📊 Nuevas Funcionalidades","range":{"startLineNumber":199,"startColumn":1,"endLineNumber":199,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1977,"edits":[{"text":"\n","range":{"startLineNumber":200,"startColumn":1,"endLineNumber":200,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1978,"edits":[{"text":"\n### 1. Gestión de Contactos Múltiples","range":{"startLineNumber":201,"startColumn":1,"endLineNumber":201,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1979,"edits":[{"text":"\n","range":{"startLineNumber":202,"startColumn":1,"endLineNumber":202,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1980,"edits":[{"text":"\n```php","range":{"startLineNumber":203,"startColumn":1,"endLineNumber":203,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1981,"edits":[{"text":"\nrequire_once 'src/Models/SupplierContact.php';","range":{"startLineNumber":204,"startColumn":1,"endLineNumber":204,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1982,"edits":[{"text":"\n","range":{"startLineNumber":205,"startColumn":1,"endLineNumber":205,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1983,"edits":[{"text":"\n$contact = new SupplierContact($db);","range":{"startLineNumber":206,"startColumn":1,"endLineNumber":206,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1984,"edits":[{"text":"\n$contact->supplier_id = 123;","range":{"startLineNumber":207,"startColumn":1,"endLineNumber":207,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1985,"edits":[{"text":"\n$contact->name = 'Juan Pérez';","range":{"startLineNumber":208,"startColumn":1,"endLineNumber":208,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1986,"edits":[{"text":"\n$contact->position = 'Director Comercial';","range":{"startLineNumber":209,"startColumn":1,"endLineNumber":209,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1987,"edits":[{"text":"\n$contact->email = 'juan@proveedor.com';","range":{"startLineNumber":210,"startColumn":1,"endLineNumber":210,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1988,"edits":[{"text":"\n$contact->phone = '911234567';","range":{"startLineNumber":211,"startColumn":1,"endLineNumber":211,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1989,"edits":[{"text":"\n$contact->is_primary = 1;","range":{"startLineNumber":212,"startColumn":1,"endLineNumber":212,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1990,"edits":[{"text":"\n$contact->create();","range":{"startLineNumber":213,"startColumn":1,"endLineNumber":213,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1991,"edits":[{"text":"\n```","range":{"startLineNumber":214,"startColumn":1,"endLineNumber":214,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1992,"edits":[{"text":"\n","range":{"startLineNumber":215,"startColumn":1,"endLineNumber":215,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1993,"edits":[{"text":"\n### 2. Gestión Documental","range":{"startLineNumber":216,"startColumn":1,"endLineNumber":216,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1994,"edits":[{"text":"\n","range":{"startLineNumber":217,"startColumn":1,"endLineNumber":217,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1995,"edits":[{"text":"\n```php","range":{"startLineNumber":218,"startColumn":1,"endLineNumber":218,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1996,"edits":[{"text":"\nrequire_once 'src/Models/SupplierDocument.php';","range":{"startLineNumber":219,"startColumn":1,"endLineNumber":219,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1997,"edits":[{"text":"\n","range":{"startLineNumber":220,"startColumn":1,"endLineNumber":220,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1998,"edits":[{"text":"\n$doc = new SupplierDocument($db);","range":{"startLineNumber":221,"startColumn":1,"endLineNumber":221,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":1999,"edits":[{"text":"\n$doc->supplier_id = 123;","range":{"startLineNumber":222,"startColumn":1,"endLineNumber":222,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2000,"edits":[{"text":"\n$doc->document_type = 'seguro';","range":{"startLineNumber":223,"startColumn":1,"endLineNumber":223,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2001,"edits":[{"text":"\n$doc->name = 'Seguro Responsabilidad Civil 2025';","range":{"startLineNumber":224,"startColumn":1,"endLineNumber":224,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2002,"edits":[{"text":"\n$doc->file_path = 'public/uploads/suppliers/123/seguro_2025.pdf';","range":{"startLineNumber":225,"startColumn":1,"endLineNumber":225,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2003,"edits":[{"text":"\n$doc->expiry_date = '2025-12-31';","range":{"startLineNumber":226,"startColumn":1,"endLineNumber":226,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2004,"edits":[{"text":"\n$doc->tags = 'seguro,responsabilidad,anual';","range":{"startLineNumber":227,"startColumn":1,"endLineNumber":227,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2005,"edits":[{"text":"\n$doc->uploaded_by = $_SESSION['user_id'];","range":{"startLineNumber":228,"startColumn":1,"endLineNumber":228,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2006,"edits":[{"text":"\n$doc->create();","range":{"startLineNumber":229,"startColumn":1,"endLineNumber":229,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2007,"edits":[{"text":"\n","range":{"startLineNumber":230,"startColumn":1,"endLineNumber":230,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2008,"edits":[{"text":"\n// Obtener documentos próximos a caducar","range":{"startLineNumber":231,"startColumn":1,"endLineNumber":231,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2009,"edits":[{"text":"\n$expiring = $doc->getExpiringDocuments(30); // 30 días","range":{"startLineNumber":232,"startColumn":1,"endLineNumber":232,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2010,"edits":[{"text":"\n","range":{"startLineNumber":233,"startColumn":1,"endLineNumber":233,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2011,"edits":[{"text":"\n// Obtener documentos ya caducados","range":{"startLineNumber":234,"startColumn":1,"endLineNumber":234,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2012,"edits":[{"text":"\n$expired = $doc->getExpiredDocuments();","range":{"startLineNumber":235,"startColumn":1,"endLineNumber":235,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2013,"edits":[{"text":"\n```","range":{"startLineNumber":236,"startColumn":1,"endLineNumber":236,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2014,"edits":[{"text":"\n","range":{"startLineNumber":237,"startColumn":1,"endLineNumber":237,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2015,"edits":[{"text":"\n### 3. Órdenes de Compra","range":{"startLineNumber":238,"startColumn":1,"endLineNumber":238,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2016,"edits":[{"text":"\n","range":{"startLineNumber":239,"startColumn":1,"endLineNumber":239,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2017,"edits":[{"text":"\n```php","range":{"startLineNumber":240,"startColumn":1,"endLineNumber":240,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2018,"edits":[{"text":"\nrequire_once 'src/Models/SupplierOrder.php';","range":{"startLineNumber":241,"startColumn":1,"endLineNumber":241,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2019,"edits":[{"text":"\nrequire_once 'src/Models/SupplierOrderLine.php';","range":{"startLineNumber":242,"startColumn":1,"endLineNumber":242,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2020,"edits":[{"text":"\n","range":{"startLineNumber":243,"startColumn":1,"endLineNumber":243,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2021,"edits":[{"text":"\n// Crear orden","range":{"startLineNumber":244,"startColumn":1,"endLineNumber":244,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2022,"edits":[{"text":"\n$order = new SupplierOrder($db);","range":{"startLineNumber":245,"startColumn":1,"endLineNumber":245,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2023,"edits":[{"text":"\n$order->supplier_id = 123;","range":{"startLineNumber":246,"startColumn":1,"endLineNumber":246,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2024,"edits":[{"text":"\n$order->order_number = 'OC-2025-001';","range":{"startLineNumber":247,"startColumn":1,"endLineNumber":247,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2025,"edits":[{"text":"\n$order->order_date = date('Y-m-d');","range":{"startLineNumber":248,"startColumn":1,"endLineNumber":248,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2026,"edits":[{"text":"\n$order->status = 'draft';","range":{"startLineNumber":249,"startColumn":1,"endLineNumber":249,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2027,"edits":[{"text":"\n$order->created_by = $_SESSION['user_id'];","range":{"startLineNumber":250,"startColumn":1,"endLineNumber":250,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2028,"edits":[{"text":"\n$order->create();","range":{"startLineNumber":251,"startColumn":1,"endLineNumber":251,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2029,"edits":[{"text":"\n","range":{"startLineNumber":252,"startColumn":1,"endLineNumber":252,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2030,"edits":[{"text":"\n// Añadir línea","range":{"startLineNumber":253,"startColumn":1,"endLineNumber":253,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2031,"edits":[{"text":"\n$line = new SupplierOrderLine($db);","range":{"startLineNumber":254,"startColumn":1,"endLineNumber":254,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2032,"edits":[{"text":"\n$line->order_id = $order->id;","range":{"startLineNumber":255,"startColumn":1,"endLineNumber":255,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2033,"edits":[{"text":"\n$line->line_number = 1;","range":{"startLineNumber":256,"startColumn":1,"endLineNumber":256,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2034,"edits":[{"text":"\n$line->description = 'Papelería oficina';","range":{"startLineNumber":257,"startColumn":1,"endLineNumber":257,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2035,"edits":[{"text":"\n$line->quantity = 100;","range":{"startLineNumber":258,"startColumn":1,"endLineNumber":258,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2036,"edits":[{"text":"\n$line->unit_price = 2.50;","range":{"startLineNumber":259,"startColumn":1,"endLineNumber":259,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2037,"edits":[{"text":"\n$line->tax_rate = 21.00;","range":{"startLineNumber":260,"startColumn":1,"endLineNumber":260,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2038,"edits":[{"text":"\n$line->create();","range":{"startLineNumber":261,"startColumn":1,"endLineNumber":261,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2039,"edits":[{"text":"\n","range":{"startLineNumber":262,"startColumn":1,"endLineNumber":262,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2040,"edits":[{"text":"\n// Aprobar orden","range":{"startLineNumber":263,"startColumn":1,"endLineNumber":263,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2041,"edits":[{"text":"\n$order->approve($_SESSION['user_id']);","range":{"startLineNumber":264,"startColumn":1,"endLineNumber":264,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2042,"edits":[{"text":"\n```","range":{"startLineNumber":265,"startColumn":1,"endLineNumber":265,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2043,"edits":[{"text":"\n","range":{"startLineNumber":266,"startColumn":1,"endLineNumber":266,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2044,"edits":[{"text":"\n### 4. Estadísticas Avanzadas","range":{"startLineNumber":267,"startColumn":1,"endLineNumber":267,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2045,"edits":[{"text":"\n","range":{"startLineNumber":268,"startColumn":1,"endLineNumber":268,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2046,"edits":[{"text":"\n```php","range":{"startLineNumber":269,"startColumn":1,"endLineNumber":269,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2047,"edits":[{"text":"\n// Total gastado en el año","range":{"startLineNumber":270,"startColumn":1,"endLineNumber":270,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2048,"edits":[{"text":"\n$totalYear = $invoice->getTotalAmount(2025);","range":{"startLineNumber":271,"startColumn":1,"endLineNumber":271,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2049,"edits":[{"text":"\n","range":{"startLineNumber":272,"startColumn":1,"endLineNumber":272,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2050,"edits":[{"text":"\n// Facturas pendientes","range":{"startLineNumber":273,"startColumn":1,"endLineNumber":273,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2051,"edits":[{"text":"\n$pending = $invoice->getPendingAmount();","range":{"startLineNumber":274,"startColumn":1,"endLineNumber":274,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2052,"edits":[{"text":"\n","range":{"startLineNumber":275,"startColumn":1,"endLineNumber":275,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2053,"edits":[{"text":"\n// Top 5 proveedores","range":{"startLineNumber":276,"startColumn":1,"endLineNumber":276,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2054,"edits":[{"text":"\n$topSuppliers = $invoice->getTopSuppliers(5, 2025);","range":{"startLineNumber":277,"startColumn":1,"endLineNumber":277,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2055,"edits":[{"text":"\n","range":{"startLineNumber":278,"startColumn":1,"endLineNumber":278,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2056,"edits":[{"text":"\n// Estadísticas mensuales","range":{"startLineNumber":279,"startColumn":1,"endLineNumber":279,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2057,"edits":[{"text":"\n$monthlyStats = $invoice->getMonthlyStats(2025);","range":{"startLineNumber":280,"startColumn":1,"endLineNumber":280,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2058,"edits":[{"text":"\n","range":{"startLineNumber":281,"startColumn":1,"endLineNumber":281,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2059,"edits":[{"text":"\n// Facturas vencidas","range":{"startLineNumber":282,"startColumn":1,"endLineNumber":282,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2060,"edits":[{"text":"\n$overdueInvoices = $invoice->getOverdueInvoices();","range":{"startLineNumber":283,"startColumn":1,"endLineNumber":283,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2061,"edits":[{"text":"\n```","range":{"startLineNumber":284,"startColumn":1,"endLineNumber":284,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2062,"edits":[{"text":"\n","range":{"startLineNumber":285,"startColumn":1,"endLineNumber":285,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2063,"edits":[{"text":"\n---","range":{"startLineNumber":286,"startColumn":1,"endLineNumber":286,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2064,"edits":[{"text":"\n","range":{"startLineNumber":287,"startColumn":1,"endLineNumber":287,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2065,"edits":[{"text":"\n## 🔗 Integración con Contabilidad","range":{"startLineNumber":288,"startColumn":1,"endLineNumber":288,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2066,"edits":[{"text":"\n","range":{"startLineNumber":289,"startColumn":1,"endLineNumber":289,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2067,"edits":[{"text":"\n### Asientos Automáticos","range":{"startLineNumber":290,"startColumn":1,"endLineNumber":290,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2068,"edits":[{"text":"\n","range":{"startLineNumber":291,"startColumn":1,"endLineNumber":291,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2069,"edits":[{"text":"\nEl sistema crea automáticamente asientos contables cuando:","range":{"startLineNumber":292,"startColumn":1,"endLineNumber":292,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2070,"edits":[{"text":"\n","range":{"startLineNumber":293,"startColumn":1,"endLineNumber":293,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2071,"edits":[{"text":"\n1. **Se marca una factura como pagada**","range":{"startLineNumber":294,"startColumn":1,"endLineNumber":294,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2072,"edits":[{"text":"\n   ```","range":{"startLineNumber":295,"startColumn":1,"endLineNumber":295,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2073,"edits":[{"text":"\n   DEBE: 629 Otros Servicios    €1,000.00","range":{"startLineNumber":296,"startColumn":1,"endLineNumber":296,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2074,"edits":[{"text":"\n   HABER: 400 Proveedores        €1,000.00","range":{"startLineNumber":297,"startColumn":1,"endLineNumber":297,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2075,"edits":[{"text":"\n   ","range":{"startLineNumber":298,"startColumn":1,"endLineNumber":298,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2076,"edits":[{"text":"\n   DEBE: 400 Proveedores         €1,000.00","range":{"startLineNumber":299,"startColumn":1,"endLineNumber":299,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2077,"edits":[{"text":"\n   HABER: 570 Caja/Bancos        €1,000.00","range":{"startLineNumber":300,"startColumn":1,"endLineNumber":300,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2078,"edits":[{"text":"\n   ```","range":{"startLineNumber":301,"startColumn":1,"endLineNumber":301,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2079,"edits":[{"text":"\n","range":{"startLineNumber":302,"startColumn":1,"endLineNumber":302,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2080,"edits":[{"text":"\n2. **Se cancela una factura**","range":{"startLineNumber":303,"startColumn":1,"endLineNumber":303,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2081,"edits":[{"text":"\n   - Se cancela automáticamente el asiento contable asociado","range":{"startLineNumber":304,"startColumn":1,"endLineNumber":304,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2082,"edits":[{"text":"\n","range":{"startLineNumber":305,"startColumn":1,"endLineNumber":305,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2083,"edits":[{"text":"\n3. **Se elimina una factura**","range":{"startLineNumber":306,"startColumn":1,"endLineNumber":306,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2084,"edits":[{"text":"\n   - Se cancela el asiento contable","range":{"startLineNumber":307,"startColumn":1,"endLineNumber":307,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2085,"edits":[{"text":"\n   - Se registra en auditoría","range":{"startLineNumber":308,"startColumn":1,"endLineNumber":308,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2086,"edits":[{"text":"\n","range":{"startLineNumber":309,"startColumn":1,"endLineNumber":309,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2087,"edits":[{"text":"\n### Verificación de Periodos","range":{"startLineNumber":310,"startColumn":1,"endLineNumber":310,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2088,"edits":[{"text":"\n","range":{"startLineNumber":311,"startColumn":1,"endLineNumber":311,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2089,"edits":[{"text":"\nTodas las operaciones verifican que el periodo contable esté abierto antes de crear asientos.","range":{"startLineNumber":312,"startColumn":1,"endLineNumber":312,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2090,"edits":[{"text":"\n","range":{"startLineNumber":313,"startColumn":1,"endLineNumber":313,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2091,"edits":[{"text":"\n---","range":{"startLineNumber":314,"startColumn":1,"endLineNumber":314,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2092,"edits":[{"text":"\n","range":{"startLineNumber":315,"startColumn":1,"endLineNumber":315,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2093,"edits":[{"text":"\n## 🚨 Troubleshooting","range":{"startLineNumber":316,"startColumn":1,"endLineNumber":316,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2094,"edits":[{"text":"\n","range":{"startLineNumber":317,"startColumn":1,"endLineNumber":317,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2095,"edits":[{"text":"\n### Error: \"No se pudo crear el proveedor\"","range":{"startLineNumber":318,"startColumn":1,"endLineNumber":318,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2096,"edits":[{"text":"\n- Verificar que la migración se aplicó correctamente","range":{"startLineNumber":319,"startColumn":1,"endLineNumber":319,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2097,"edits":[{"text":"\n- Verificar que todos los campos requeridos están presentes","range":{"startLineNumber":320,"startColumn":1,"endLineNumber":320,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2098,"edits":[{"text":"\n- Revisar logs de MySQL","range":{"startLineNumber":321,"startColumn":1,"endLineNumber":321,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2099,"edits":[{"text":"\n","range":{"startLineNumber":322,"startColumn":1,"endLineNumber":322,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2100,"edits":[{"text":"\n### Error: \"Periodo contable cerrado\"","range":{"startLineNumber":323,"startColumn":1,"endLineNumber":323,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2101,"edits":[{"text":"\n- Abrir el periodo contable en el módulo de contabilidad","range":{"startLineNumber":324,"startColumn":1,"endLineNumber":324,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2102,"edits":[{"text":"\n- Verificar que existe un periodo para el año actual","range":{"startLineNumber":325,"startColumn":1,"endLineNumber":325,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2103,"edits":[{"text":"\n","range":{"startLineNumber":326,"startColumn":1,"endLineNumber":326,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2104,"edits":[{"text":"\n### Error: \"No se puede subir el archivo\"","range":{"startLineNumber":327,"startColumn":1,"endLineNumber":327,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2105,"edits":[{"text":"\n- Verificar permisos en `public/uploads/suppliers/`","range":{"startLineNumber":328,"startColumn":1,"endLineNumber":328,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2106,"edits":[{"text":"\n- Verificar tamaño máximo de upload en PHP (php.ini)","range":{"startLineNumber":329,"startColumn":1,"endLineNumber":329,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2107,"edits":[{"text":"\n- Verificar extensiones permitidas","range":{"startLineNumber":330,"startColumn":1,"endLineNumber":330,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2108,"edits":[{"text":"\n","range":{"startLineNumber":331,"startColumn":1,"endLineNumber":331,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2109,"edits":[{"text":"\n### Facturas no aparecen en contabilidad","range":{"startLineNumber":332,"startColumn":1,"endLineNumber":332,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2110,"edits":[{"text":"\n- Verificar que la factura está marcada como \"paid\"","range":{"startLineNumber":333,"startColumn":1,"endLineNumber":333,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2111,"edits":[{"text":"\n- Solo las facturas pagadas generan asientos contables","range":{"startLineNumber":334,"startColumn":1,"endLineNumber":334,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2112,"edits":[{"text":"\n- Revisar logs en `logs/`","range":{"startLineNumber":335,"startColumn":1,"endLineNumber":335,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2113,"edits":[{"text":"\n","range":{"startLineNumber":336,"startColumn":1,"endLineNumber":336,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2114,"edits":[{"text":"\n---","range":{"startLineNumber":337,"startColumn":1,"endLineNumber":337,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2115,"edits":[{"text":"\n","range":{"startLineNumber":338,"startColumn":1,"endLineNumber":338,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2116,"edits":[{"text":"\n## 📈 Próximos Pasos","range":{"startLineNumber":339,"startColumn":1,"endLineNumber":339,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2117,"edits":[{"text":"\n","range":{"startLineNumber":340,"startColumn":1,"endLineNumber":340,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2118,"edits":[{"text":"\n### Inmediatos","range":{"startLineNumber":341,"startColumn":1,"endLineNumber":341,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2119,"edits":[{"text":"\n1. ✅ Aplicar migración","range":{"startLineNumber":342,"startColumn":1,"endLineNumber":342,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2120,"edits":[{"text":"\n2. ✅ Actualizar formularios de vistas","range":{"startLineNumber":343,"startColumn":1,"endLineNumber":343,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2121,"edits":[{"text":"\n3. ✅ Probar crear/editar proveedor","range":{"startLineNumber":344,"startColumn":1,"endLineNumber":344,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2122,"edits":[{"text":"\n4. ✅ Probar subir factura y marcar como pagada","range":{"startLineNumber":345,"startColumn":1,"endLineNumber":345,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2123,"edits":[{"text":"\n","range":{"startLineNumber":346,"startColumn":1,"endLineNumber":346,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2124,"edits":[{"text":"\n### A Corto Plazo","range":{"startLineNumber":347,"startColumn":1,"endLineNumber":347,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2125,"edits":[{"text":"\n1. Crear vistas para gestión de contactos","range":{"startLineNumber":348,"startColumn":1,"endLineNumber":348,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2126,"edits":[{"text":"\n2. Crear vistas para gestión de documentos","range":{"startLineNumber":349,"startColumn":1,"endLineNumber":349,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2127,"edits":[{"text":"\n3. Crear vistas para órdenes de compra","range":{"startLineNumber":350,"startColumn":1,"endLineNumber":350,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2128,"edits":[{"text":"\n4. Implementar alertas de caducidad en dashboard","range":{"startLineNumber":351,"startColumn":1,"endLineNumber":351,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2129,"edits":[{"text":"\n","range":{"startLineNumber":352,"startColumn":1,"endLineNumber":352,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2130,"edits":[{"text":"\n### A Medio Plazo","range":{"startLineNumber":353,"startColumn":1,"endLineNumber":353,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2131,"edits":[{"text":"\n1. API para proveedores (consultar estado de facturas)","range":{"startLineNumber":354,"startColumn":1,"endLineNumber":354,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2132,"edits":[{"text":"\n2. Portal web para proveedores","range":{"startLineNumber":355,"startColumn":1,"endLineNumber":355,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2133,"edits":[{"text":"\n3. Integración con factura electrónica","range":{"startLineNumber":356,"startColumn":1,"endLineNumber":356,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2134,"edits":[{"text":"\n4. Pagos SEPA automáticos","range":{"startLineNumber":357,"startColumn":1,"endLineNumber":357,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2135,"edits":[{"text":"\n","range":{"startLineNumber":358,"startColumn":1,"endLineNumber":358,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2136,"edits":[{"text":"\n---","range":{"startLineNumber":359,"startColumn":1,"endLineNumber":359,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2137,"edits":[{"text":"\n","range":{"startLineNumber":360,"startColumn":1,"endLineNumber":360,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2138,"edits":[{"text":"\n## 📝 Notas Importantes","range":{"startLineNumber":361,"startColumn":1,"endLineNumber":361,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2139,"edits":[{"text":"\n","range":{"startLineNumber":362,"startColumn":1,"endLineNumber":362,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2140,"edits":[{"text":"\n- ⚠️ **SIEMPRE hacer backup antes de migrar**","range":{"startLineNumber":363,"startColumn":1,"endLineNumber":363,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2141,"edits":[{"text":"\n- ⚠️ Los proveedores existentes mantendrán sus datos, solo se añaden campos nuevos","range":{"startLineNumber":364,"startColumn":1,"endLineNumber":364,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2142,"edits":[{"text":"\n- ⚠️ Las facturas existentes calcularán automáticamente subtotal e IVA","range":{"startLineNumber":365,"startColumn":1,"endLineNumber":365,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2143,"edits":[{"text":"\n- ✅ La integración contable ya existente seguirá funcionando","range":{"startLineNumber":366,"startColumn":1,"endLineNumber":366,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2144,"edits":[{"text":"\n- ✅ Los documentos existentes no se ven afectados","range":{"startLineNumber":367,"startColumn":1,"endLineNumber":367,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2145,"edits":[{"text":"\n","range":{"startLineNumber":368,"startColumn":1,"endLineNumber":368,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2146,"edits":[{"text":"\n---","range":{"startLineNumber":369,"startColumn":1,"endLineNumber":369,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2147,"edits":[{"text":"\n","range":{"startLineNumber":370,"startColumn":1,"endLineNumber":370,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2148,"edits":[{"text":"\n## 🆘 Soporte","range":{"startLineNumber":371,"startColumn":1,"endLineNumber":371,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2149,"edits":[{"text":"\n","range":{"startLineNumber":372,"startColumn":1,"endLineNumber":372,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2150,"edits":[{"text":"\nPara cualquier duda o problema:","range":{"startLineNumber":373,"startColumn":1,"endLineNumber":373,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2151,"edits":[{"text":"\n1. Revisar `SUPPLIER_MODULE.md` para documentación técnica completa","range":{"startLineNumber":374,"startColumn":1,"endLineNumber":374,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2152,"edits":[{"text":"\n2. Revisar logs en `logs/`","range":{"startLineNumber":375,"startColumn":1,"endLineNumber":375,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2153,"edits":[{"text":"\n3. Consultar código fuente en `src/Models/Supplier*.php`","range":{"startLineNumber":376,"startColumn":1,"endLineNumber":376,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2154,"edits":[{"text":"\n4. Verificar asientos contables en módulo de contabilidad","range":{"startLineNumber":377,"startColumn":1,"endLineNumber":377,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2155,"edits":[{"text":"\n","range":{"startLineNumber":378,"startColumn":1,"endLineNumber":378,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2156,"edits":[{"text":"\n---","range":{"startLineNumber":379,"startColumn":1,"endLineNumber":379,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2157,"edits":[{"text":"\n","range":{"startLineNumber":380,"startColumn":1,"endLineNumber":380,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2158,"edits":[{"text":"\n**Última actualización: 3 de diciembre de 2025**","range":{"startLineNumber":381,"startColumn":1,"endLineNumber":381,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2159,"edits":[{"text":"\n","range":{"startLineNumber":382,"startColumn":1,"endLineNumber":382,"endColumn":1}}]},{"type":"create","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2160,"initialContent":"","telemetryInfo":{}},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2162,"edits":[{"text":"# 📦 Módulo de Proveedores Profesional - Resumen de Cambios","range":{"startLineNumber":1,"startColumn":1,"endLineNumber":1,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2163,"edits":[{"text":"\n","range":{"startLineNumber":2,"startColumn":1,"endLineNumber":2,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2164,"edits":[{"text":"\n## 🎯 Objetivo","range":{"startLineNumber":3,"startColumn":1,"endLineNumber":3,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2165,"edits":[{"text":"\nProfesionalizar completamente el módulo de gestión de proveedores con integración total a contabilidad y gestor documental.","range":{"startLineNumber":4,"startColumn":1,"endLineNumber":4,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2166,"edits":[{"text":"\n","range":{"startLineNumber":5,"startColumn":1,"endLineNumber":5,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2167,"edits":[{"text":"\n---","range":{"startLineNumber":6,"startColumn":1,"endLineNumber":6,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2168,"edits":[{"text":"\n","range":{"startLineNumber":7,"startColumn":1,"endLineNumber":7,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2169,"edits":[{"text":"\n## 📊 Cambios en Base de Datos","range":{"startLineNumber":8,"startColumn":1,"endLineNumber":8,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2170,"edits":[{"text":"\n","range":{"startLineNumber":9,"startColumn":1,"endLineNumber":9,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2171,"edits":[{"text":"\n### ✅ Tabla `suppliers` - **AMPLIADA**","range":{"startLineNumber":10,"startColumn":1,"endLineNumber":10,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2172,"edits":[{"text":"\n**Antes**: 9 campos básicos  ","range":{"startLineNumber":11,"startColumn":1,"endLineNumber":11,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2173,"edits":[{"text":"\n**Ahora**: 31 campos profesionales","range":{"startLineNumber":12,"startColumn":1,"endLineNumber":12,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2174,"edits":[{"text":"\n","range":{"startLineNumber":13,"startColumn":1,"endLineNumber":13,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2175,"edits":[{"text":"\n**Nuevos campos añadidos**:","range":{"startLineNumber":14,"startColumn":1,"endLineNumber":14,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2176,"edits":[{"text":"\n```sql","range":{"startLineNumber":15,"startColumn":1,"endLineNumber":15,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2177,"edits":[{"text":"\n✓ tax_id              -- ID fiscal completo","range":{"startLineNumber":16,"startColumn":1,"endLineNumber":16,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2178,"edits":[{"text":"\n✓ postal_code         -- Código postal","range":{"startLineNumber":17,"startColumn":1,"endLineNumber":17,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2179,"edits":[{"text":"\n✓ city                -- Ciudad","range":{"startLineNumber":18,"startColumn":1,"endLineNumber":18,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2180,"edits":[{"text":"\n✓ province            -- Provincia  ","range":{"startLineNumber":19,"startColumn":1,"endLineNumber":19,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2181,"edits":[{"text":"\n✓ country             -- País (default: España)","range":{"startLineNumber":20,"startColumn":1,"endLineNumber":20,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2182,"edits":[{"text":"\n✓ tipo_proveedor      -- servicios|productos|mixto|profesional","range":{"startLineNumber":21,"startColumn":1,"endLineNumber":21,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2183,"edits":[{"text":"\n✓ categoria           -- Categoría personalizada","range":{"startLineNumber":22,"startColumn":1,"endLineNumber":22,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2184,"edits":[{"text":"\n✓ estado              -- activo|inactivo|bloqueado","range":{"startLineNumber":23,"startColumn":1,"endLineNumber":23,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2185,"edits":[{"text":"\n✓ payment_terms       -- Días de plazo (default: 30)","range":{"startLineNumber":24,"startColumn":1,"endLineNumber":24,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2186,"edits":[{"text":"\n✓ default_payment_method -- transfer|cash|card|check|other","range":{"startLineNumber":25,"startColumn":1,"endLineNumber":25,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2187,"edits":[{"text":"\n✓ iban                -- Cuenta bancaria","range":{"startLineNumber":26,"startColumn":1,"endLineNumber":26,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2188,"edits":[{"text":"\n✓ swift               -- Código SWIFT/BIC","range":{"startLineNumber":27,"startColumn":1,"endLineNumber":27,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2189,"edits":[{"text":"\n✓ bank_name           -- Nombre del banco","range":{"startLineNumber":28,"startColumn":1,"endLineNumber":28,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2190,"edits":[{"text":"\n✓ default_discount    -- % descuento por defecto","range":{"startLineNumber":29,"startColumn":1,"endLineNumber":29,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2191,"edits":[{"text":"\n✓ credit_limit        -- Límite de crédito","range":{"startLineNumber":30,"startColumn":1,"endLineNumber":30,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2192,"edits":[{"text":"\n✓ contact_person      -- Persona de contacto","range":{"startLineNumber":31,"startColumn":1,"endLineNumber":31,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2193,"edits":[{"text":"\n✓ contact_email       -- Email del contacto","range":{"startLineNumber":32,"startColumn":1,"endLineNumber":32,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2194,"edits":[{"text":"\n✓ contact_phone       -- Teléfono del contacto","range":{"startLineNumber":33,"startColumn":1,"endLineNumber":33,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2195,"edits":[{"text":"\n✓ rating              -- Valoración 1-5","range":{"startLineNumber":34,"startColumn":1,"endLineNumber":34,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2196,"edits":[{"text":"\n```","range":{"startLineNumber":35,"startColumn":1,"endLineNumber":35,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2197,"edits":[{"text":"\n","range":{"startLineNumber":36,"startColumn":1,"endLineNumber":36,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2198,"edits":[{"text":"\n### ✅ Tabla `supplier_invoices` - **MEJORADA**","range":{"startLineNumber":37,"startColumn":1,"endLineNumber":37,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2199,"edits":[{"text":"\n**Antes**: 8 campos básicos  ","range":{"startLineNumber":38,"startColumn":1,"endLineNumber":38,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2200,"edits":[{"text":"\n**Ahora**: 18 campos profesionales","range":{"startLineNumber":39,"startColumn":1,"endLineNumber":39,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2201,"edits":[{"text":"\n","range":{"startLineNumber":40,"startColumn":1,"endLineNumber":40,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2202,"edits":[{"text":"\n**Nuevos campos añadidos**:","range":{"startLineNumber":41,"startColumn":1,"endLineNumber":41,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2203,"edits":[{"text":"\n```sql","range":{"startLineNumber":42,"startColumn":1,"endLineNumber":42,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2204,"edits":[{"text":"\n✓ order_id            -- Referencia a orden de compra","range":{"startLineNumber":43,"startColumn":1,"endLineNumber":43,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2205,"edits":[{"text":"\n✓ due_date            -- Fecha de vencimiento","range":{"startLineNumber":44,"startColumn":1,"endLineNumber":44,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2206,"edits":[{"text":"\n✓ payment_date        -- Fecha real de pago","range":{"startLineNumber":45,"startColumn":1,"endLineNumber":45,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2207,"edits":[{"text":"\n✓ subtotal            -- Base imponible","range":{"startLineNumber":46,"startColumn":1,"endLineNumber":46,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2208,"edits":[{"text":"\n✓ tax_amount          -- IVA","range":{"startLineNumber":47,"startColumn":1,"endLineNumber":47,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2209,"edits":[{"text":"\n✓ discount_amount     -- Descuentos aplicados","range":{"startLineNumber":48,"startColumn":1,"endLineNumber":48,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2210,"edits":[{"text":"\n✓ payment_method      -- Forma de pago","range":{"startLineNumber":49,"startColumn":1,"endLineNumber":49,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2211,"edits":[{"text":"\n✓ bank_reference      -- Referencia bancaria","range":{"startLineNumber":50,"startColumn":1,"endLineNumber":50,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2212,"edits":[{"text":"\n✓ tipo_factura        -- normal|rectificativa|abono","range":{"startLineNumber":51,"startColumn":1,"endLineNumber":51,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2213,"edits":[{"text":"\n✓ updated_at          -- Última actualización","range":{"startLineNumber":52,"startColumn":1,"endLineNumber":52,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2214,"edits":[{"text":"\n```","range":{"startLineNumber":53,"startColumn":1,"endLineNumber":53,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2215,"edits":[{"text":"\n","range":{"startLineNumber":54,"startColumn":1,"endLineNumber":54,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2216,"edits":[{"text":"\n**Estado mejorado**:","range":{"startLineNumber":55,"startColumn":1,"endLineNumber":55,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2217,"edits":[{"text":"\n```sql","range":{"startLineNumber":56,"startColumn":1,"endLineNumber":56,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2218,"edits":[{"text":"\nANTES: paid, pending, cancelled","range":{"startLineNumber":57,"startColumn":1,"endLineNumber":57,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2219,"edits":[{"text":"\nAHORA: paid, pending, overdue, cancelled","range":{"startLineNumber":58,"startColumn":1,"endLineNumber":58,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2220,"edits":[{"text":"\n```","range":{"startLineNumber":59,"startColumn":1,"endLineNumber":59,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2221,"edits":[{"text":"\n","range":{"startLineNumber":60,"startColumn":1,"endLineNumber":60,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2222,"edits":[{"text":"\n### ✅ Nueva Tabla `supplier_contacts`","range":{"startLineNumber":61,"startColumn":1,"endLineNumber":61,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2223,"edits":[{"text":"\nGestión de múltiples contactos por proveedor","range":{"startLineNumber":62,"startColumn":1,"endLineNumber":62,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2224,"edits":[{"text":"\n","range":{"startLineNumber":63,"startColumn":1,"endLineNumber":63,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2225,"edits":[{"text":"\n```sql","range":{"startLineNumber":64,"startColumn":1,"endLineNumber":64,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2226,"edits":[{"text":"\nCREATE TABLE supplier_contacts (","range":{"startLineNumber":65,"startColumn":1,"endLineNumber":65,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2227,"edits":[{"text":"\n    id                  INT PRIMARY KEY AUTO_INCREMENT,","range":{"startLineNumber":66,"startColumn":1,"endLineNumber":66,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2228,"edits":[{"text":"\n    supplier_id         INT NOT NULL,","range":{"startLineNumber":67,"startColumn":1,"endLineNumber":67,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2229,"edits":[{"text":"\n    name                VARCHAR(255) NOT NULL,","range":{"startLineNumber":68,"startColumn":1,"endLineNumber":68,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2230,"edits":[{"text":"\n    position            VARCHAR(100),      -- Cargo","range":{"startLineNumber":69,"startColumn":1,"endLineNumber":69,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2231,"edits":[{"text":"\n    email               VARCHAR(255),","range":{"startLineNumber":70,"startColumn":1,"endLineNumber":70,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2232,"edits":[{"text":"\n    phone               VARCHAR(20),","range":{"startLineNumber":71,"startColumn":1,"endLineNumber":71,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2233,"edits":[{"text":"\n    mobile              VARCHAR(20),","range":{"startLineNumber":72,"startColumn":1,"endLineNumber":72,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2234,"edits":[{"text":"\n    is_primary          BOOLEAN,           -- Contacto principal","range":{"startLineNumber":73,"startColumn":1,"endLineNumber":73,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2235,"edits":[{"text":"\n    notes               TEXT,","range":{"startLineNumber":74,"startColumn":1,"endLineNumber":74,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2236,"edits":[{"text":"\n    created_at          DATETIME,","range":{"startLineNumber":75,"startColumn":1,"endLineNumber":75,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2237,"edits":[{"text":"\n    FOREIGN KEY (supplier_id) REFERENCES suppliers(id)","range":{"startLineNumber":76,"startColumn":1,"endLineNumber":76,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2238,"edits":[{"text":"\n);","range":{"startLineNumber":77,"startColumn":1,"endLineNumber":77,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2239,"edits":[{"text":"\n```","range":{"startLineNumber":78,"startColumn":1,"endLineNumber":78,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2240,"edits":[{"text":"\n","range":{"startLineNumber":79,"startColumn":1,"endLineNumber":79,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2241,"edits":[{"text":"\n### ✅ Nueva Tabla `supplier_documents`","range":{"startLineNumber":80,"startColumn":1,"endLineNumber":80,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2242,"edits":[{"text":"\nSistema de gestión documental con control de caducidad","range":{"startLineNumber":81,"startColumn":1,"endLineNumber":81,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2243,"edits":[{"text":"\n","range":{"startLineNumber":82,"startColumn":1,"endLineNumber":82,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2244,"edits":[{"text":"\n```sql","range":{"startLineNumber":83,"startColumn":1,"endLineNumber":83,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2245,"edits":[{"text":"\nCREATE TABLE supplier_documents (","range":{"startLineNumber":84,"startColumn":1,"endLineNumber":84,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2246,"edits":[{"text":"\n    id                  INT PRIMARY KEY AUTO_INCREMENT,","range":{"startLineNumber":85,"startColumn":1,"endLineNumber":85,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2247,"edits":[{"text":"\n    supplier_id         INT NOT NULL,","range":{"startLineNumber":86,"startColumn":1,"endLineNumber":86,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2248,"edits":[{"text":"\n    document_id         INT,               -- Ref. gestor documental","range":{"startLineNumber":87,"startColumn":1,"endLineNumber":87,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2249,"edits":[{"text":"\n    document_type       ENUM('contrato','certificado','seguro','licencia','otro'),","range":{"startLineNumber":88,"startColumn":1,"endLineNumber":88,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2250,"edits":[{"text":"\n    name                VARCHAR(255) NOT NULL,","range":{"startLineNumber":89,"startColumn":1,"endLineNumber":89,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2251,"edits":[{"text":"\n    file_path           VARCHAR(255),","range":{"startLineNumber":90,"startColumn":1,"endLineNumber":90,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2252,"edits":[{"text":"\n    description         TEXT,","range":{"startLineNumber":91,"startColumn":1,"endLineNumber":91,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2253,"edits":[{"text":"\n    upload_date         DATE,","range":{"startLineNumber":92,"startColumn":1,"endLineNumber":92,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2254,"edits":[{"text":"\n    expiry_date         DATE,              -- ¡Alertas automáticas!","range":{"startLineNumber":93,"startColumn":1,"endLineNumber":93,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2255,"edits":[{"text":"\n    status              ENUM('vigente','caducado','renovado','cancelado'),","range":{"startLineNumber":94,"startColumn":1,"endLineNumber":94,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2256,"edits":[{"text":"\n    tags                VARCHAR(255),      -- Para búsqueda","range":{"startLineNumber":95,"startColumn":1,"endLineNumber":95,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2257,"edits":[{"text":"\n    uploaded_by         INT,","range":{"startLineNumber":96,"startColumn":1,"endLineNumber":96,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2258,"edits":[{"text":"\n    created_at          DATETIME,","range":{"startLineNumber":97,"startColumn":1,"endLineNumber":97,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2259,"edits":[{"text":"\n    FOREIGN KEY (supplier_id) REFERENCES suppliers(id),","range":{"startLineNumber":98,"startColumn":1,"endLineNumber":98,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2260,"edits":[{"text":"\n    FOREIGN KEY (uploaded_by) REFERENCES users(id)","range":{"startLineNumber":99,"startColumn":1,"endLineNumber":99,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2261,"edits":[{"text":"\n);","range":{"startLineNumber":100,"startColumn":1,"endLineNumber":100,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2262,"edits":[{"text":"\n```","range":{"startLineNumber":101,"startColumn":1,"endLineNumber":101,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2263,"edits":[{"text":"\n","range":{"startLineNumber":102,"startColumn":1,"endLineNumber":102,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2264,"edits":[{"text":"\n### ✅ Nueva Tabla `supplier_orders`","range":{"startLineNumber":103,"startColumn":1,"endLineNumber":103,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2265,"edits":[{"text":"\nÓrdenes de compra pre-factura","range":{"startLineNumber":104,"startColumn":1,"endLineNumber":104,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2266,"edits":[{"text":"\n","range":{"startLineNumber":105,"startColumn":1,"endLineNumber":105,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2267,"edits":[{"text":"\n```sql","range":{"startLineNumber":106,"startColumn":1,"endLineNumber":106,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2268,"edits":[{"text":"\nCREATE TABLE supplier_orders (","range":{"startLineNumber":107,"startColumn":1,"endLineNumber":107,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2269,"edits":[{"text":"\n    id                      INT PRIMARY KEY AUTO_INCREMENT,","range":{"startLineNumber":108,"startColumn":1,"endLineNumber":108,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2270,"edits":[{"text":"\n    supplier_id             INT NOT NULL,","range":{"startLineNumber":109,"startColumn":1,"endLineNumber":109,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2271,"edits":[{"text":"\n    order_number            VARCHAR(50) UNIQUE NOT NULL,","range":{"startLineNumber":110,"startColumn":1,"endLineNumber":110,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2272,"edits":[{"text":"\n    order_date              DATE NOT NULL,","range":{"startLineNumber":111,"startColumn":1,"endLineNumber":111,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2273,"edits":[{"text":"\n    expected_delivery_date  DATE,","range":{"startLineNumber":112,"startColumn":1,"endLineNumber":112,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2274,"edits":[{"text":"\n    status                  ENUM('draft','sent','confirmed','received','cancelled'),","range":{"startLineNumber":113,"startColumn":1,"endLineNumber":113,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2275,"edits":[{"text":"\n    subtotal                DECIMAL(10,2),","range":{"startLineNumber":114,"startColumn":1,"endLineNumber":114,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2276,"edits":[{"text":"\n    tax_amount              DECIMAL(10,2),","range":{"startLineNumber":115,"startColumn":1,"endLineNumber":115,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2277,"edits":[{"text":"\n    discount_amount         DECIMAL(10,2),","range":{"startLineNumber":116,"startColumn":1,"endLineNumber":116,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2278,"edits":[{"text":"\n    total_amount            DECIMAL(10,2),","range":{"startLineNumber":117,"startColumn":1,"endLineNumber":117,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2279,"edits":[{"text":"\n    notes                   TEXT,","range":{"startLineNumber":118,"startColumn":1,"endLineNumber":118,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2280,"edits":[{"text":"\n    approved_by             INT,","range":{"startLineNumber":119,"startColumn":1,"endLineNumber":119,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2281,"edits":[{"text":"\n    approved_at             DATETIME,","range":{"startLineNumber":120,"startColumn":1,"endLineNumber":120,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2282,"edits":[{"text":"\n    created_by              INT,","range":{"startLineNumber":121,"startColumn":1,"endLineNumber":121,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2283,"edits":[{"text":"\n    created_at              DATETIME,","range":{"startLineNumber":122,"startColumn":1,"endLineNumber":122,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2284,"edits":[{"text":"\n    updated_at              DATETIME,","range":{"startLineNumber":123,"startColumn":1,"endLineNumber":123,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2285,"edits":[{"text":"\n    FOREIGN KEY (supplier_id) REFERENCES suppliers(id),","range":{"startLineNumber":124,"startColumn":1,"endLineNumber":124,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2286,"edits":[{"text":"\n    FOREIGN KEY (approved_by) REFERENCES users(id),","range":{"startLineNumber":125,"startColumn":1,"endLineNumber":125,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2287,"edits":[{"text":"\n    FOREIGN KEY (created_by) REFERENCES users(id)","range":{"startLineNumber":126,"startColumn":1,"endLineNumber":126,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2288,"edits":[{"text":"\n);","range":{"startLineNumber":127,"startColumn":1,"endLineNumber":127,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2289,"edits":[{"text":"\n```","range":{"startLineNumber":128,"startColumn":1,"endLineNumber":128,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2290,"edits":[{"text":"\n","range":{"startLineNumber":129,"startColumn":1,"endLineNumber":129,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2291,"edits":[{"text":"\n### ✅ Nueva Tabla `supplier_order_lines`","range":{"startLineNumber":130,"startColumn":1,"endLineNumber":130,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2292,"edits":[{"text":"\nLíneas de detalle de órdenes de compra","range":{"startLineNumber":131,"startColumn":1,"endLineNumber":131,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2293,"edits":[{"text":"\n","range":{"startLineNumber":132,"startColumn":1,"endLineNumber":132,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2294,"edits":[{"text":"\n```sql","range":{"startLineNumber":133,"startColumn":1,"endLineNumber":133,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2295,"edits":[{"text":"\nCREATE TABLE supplier_order_lines (","range":{"startLineNumber":134,"startColumn":1,"endLineNumber":134,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2296,"edits":[{"text":"\n    id              INT PRIMARY KEY AUTO_INCREMENT,","range":{"startLineNumber":135,"startColumn":1,"endLineNumber":135,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2297,"edits":[{"text":"\n    order_id        INT NOT NULL,","range":{"startLineNumber":136,"startColumn":1,"endLineNumber":136,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2298,"edits":[{"text":"\n    line_number     INT NOT NULL,","range":{"startLineNumber":137,"startColumn":1,"endLineNumber":137,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2299,"edits":[{"text":"\n    description     VARCHAR(255) NOT NULL,","range":{"startLineNumber":138,"startColumn":1,"endLineNumber":138,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2300,"edits":[{"text":"\n    quantity        DECIMAL(10,2) NOT NULL,","range":{"startLineNumber":139,"startColumn":1,"endLineNumber":139,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2301,"edits":[{"text":"\n    unit_price      DECIMAL(10,2) NOT NULL,","range":{"startLineNumber":140,"startColumn":1,"endLineNumber":140,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2302,"edits":[{"text":"\n    tax_rate        DECIMAL(5,2) DEFAULT 21.00,","range":{"startLineNumber":141,"startColumn":1,"endLineNumber":141,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2303,"edits":[{"text":"\n    discount_rate   DECIMAL(5,2) DEFAULT 0.00,","range":{"startLineNumber":142,"startColumn":1,"endLineNumber":142,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2304,"edits":[{"text":"\n    line_total      DECIMAL(10,2),","range":{"startLineNumber":143,"startColumn":1,"endLineNumber":143,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2305,"edits":[{"text":"\n    notes           TEXT,","range":{"startLineNumber":144,"startColumn":1,"endLineNumber":144,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2306,"edits":[{"text":"\n    FOREIGN KEY (order_id) REFERENCES supplier_orders(id) ON DELETE CASCADE","range":{"startLineNumber":145,"startColumn":1,"endLineNumber":145,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2307,"edits":[{"text":"\n);","range":{"startLineNumber":146,"startColumn":1,"endLineNumber":146,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2308,"edits":[{"text":"\n```","range":{"startLineNumber":147,"startColumn":1,"endLineNumber":147,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2309,"edits":[{"text":"\n","range":{"startLineNumber":148,"startColumn":1,"endLineNumber":148,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2310,"edits":[{"text":"\n---","range":{"startLineNumber":149,"startColumn":1,"endLineNumber":149,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2311,"edits":[{"text":"\n","range":{"startLineNumber":150,"startColumn":1,"endLineNumber":150,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2312,"edits":[{"text":"\n## 🔧 Modelos PHP Creados/Actualizados","range":{"startLineNumber":151,"startColumn":1,"endLineNumber":151,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2313,"edits":[{"text":"\n","range":{"startLineNumber":152,"startColumn":1,"endLineNumber":152,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2314,"edits":[{"text":"\n### ✅ `Supplier.php` - ACTUALIZADO","range":{"startLineNumber":153,"startColumn":1,"endLineNumber":153,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2315,"edits":[{"text":"\n- ✓ 31 propiedades públicas (antes: 9)","range":{"startLineNumber":154,"startColumn":1,"endLineNumber":154,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2316,"edits":[{"text":"\n- ✓ Métodos create(), readAll(), readOne(), update(), delete()","range":{"startLineNumber":155,"startColumn":1,"endLineNumber":155,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2317,"edits":[{"text":"\n- ✓ Sanitización completa con `htmlspecialchars()`","range":{"startLineNumber":156,"startColumn":1,"endLineNumber":156,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2318,"edits":[{"text":"\n- ✓ Manejo de valores opcionales con `?? null`","range":{"startLineNumber":157,"startColumn":1,"endLineNumber":157,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2319,"edits":[{"text":"\n","range":{"startLineNumber":158,"startColumn":1,"endLineNumber":158,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2320,"edits":[{"text":"\n### ✅ `SupplierContact.php` - NUEVO","range":{"startLineNumber":159,"startColumn":1,"endLineNumber":159,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2321,"edits":[{"text":"\n- ✓ Gestión CRUD completa de contactos","range":{"startLineNumber":160,"startColumn":1,"endLineNumber":160,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2322,"edits":[{"text":"\n- ✓ Método `readBySupplierId()` para listar contactos","range":{"startLineNumber":161,"startColumn":1,"endLineNumber":161,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2323,"edits":[{"text":"\n- ✓ Auto-gestión de contacto principal (solo uno)","range":{"startLineNumber":162,"startColumn":1,"endLineNumber":162,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2324,"edits":[{"text":"\n","range":{"startLineNumber":163,"startColumn":1,"endLineNumber":163,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2325,"edits":[{"text":"\n### ✅ `SupplierDocument.php` - NUEVO","range":{"startLineNumber":164,"startColumn":1,"endLineNumber":164,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2326,"edits":[{"text":"\n- ✓ Gestión CRUD completa de documentos","range":{"startLineNumber":165,"startColumn":1,"endLineNumber":165,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2327,"edits":[{"text":"\n- ✓ Método `getExpiringDocuments($days)` - alertas próximas","range":{"startLineNumber":166,"startColumn":1,"endLineNumber":166,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2328,"edits":[{"text":"\n- ✓ Método `getExpiredDocuments()` - documentos caducados","range":{"startLineNumber":167,"startColumn":1,"endLineNumber":167,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2329,"edits":[{"text":"\n- ✓ Filtros por tipo y estado","range":{"startLineNumber":168,"startColumn":1,"endLineNumber":168,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2330,"edits":[{"text":"\n","range":{"startLineNumber":169,"startColumn":1,"endLineNumber":169,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2331,"edits":[{"text":"\n### ✅ `SupplierOrder.php` - NUEVO","range":{"startLineNumber":170,"startColumn":1,"endLineNumber":170,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2332,"edits":[{"text":"\n- ✓ Gestión completa de órdenes de compra","range":{"startLineNumber":171,"startColumn":1,"endLineNumber":171,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2333,"edits":[{"text":"\n- ✓ Método `approve($user_id)` - flujo de aprobación","range":{"startLineNumber":172,"startColumn":1,"endLineNumber":172,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2334,"edits":[{"text":"\n- ✓ Método `getTotalAmount($year)` - estadísticas","range":{"startLineNumber":173,"startColumn":1,"endLineNumber":173,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2335,"edits":[{"text":"\n- ✓ Método `getPendingOrders()` - seguimiento","range":{"startLineNumber":174,"startColumn":1,"endLineNumber":174,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2336,"edits":[{"text":"\n","range":{"startLineNumber":175,"startColumn":1,"endLineNumber":175,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2337,"edits":[{"text":"\n### ✅ `SupplierOrderLine.php` - NUEVO","range":{"startLineNumber":176,"startColumn":1,"endLineNumber":176,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2338,"edits":[{"text":"\n- ✓ Gestión de líneas de orden","range":{"startLineNumber":177,"startColumn":1,"endLineNumber":177,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2339,"edits":[{"text":"\n- ✓ Cálculo automático de totales con IVA y descuentos","range":{"startLineNumber":178,"startColumn":1,"endLineNumber":178,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2340,"edits":[{"text":"\n- ✓ Método `readByOrderId()` para líneas de una orden","range":{"startLineNumber":179,"startColumn":1,"endLineNumber":179,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2341,"edits":[{"text":"\n","range":{"startLineNumber":180,"startColumn":1,"endLineNumber":180,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2342,"edits":[{"text":"\n### ✅ `SupplierInvoice.php` - ACTUALIZADO","range":{"startLineNumber":181,"startColumn":1,"endLineNumber":181,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2343,"edits":[{"text":"\n- ✓ 20 propiedades públicas (antes: 8)","range":{"startLineNumber":182,"startColumn":1,"endLineNumber":182,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2344,"edits":[{"text":"\n- ✓ Método create() con todos los campos nuevos","range":{"startLineNumber":183,"startColumn":1,"endLineNumber":183,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2345,"edits":[{"text":"\n- ✓ Método `getOverdueInvoices()` - facturas vencidas","range":{"startLineNumber":184,"startColumn":1,"endLineNumber":184,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2346,"edits":[{"text":"\n- ✓ Estadísticas mejoradas","range":{"startLineNumber":185,"startColumn":1,"endLineNumber":185,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2347,"edits":[{"text":"\n","range":{"startLineNumber":186,"startColumn":1,"endLineNumber":186,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2348,"edits":[{"text":"\n---","range":{"startLineNumber":187,"startColumn":1,"endLineNumber":187,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2349,"edits":[{"text":"\n","range":{"startLineNumber":188,"startColumn":1,"endLineNumber":188,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2350,"edits":[{"text":"\n## 🔗 Integración con Contabilidad","range":{"startLineNumber":189,"startColumn":1,"endLineNumber":189,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2351,"edits":[{"text":"\n","range":{"startLineNumber":190,"startColumn":1,"endLineNumber":190,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2352,"edits":[{"text":"\n### ✅ Asientos Automáticos","range":{"startLineNumber":191,"startColumn":1,"endLineNumber":191,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2353,"edits":[{"text":"\n**Operaciones que crean asientos contables**:","range":{"startLineNumber":192,"startColumn":1,"endLineNumber":192,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2354,"edits":[{"text":"\n","range":{"startLineNumber":193,"startColumn":1,"endLineNumber":193,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2355,"edits":[{"text":"\n1. **Subir factura + marcar como pagada**","range":{"startLineNumber":194,"startColumn":1,"endLineNumber":194,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2356,"edits":[{"text":"\n   ```php","range":{"startLineNumber":195,"startColumn":1,"endLineNumber":195,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2357,"edits":[{"text":"\n   AccountingHelper::createEntryFromSupplierInvoice(","range":{"startLineNumber":196,"startColumn":1,"endLineNumber":196,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2358,"edits":[{"text":"\n       $db,","range":{"startLineNumber":197,"startColumn":1,"endLineNumber":197,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2359,"edits":[{"text":"\n       $invoice_id,","range":{"startLineNumber":198,"startColumn":1,"endLineNumber":198,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2360,"edits":[{"text":"\n       $amount,","range":{"startLineNumber":199,"startColumn":1,"endLineNumber":199,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2361,"edits":[{"text":"\n       $description,","range":{"startLineNumber":200,"startColumn":1,"endLineNumber":200,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2362,"edits":[{"text":"\n       $invoice_date,","range":{"startLineNumber":201,"startColumn":1,"endLineNumber":201,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2363,"edits":[{"text":"\n       $payment_date,","range":{"startLineNumber":202,"startColumn":1,"endLineNumber":202,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2364,"edits":[{"text":"\n       $payment_method","range":{"startLineNumber":203,"startColumn":1,"endLineNumber":203,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2365,"edits":[{"text":"\n   );","range":{"startLineNumber":204,"startColumn":1,"endLineNumber":204,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2366,"edits":[{"text":"\n   ```","range":{"startLineNumber":205,"startColumn":1,"endLineNumber":205,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2367,"edits":[{"text":"\n","range":{"startLineNumber":206,"startColumn":1,"endLineNumber":206,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2368,"edits":[{"text":"\n2. **Cambiar estado de factura a \"paid\"**","range":{"startLineNumber":207,"startColumn":1,"endLineNumber":207,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2369,"edits":[{"text":"\n   - Crea asiento de gasto (629 → 400)","range":{"startLineNumber":208,"startColumn":1,"endLineNumber":208,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2370,"edits":[{"text":"\n   - Crea asiento de pago (400 → 570)","range":{"startLineNumber":209,"startColumn":1,"endLineNumber":209,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2371,"edits":[{"text":"\n","range":{"startLineNumber":210,"startColumn":1,"endLineNumber":210,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2372,"edits":[{"text":"\n3. **Eliminar factura**","range":{"startLineNumber":211,"startColumn":1,"endLineNumber":211,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2373,"edits":[{"text":"\n   - Cancela automáticamente el asiento contable","range":{"startLineNumber":212,"startColumn":1,"endLineNumber":212,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2374,"edits":[{"text":"\n   - Registra en auditoría","range":{"startLineNumber":213,"startColumn":1,"endLineNumber":213,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2375,"edits":[{"text":"\n","range":{"startLineNumber":214,"startColumn":1,"endLineNumber":214,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2376,"edits":[{"text":"\n### ✅ Cuentas Utilizadas","range":{"startLineNumber":215,"startColumn":1,"endLineNumber":215,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2377,"edits":[{"text":"\n```","range":{"startLineNumber":216,"startColumn":1,"endLineNumber":216,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2378,"edits":[{"text":"\n400 - Proveedores        (Pasivo)","range":{"startLineNumber":217,"startColumn":1,"endLineNumber":217,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2379,"edits":[{"text":"\n570 - Caja/Bancos        (Activo)","range":{"startLineNumber":218,"startColumn":1,"endLineNumber":218,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2380,"edits":[{"text":"\n629 - Otros Servicios    (Gasto)","range":{"startLineNumber":219,"startColumn":1,"endLineNumber":219,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2381,"edits":[{"text":"\n600 - Compras            (Gasto)","range":{"startLineNumber":220,"startColumn":1,"endLineNumber":220,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2382,"edits":[{"text":"\n```","range":{"startLineNumber":221,"startColumn":1,"endLineNumber":221,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2383,"edits":[{"text":"\n","range":{"startLineNumber":222,"startColumn":1,"endLineNumber":222,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2384,"edits":[{"text":"\n---","range":{"startLineNumber":223,"startColumn":1,"endLineNumber":223,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2385,"edits":[{"text":"\n","range":{"startLineNumber":224,"startColumn":1,"endLineNumber":224,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2386,"edits":[{"text":"\n## 📁 Integración con Gestor Documental","range":{"startLineNumber":225,"startColumn":1,"endLineNumber":225,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2387,"edits":[{"text":"\n","range":{"startLineNumber":226,"startColumn":1,"endLineNumber":226,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2388,"edits":[{"text":"\n### ✅ Almacenamiento Dual","range":{"startLineNumber":227,"startColumn":1,"endLineNumber":227,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2389,"edits":[{"text":"\n","range":{"startLineNumber":228,"startColumn":1,"endLineNumber":228,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2390,"edits":[{"text":"\n**Opción 1: Sistema de Archivos**","range":{"startLineNumber":229,"startColumn":1,"endLineNumber":229,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2391,"edits":[{"text":"\n```","range":{"startLineNumber":230,"startColumn":1,"endLineNumber":230,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2392,"edits":[{"text":"\npublic/uploads/suppliers/","range":{"startLineNumber":231,"startColumn":1,"endLineNumber":231,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2393,"edits":[{"text":"\n├── [supplier_id]/","range":{"startLineNumber":232,"startColumn":1,"endLineNumber":232,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2394,"edits":[{"text":"\n│   ├── factura_001.pdf","range":{"startLineNumber":233,"startColumn":1,"endLineNumber":233,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2395,"edits":[{"text":"\n│   ├── contrato_2025.pdf","range":{"startLineNumber":234,"startColumn":1,"endLineNumber":234,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2396,"edits":[{"text":"\n│   └── certificado_seguro.pdf","range":{"startLineNumber":235,"startColumn":1,"endLineNumber":235,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2397,"edits":[{"text":"\n└── logos/","range":{"startLineNumber":236,"startColumn":1,"endLineNumber":236,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2398,"edits":[{"text":"\n    └── logo_proveedor.png","range":{"startLineNumber":237,"startColumn":1,"endLineNumber":237,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2399,"edits":[{"text":"\n```","range":{"startLineNumber":238,"startColumn":1,"endLineNumber":238,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2400,"edits":[{"text":"\n","range":{"startLineNumber":239,"startColumn":1,"endLineNumber":239,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2401,"edits":[{"text":"\n**Opción 2: Gestor Documental Integrado**","range":{"startLineNumber":240,"startColumn":1,"endLineNumber":240,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2402,"edits":[{"text":"\n```php","range":{"startLineNumber":241,"startColumn":1,"endLineNumber":241,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2403,"edits":[{"text":"\n// Referencia a través de document_id","range":{"startLineNumber":242,"startColumn":1,"endLineNumber":242,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2404,"edits":[{"text":"\n$doc->document_id = 456; // ID en sistema de gestión documental","range":{"startLineNumber":243,"startColumn":1,"endLineNumber":243,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2405,"edits":[{"text":"\n```","range":{"startLineNumber":244,"startColumn":1,"endLineNumber":244,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2406,"edits":[{"text":"\n","range":{"startLineNumber":245,"startColumn":1,"endLineNumber":245,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2407,"edits":[{"text":"\n### ✅ Características","range":{"startLineNumber":246,"startColumn":1,"endLineNumber":246,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2408,"edits":[{"text":"\n- ✓ Versionado de documentos","range":{"startLineNumber":247,"startColumn":1,"endLineNumber":247,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2409,"edits":[{"text":"\n- ✓ Control de permisos","range":{"startLineNumber":248,"startColumn":1,"endLineNumber":248,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2410,"edits":[{"text":"\n- ✓ Tags para búsqueda","range":{"startLineNumber":249,"startColumn":1,"endLineNumber":249,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2411,"edits":[{"text":"\n- ✓ Auditoría de cambios","range":{"startLineNumber":250,"startColumn":1,"endLineNumber":250,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2412,"edits":[{"text":"\n- ✓ Alertas de caducidad","range":{"startLineNumber":251,"startColumn":1,"endLineNumber":251,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2413,"edits":[{"text":"\n","range":{"startLineNumber":252,"startColumn":1,"endLineNumber":252,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2414,"edits":[{"text":"\n---","range":{"startLineNumber":253,"startColumn":1,"endLineNumber":253,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2415,"edits":[{"text":"\n","range":{"startLineNumber":254,"startColumn":1,"endLineNumber":254,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2416,"edits":[{"text":"\n## 📝 Archivos de Migración","range":{"startLineNumber":255,"startColumn":1,"endLineNumber":255,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2417,"edits":[{"text":"\n","range":{"startLineNumber":256,"startColumn":1,"endLineNumber":256,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2418,"edits":[{"text":"\n### ✅ `2025_12_03_professional_suppliers.sql`","range":{"startLineNumber":257,"startColumn":1,"endLineNumber":257,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2419,"edits":[{"text":"\nScript SQL completo con:","range":{"startLineNumber":258,"startColumn":1,"endLineNumber":258,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2420,"edits":[{"text":"\n- ALTER TABLE para suppliers (19 campos nuevos)","range":{"startLineNumber":259,"startColumn":1,"endLineNumber":259,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2421,"edits":[{"text":"\n- ALTER TABLE para supplier_invoices (10 campos nuevos)","range":{"startLineNumber":260,"startColumn":1,"endLineNumber":260,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2422,"edits":[{"text":"\n- CREATE TABLE para 4 nuevas tablas","range":{"startLineNumber":261,"startColumn":1,"endLineNumber":261,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2423,"edits":[{"text":"\n- Migración de datos existentes","range":{"startLineNumber":262,"startColumn":1,"endLineNumber":262,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2424,"edits":[{"text":"\n- Actualización de facturas vencidas","range":{"startLineNumber":263,"startColumn":1,"endLineNumber":263,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2425,"edits":[{"text":"\n","range":{"startLineNumber":264,"startColumn":1,"endLineNumber":264,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2426,"edits":[{"text":"\n### ✅ `apply_supplier_migration.sh`","range":{"startLineNumber":265,"startColumn":1,"endLineNumber":265,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2427,"edits":[{"text":"\nScript bash automatizado:","range":{"startLineNumber":266,"startColumn":1,"endLineNumber":266,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2428,"edits":[{"text":"\n- ✓ Crea backup automático antes de migrar","range":{"startLineNumber":267,"startColumn":1,"endLineNumber":267,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2429,"edits":[{"text":"\n- ✓ Solicita credenciales de MySQL","range":{"startLineNumber":268,"startColumn":1,"endLineNumber":268,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2430,"edits":[{"text":"\n- ✓ Aplica migración con verificación","range":{"startLineNumber":269,"startColumn":1,"endLineNumber":269,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2431,"edits":[{"text":"\n- ✓ Muestra resultado con colores","range":{"startLineNumber":270,"startColumn":1,"endLineNumber":270,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2432,"edits":[{"text":"\n- ✓ Instrucciones de rollback si falla","range":{"startLineNumber":271,"startColumn":1,"endLineNumber":271,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2433,"edits":[{"text":"\n","range":{"startLineNumber":272,"startColumn":1,"endLineNumber":272,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2434,"edits":[{"text":"\n---","range":{"startLineNumber":273,"startColumn":1,"endLineNumber":273,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2435,"edits":[{"text":"\n","range":{"startLineNumber":274,"startColumn":1,"endLineNumber":274,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2436,"edits":[{"text":"\n## 📚 Documentación","range":{"startLineNumber":275,"startColumn":1,"endLineNumber":275,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2437,"edits":[{"text":"\n","range":{"startLineNumber":276,"startColumn":1,"endLineNumber":276,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2438,"edits":[{"text":"\n### ✅ `SUPPLIER_MODULE.md` (Técnica)","range":{"startLineNumber":277,"startColumn":1,"endLineNumber":277,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2439,"edits":[{"text":"\n**48 secciones** incluyendo:","range":{"startLineNumber":278,"startColumn":1,"endLineNumber":278,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2440,"edits":[{"text":"\n- Arquitectura completa","range":{"startLineNumber":279,"startColumn":1,"endLineNumber":279,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2441,"edits":[{"text":"\n- Modelo de datos detallado","range":{"startLineNumber":280,"startColumn":1,"endLineNumber":280,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2442,"edits":[{"text":"\n- Integración contable paso a paso","range":{"startLineNumber":281,"startColumn":1,"endLineNumber":281,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2443,"edits":[{"text":"\n- Integración con gestor documental","range":{"startLineNumber":282,"startColumn":1,"endLineNumber":282,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2444,"edits":[{"text":"\n- Flujos de trabajo","range":{"startLineNumber":283,"startColumn":1,"endLineNumber":283,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2445,"edits":[{"text":"\n- API y endpoints","range":{"startLineNumber":284,"startColumn":1,"endLineNumber":284,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2446,"edits":[{"text":"\n- Guía de migración","range":{"startLineNumber":285,"startColumn":1,"endLineNumber":285,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2447,"edits":[{"text":"\n","range":{"startLineNumber":286,"startColumn":1,"endLineNumber":286,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2448,"edits":[{"text":"\n### ✅ `SUPPLIER_IMPLEMENTATION.md` (Práctica)","range":{"startLineNumber":287,"startColumn":1,"endLineNumber":287,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2449,"edits":[{"text":"\n**Guía de implementación** con:","range":{"startLineNumber":288,"startColumn":1,"endLineNumber":288,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2450,"edits":[{"text":"\n- Checklist paso a paso","range":{"startLineNumber":289,"startColumn":1,"endLineNumber":289,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2451,"edits":[{"text":"\n- Ejemplos de código","range":{"startLineNumber":290,"startColumn":1,"endLineNumber":290,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2452,"edits":[{"text":"\n- Troubleshooting","range":{"startLineNumber":291,"startColumn":1,"endLineNumber":291,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2453,"edits":[{"text":"\n- Flujo de trabajo recomendado","range":{"startLineNumber":292,"startColumn":1,"endLineNumber":292,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2454,"edits":[{"text":"\n- Nuevas funcionalidades","range":{"startLineNumber":293,"startColumn":1,"endLineNumber":293,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2455,"edits":[{"text":"\n- Próximos pasos","range":{"startLineNumber":294,"startColumn":1,"endLineNumber":294,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2456,"edits":[{"text":"\n","range":{"startLineNumber":295,"startColumn":1,"endLineNumber":295,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2457,"edits":[{"text":"\n---","range":{"startLineNumber":296,"startColumn":1,"endLineNumber":296,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2458,"edits":[{"text":"\n","range":{"startLineNumber":297,"startColumn":1,"endLineNumber":297,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2459,"edits":[{"text":"\n## 🎨 Nuevas Funcionalidades","range":{"startLineNumber":298,"startColumn":1,"endLineNumber":298,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2460,"edits":[{"text":"\n","range":{"startLineNumber":299,"startColumn":1,"endLineNumber":299,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2461,"edits":[{"text":"\n### ✅ Gestión Profesional de Proveedores","range":{"startLineNumber":300,"startColumn":1,"endLineNumber":300,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2462,"edits":[{"text":"\n```","range":{"startLineNumber":301,"startColumn":1,"endLineNumber":301,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2463,"edits":[{"text":"\nANTES: Nombre, CIF, Email, Teléfono, Dirección, Logo","range":{"startLineNumber":302,"startColumn":1,"endLineNumber":302,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2464,"edits":[{"text":"\nAHORA: + 22 campos profesionales más","range":{"startLineNumber":303,"startColumn":1,"endLineNumber":303,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2465,"edits":[{"text":"\n```","range":{"startLineNumber":304,"startColumn":1,"endLineNumber":304,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2466,"edits":[{"text":"\n","range":{"startLineNumber":305,"startColumn":1,"endLineNumber":305,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2467,"edits":[{"text":"\n### ✅ Sistema de Contactos Múltiples","range":{"startLineNumber":306,"startColumn":1,"endLineNumber":306,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2468,"edits":[{"text":"\n```","range":{"startLineNumber":307,"startColumn":1,"endLineNumber":307,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2469,"edits":[{"text":"\nUn proveedor puede tener:","range":{"startLineNumber":308,"startColumn":1,"endLineNumber":308,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2470,"edits":[{"text":"\n- Contacto comercial","range":{"startLineNumber":309,"startColumn":1,"endLineNumber":309,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2471,"edits":[{"text":"\n- Contacto de facturación","range":{"startLineNumber":310,"startColumn":1,"endLineNumber":310,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2472,"edits":[{"text":"\n- Contacto técnico","range":{"startLineNumber":311,"startColumn":1,"endLineNumber":311,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2473,"edits":[{"text":"\n- etc.","range":{"startLineNumber":312,"startColumn":1,"endLineNumber":312,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2474,"edits":[{"text":"\n```","range":{"startLineNumber":313,"startColumn":1,"endLineNumber":313,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2475,"edits":[{"text":"\n","range":{"startLineNumber":314,"startColumn":1,"endLineNumber":314,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2476,"edits":[{"text":"\n### ✅ Gestión Documental Completa","range":{"startLineNumber":315,"startColumn":1,"endLineNumber":315,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2477,"edits":[{"text":"\n```","range":{"startLineNumber":316,"startColumn":1,"endLineNumber":316,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2478,"edits":[{"text":"\nTipos de documentos:","range":{"startLineNumber":317,"startColumn":1,"endLineNumber":317,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2479,"edits":[{"text":"\n- Contratos","range":{"startLineNumber":318,"startColumn":1,"endLineNumber":318,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2480,"edits":[{"text":"\n- Certificados","range":{"startLineNumber":319,"startColumn":1,"endLineNumber":319,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2481,"edits":[{"text":"\n- Seguros","range":{"startLineNumber":320,"startColumn":1,"endLineNumber":320,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2482,"edits":[{"text":"\n- Licencias","range":{"startLineNumber":321,"startColumn":1,"endLineNumber":321,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2483,"edits":[{"text":"\n- Otros","range":{"startLineNumber":322,"startColumn":1,"endLineNumber":322,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2484,"edits":[{"text":"\n","range":{"startLineNumber":323,"startColumn":1,"endLineNumber":323,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2485,"edits":[{"text":"\nCon alertas automáticas de caducidad!","range":{"startLineNumber":324,"startColumn":1,"endLineNumber":324,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2486,"edits":[{"text":"\n```","range":{"startLineNumber":325,"startColumn":1,"endLineNumber":325,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2487,"edits":[{"text":"\n","range":{"startLineNumber":326,"startColumn":1,"endLineNumber":326,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2488,"edits":[{"text":"\n### ✅ Órdenes de Compra","range":{"startLineNumber":327,"startColumn":1,"endLineNumber":327,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2489,"edits":[{"text":"\n```","range":{"startLineNumber":328,"startColumn":1,"endLineNumber":328,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2490,"edits":[{"text":"\nFlujo: draft → sent → confirmed → received","range":{"startLineNumber":329,"startColumn":1,"endLineNumber":329,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2491,"edits":[{"text":"\nCon aprobación y seguimiento","range":{"startLineNumber":330,"startColumn":1,"endLineNumber":330,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2492,"edits":[{"text":"\n```","range":{"startLineNumber":331,"startColumn":1,"endLineNumber":331,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2493,"edits":[{"text":"\n","range":{"startLineNumber":332,"startColumn":1,"endLineNumber":332,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2494,"edits":[{"text":"\n### ✅ Facturas Profesionales","range":{"startLineNumber":333,"startColumn":1,"endLineNumber":333,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2495,"edits":[{"text":"\n```","range":{"startLineNumber":334,"startColumn":1,"endLineNumber":334,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2496,"edits":[{"text":"\nDesglose completo:","range":{"startLineNumber":335,"startColumn":1,"endLineNumber":335,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2497,"edits":[{"text":"\n- Subtotal (base imponible)","range":{"startLineNumber":336,"startColumn":1,"endLineNumber":336,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2498,"edits":[{"text":"\n- IVA (tax_amount)","range":{"startLineNumber":337,"startColumn":1,"endLineNumber":337,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2499,"edits":[{"text":"\n- Descuentos","range":{"startLineNumber":338,"startColumn":1,"endLineNumber":338,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2500,"edits":[{"text":"\n- Total","range":{"startLineNumber":339,"startColumn":1,"endLineNumber":339,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2501,"edits":[{"text":"\n","range":{"startLineNumber":340,"startColumn":1,"endLineNumber":340,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2502,"edits":[{"text":"\nEstados: pending → paid | overdue","range":{"startLineNumber":341,"startColumn":1,"endLineNumber":341,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2503,"edits":[{"text":"\n```","range":{"startLineNumber":342,"startColumn":1,"endLineNumber":342,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2504,"edits":[{"text":"\n","range":{"startLineNumber":343,"startColumn":1,"endLineNumber":343,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2505,"edits":[{"text":"\n### ✅ Alertas Automáticas","range":{"startLineNumber":344,"startColumn":1,"endLineNumber":344,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2506,"edits":[{"text":"\n```","range":{"startLineNumber":345,"startColumn":1,"endLineNumber":345,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2507,"edits":[{"text":"\n✓ Facturas vencidas (overdue)","range":{"startLineNumber":346,"startColumn":1,"endLineNumber":346,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2508,"edits":[{"text":"\n✓ Documentos próximos a caducar (30 días)","range":{"startLineNumber":347,"startColumn":1,"endLineNumber":347,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2509,"edits":[{"text":"\n✓ Documentos ya caducados","range":{"startLineNumber":348,"startColumn":1,"endLineNumber":348,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2510,"edits":[{"text":"\n```","range":{"startLineNumber":349,"startColumn":1,"endLineNumber":349,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2511,"edits":[{"text":"\n","range":{"startLineNumber":350,"startColumn":1,"endLineNumber":350,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2512,"edits":[{"text":"\n### ✅ Estadísticas Avanzadas","range":{"startLineNumber":351,"startColumn":1,"endLineNumber":351,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2513,"edits":[{"text":"\n```","range":{"startLineNumber":352,"startColumn":1,"endLineNumber":352,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2514,"edits":[{"text":"\n✓ Total gastado por año","range":{"startLineNumber":353,"startColumn":1,"endLineNumber":353,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2515,"edits":[{"text":"\n✓ Facturas pendientes","range":{"startLineNumber":354,"startColumn":1,"endLineNumber":354,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2516,"edits":[{"text":"\n✓ Top proveedores","range":{"startLineNumber":355,"startColumn":1,"endLineNumber":355,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2517,"edits":[{"text":"\n✓ Estadísticas mensuales","range":{"startLineNumber":356,"startColumn":1,"endLineNumber":356,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2518,"edits":[{"text":"\n✓ Análisis por categoría","range":{"startLineNumber":357,"startColumn":1,"endLineNumber":357,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2519,"edits":[{"text":"\n```","range":{"startLineNumber":358,"startColumn":1,"endLineNumber":358,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2520,"edits":[{"text":"\n","range":{"startLineNumber":359,"startColumn":1,"endLineNumber":359,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2521,"edits":[{"text":"\n---","range":{"startLineNumber":360,"startColumn":1,"endLineNumber":360,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2522,"edits":[{"text":"\n","range":{"startLineNumber":361,"startColumn":1,"endLineNumber":361,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2523,"edits":[{"text":"\n## 📈 Mejoras en Seguridad","range":{"startLineNumber":362,"startColumn":1,"endLineNumber":362,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2524,"edits":[{"text":"\n","range":{"startLineNumber":363,"startColumn":1,"endLineNumber":363,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2525,"edits":[{"text":"\n### ✅ Validación de Archivos","range":{"startLineNumber":364,"startColumn":1,"endLineNumber":364,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2526,"edits":[{"text":"\n```php","range":{"startLineNumber":365,"startColumn":1,"endLineNumber":365,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2527,"edits":[{"text":"\n✓ Validación de extensión","range":{"startLineNumber":366,"startColumn":1,"endLineNumber":366,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2528,"edits":[{"text":"\n✓ Validación de MIME type con finfo","range":{"startLineNumber":367,"startColumn":1,"endLineNumber":367,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2529,"edits":[{"text":"\n✓ Límite de tamaño (5MB logos, 10MB facturas)","range":{"startLineNumber":368,"startColumn":1,"endLineNumber":368,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2530,"edits":[{"text":"\n✓ Nombres únicos con uniqid() + random_bytes()","range":{"startLineNumber":369,"startColumn":1,"endLineNumber":369,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2531,"edits":[{"text":"\n```","range":{"startLineNumber":370,"startColumn":1,"endLineNumber":370,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2532,"edits":[{"text":"\n","range":{"startLineNumber":371,"startColumn":1,"endLineNumber":371,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2533,"edits":[{"text":"\n### ✅ Sanitización de Datos","range":{"startLineNumber":372,"startColumn":1,"endLineNumber":372,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2534,"edits":[{"text":"\n```php","range":{"startLineNumber":373,"startColumn":1,"endLineNumber":373,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2535,"edits":[{"text":"\n✓ htmlspecialchars() en todos los inputs","range":{"startLineNumber":374,"startColumn":1,"endLineNumber":374,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2536,"edits":[{"text":"\n✓ strip_tags() para evitar XSS","range":{"startLineNumber":375,"startColumn":1,"endLineNumber":375,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2537,"edits":[{"text":"\n✓ Validación de tipos (intval, floatval)","range":{"startLineNumber":376,"startColumn":1,"endLineNumber":376,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2538,"edits":[{"text":"\n✓ Prepared statements en todas las consultas","range":{"startLineNumber":377,"startColumn":1,"endLineNumber":377,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2539,"edits":[{"text":"\n```","range":{"startLineNumber":378,"startColumn":1,"endLineNumber":378,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2540,"edits":[{"text":"\n","range":{"startLineNumber":379,"startColumn":1,"endLineNumber":379,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2541,"edits":[{"text":"\n### ✅ CSRF Protection","range":{"startLineNumber":380,"startColumn":1,"endLineNumber":380,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2542,"edits":[{"text":"\n```php","range":{"startLineNumber":381,"startColumn":1,"endLineNumber":381,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2543,"edits":[{"text":"\n✓ CsrfHelper::validateRequest() en todas las operaciones POST","range":{"startLineNumber":382,"startColumn":1,"endLineNumber":382,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2544,"edits":[{"text":"\n✓ Tokens únicos por sesión","range":{"startLineNumber":383,"startColumn":1,"endLineNumber":383,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2545,"edits":[{"text":"\n```","range":{"startLineNumber":384,"startColumn":1,"endLineNumber":384,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2546,"edits":[{"text":"\n","range":{"startLineNumber":385,"startColumn":1,"endLineNumber":385,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2547,"edits":[{"text":"\n---","range":{"startLineNumber":386,"startColumn":1,"endLineNumber":386,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2548,"edits":[{"text":"\n","range":{"startLineNumber":387,"startColumn":1,"endLineNumber":387,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2549,"edits":[{"text":"\n## 🔄 Migración Automática de Datos","range":{"startLineNumber":388,"startColumn":1,"endLineNumber":388,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2550,"edits":[{"text":"\n","range":{"startLineNumber":389,"startColumn":1,"endLineNumber":389,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2551,"edits":[{"text":"\nEl script de migración:","range":{"startLineNumber":390,"startColumn":1,"endLineNumber":390,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2552,"edits":[{"text":"\n","range":{"startLineNumber":391,"startColumn":1,"endLineNumber":391,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2553,"edits":[{"text":"\n### ✅ Preserva Datos Existentes","range":{"startLineNumber":392,"startColumn":1,"endLineNumber":392,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2554,"edits":[{"text":"\n```sql","range":{"startLineNumber":393,"startColumn":1,"endLineNumber":393,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2555,"edits":[{"text":"\n✓ Proveedores actuales mantienen todos sus datos","range":{"startLineNumber":394,"startColumn":1,"endLineNumber":394,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2556,"edits":[{"text":"\n✓ Facturas actuales mantienen toda su información","range":{"startLineNumber":395,"startColumn":1,"endLineNumber":395,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2557,"edits":[{"text":"\n✓ Solo se AÑADEN campos nuevos","range":{"startLineNumber":396,"startColumn":1,"endLineNumber":396,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2558,"edits":[{"text":"\n```","range":{"startLineNumber":397,"startColumn":1,"endLineNumber":397,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2559,"edits":[{"text":"\n","range":{"startLineNumber":398,"startColumn":1,"endLineNumber":398,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2560,"edits":[{"text":"\n### ✅ Calcula Valores","range":{"startLineNumber":399,"startColumn":1,"endLineNumber":399,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2561,"edits":[{"text":"\n```sql","range":{"startLineNumber":400,"startColumn":1,"endLineNumber":400,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2562,"edits":[{"text":"\n✓ due_date = invoice_date + payment_terms días","range":{"startLineNumber":401,"startColumn":1,"endLineNumber":401,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2563,"edits":[{"text":"\n✓ subtotal = amount / 1.21 (asumiendo 21% IVA)","range":{"startLineNumber":402,"startColumn":1,"endLineNumber":402,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2564,"edits":[{"text":"\n✓ tax_amount = amount - subtotal","range":{"startLineNumber":403,"startColumn":1,"endLineNumber":403,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2565,"edits":[{"text":"\n```","range":{"startLineNumber":404,"startColumn":1,"endLineNumber":404,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2566,"edits":[{"text":"\n","range":{"startLineNumber":405,"startColumn":1,"endLineNumber":405,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2567,"edits":[{"text":"\n### ✅ Actualiza Estados","range":{"startLineNumber":406,"startColumn":1,"endLineNumber":406,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2568,"edits":[{"text":"\n```sql","range":{"startLineNumber":407,"startColumn":1,"endLineNumber":407,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2569,"edits":[{"text":"\n✓ Facturas vencidas → status = 'overdue'","range":{"startLineNumber":408,"startColumn":1,"endLineNumber":408,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2570,"edits":[{"text":"\n✓ Documentos caducados → status = 'caducado'","range":{"startLineNumber":409,"startColumn":1,"endLineNumber":409,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2571,"edits":[{"text":"\n```","range":{"startLineNumber":410,"startColumn":1,"endLineNumber":410,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2572,"edits":[{"text":"\n","range":{"startLineNumber":411,"startColumn":1,"endLineNumber":411,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2573,"edits":[{"text":"\n### ✅ Crea Contactos Iniciales","range":{"startLineNumber":412,"startColumn":1,"endLineNumber":412,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2574,"edits":[{"text":"\n```sql","range":{"startLineNumber":413,"startColumn":1,"endLineNumber":413,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2575,"edits":[{"text":"\n✓ Migra datos de contacto de suppliers a supplier_contacts","range":{"startLineNumber":414,"startColumn":1,"endLineNumber":414,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2576,"edits":[{"text":"\n✓ Marca como contacto principal automáticamente","range":{"startLineNumber":415,"startColumn":1,"endLineNumber":415,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2577,"edits":[{"text":"\n```","range":{"startLineNumber":416,"startColumn":1,"endLineNumber":416,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2578,"edits":[{"text":"\n","range":{"startLineNumber":417,"startColumn":1,"endLineNumber":417,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2579,"edits":[{"text":"\n---","range":{"startLineNumber":418,"startColumn":1,"endLineNumber":418,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2580,"edits":[{"text":"\n","range":{"startLineNumber":419,"startColumn":1,"endLineNumber":419,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2581,"edits":[{"text":"\n## ✅ Resumen Final","range":{"startLineNumber":420,"startColumn":1,"endLineNumber":420,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2582,"edits":[{"text":"\n","range":{"startLineNumber":421,"startColumn":1,"endLineNumber":421,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2583,"edits":[{"text":"\n### Tablas de Base de Datos","range":{"startLineNumber":422,"startColumn":1,"endLineNumber":422,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2584,"edits":[{"text":"\n- ✅ 1 tabla actualizada (suppliers)","range":{"startLineNumber":423,"startColumn":1,"endLineNumber":423,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2585,"edits":[{"text":"\n- ✅ 1 tabla mejorada (supplier_invoices)","range":{"startLineNumber":424,"startColumn":1,"endLineNumber":424,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2586,"edits":[{"text":"\n- ✅ 4 tablas nuevas (contacts, documents, orders, order_lines)","range":{"startLineNumber":425,"startColumn":1,"endLineNumber":425,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2587,"edits":[{"text":"\n","range":{"startLineNumber":426,"startColumn":1,"endLineNumber":426,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2588,"edits":[{"text":"\n### Modelos PHP","range":{"startLineNumber":427,"startColumn":1,"endLineNumber":427,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2589,"edits":[{"text":"\n- ✅ 2 modelos actualizados","range":{"startLineNumber":428,"startColumn":1,"endLineNumber":428,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2590,"edits":[{"text":"\n- ✅ 4 modelos nuevos","range":{"startLineNumber":429,"startColumn":1,"endLineNumber":429,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2591,"edits":[{"text":"\n","range":{"startLineNumber":430,"startColumn":1,"endLineNumber":430,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2592,"edits":[{"text":"\n### Archivos de Migración","range":{"startLineNumber":431,"startColumn":1,"endLineNumber":431,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2593,"edits":[{"text":"\n- ✅ 1 script SQL completo","range":{"startLineNumber":432,"startColumn":1,"endLineNumber":432,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2594,"edits":[{"text":"\n- ✅ 1 script bash automatizado","range":{"startLineNumber":433,"startColumn":1,"endLineNumber":433,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2595,"edits":[{"text":"\n","range":{"startLineNumber":434,"startColumn":1,"endLineNumber":434,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2596,"edits":[{"text":"\n### Documentación","range":{"startLineNumber":435,"startColumn":1,"endLineNumber":435,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2597,"edits":[{"text":"\n- ✅ 1 guía técnica completa (SUPPLIER_MODULE.md)","range":{"startLineNumber":436,"startColumn":1,"endLineNumber":436,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2598,"edits":[{"text":"\n- ✅ 1 guía de implementación (SUPPLIER_IMPLEMENTATION.md)","range":{"startLineNumber":437,"startColumn":1,"endLineNumber":437,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2599,"edits":[{"text":"\n- ✅ 1 resumen visual (este archivo)","range":{"startLineNumber":438,"startColumn":1,"endLineNumber":438,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2600,"edits":[{"text":"\n","range":{"startLineNumber":439,"startColumn":1,"endLineNumber":439,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2601,"edits":[{"text":"\n### Integración","range":{"startLineNumber":440,"startColumn":1,"endLineNumber":440,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2602,"edits":[{"text":"\n- ✅ Contabilidad: 100% automática","range":{"startLineNumber":441,"startColumn":1,"endLineNumber":441,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2603,"edits":[{"text":"\n- ✅ Gestor Documental: 100% integrado","range":{"startLineNumber":442,"startColumn":1,"endLineNumber":442,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2604,"edits":[{"text":"\n- ✅ Sistema de Alertas: Implementado","range":{"startLineNumber":443,"startColumn":1,"endLineNumber":443,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2605,"edits":[{"text":"\n","range":{"startLineNumber":444,"startColumn":1,"endLineNumber":444,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2606,"edits":[{"text":"\n---","range":{"startLineNumber":445,"startColumn":1,"endLineNumber":445,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2607,"edits":[{"text":"\n","range":{"startLineNumber":446,"startColumn":1,"endLineNumber":446,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2608,"edits":[{"text":"\n## 🚀 Próximos Pasos","range":{"startLineNumber":447,"startColumn":1,"endLineNumber":447,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2609,"edits":[{"text":"\n","range":{"startLineNumber":448,"startColumn":1,"endLineNumber":448,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2610,"edits":[{"text":"\n1. **Aplicar migración**","range":{"startLineNumber":449,"startColumn":1,"endLineNumber":449,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2611,"edits":[{"text":"\n   ```bash","range":{"startLineNumber":450,"startColumn":1,"endLineNumber":450,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2612,"edits":[{"text":"\n   ./database/migrations/apply_supplier_migration.sh","range":{"startLineNumber":451,"startColumn":1,"endLineNumber":451,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2613,"edits":[{"text":"\n   ```","range":{"startLineNumber":452,"startColumn":1,"endLineNumber":452,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2614,"edits":[{"text":"\n","range":{"startLineNumber":453,"startColumn":1,"endLineNumber":453,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2615,"edits":[{"text":"\n2. **Actualizar controlador y vistas**","range":{"startLineNumber":454,"startColumn":1,"endLineNumber":454,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2616,"edits":[{"text":"\n   - Añadir campos nuevos a formularios","range":{"startLineNumber":455,"startColumn":1,"endLineNumber":455,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2617,"edits":[{"text":"\n   - Crear vistas para contactos","range":{"startLineNumber":456,"startColumn":1,"endLineNumber":456,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2618,"edits":[{"text":"\n   - Crear vistas para documentos","range":{"startLineNumber":457,"startColumn":1,"endLineNumber":457,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2619,"edits":[{"text":"\n   - Crear vistas para órdenes","range":{"startLineNumber":458,"startColumn":1,"endLineNumber":458,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2620,"edits":[{"text":"\n","range":{"startLineNumber":459,"startColumn":1,"endLineNumber":459,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2621,"edits":[{"text":"\n3. **Probar funcionalidad**","range":{"startLineNumber":460,"startColumn":1,"endLineNumber":460,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2622,"edits":[{"text":"\n   - Crear proveedor con todos los campos","range":{"startLineNumber":461,"startColumn":1,"endLineNumber":461,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2623,"edits":[{"text":"\n   - Subir factura y marcar como pagada","range":{"startLineNumber":462,"startColumn":1,"endLineNumber":462,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2624,"edits":[{"text":"\n   - Verificar asiento contable","range":{"startLineNumber":463,"startColumn":1,"endLineNumber":463,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2625,"edits":[{"text":"\n   - Añadir contactos","range":{"startLineNumber":464,"startColumn":1,"endLineNumber":464,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2626,"edits":[{"text":"\n   - Subir documentos","range":{"startLineNumber":465,"startColumn":1,"endLineNumber":465,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2627,"edits":[{"text":"\n","range":{"startLineNumber":466,"startColumn":1,"endLineNumber":466,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2628,"edits":[{"text":"\n4. **Implementar alertas**","range":{"startLineNumber":467,"startColumn":1,"endLineNumber":467,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2629,"edits":[{"text":"\n   - Cron job para documentos caducados","range":{"startLineNumber":468,"startColumn":1,"endLineNumber":468,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2630,"edits":[{"text":"\n   - Notificaciones de facturas vencidas","range":{"startLineNumber":469,"startColumn":1,"endLineNumber":469,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2631,"edits":[{"text":"\n","range":{"startLineNumber":470,"startColumn":1,"endLineNumber":470,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2632,"edits":[{"text":"\n---","range":{"startLineNumber":471,"startColumn":1,"endLineNumber":471,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2633,"edits":[{"text":"\n","range":{"startLineNumber":472,"startColumn":1,"endLineNumber":472,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2634,"edits":[{"text":"\n**🎉 ¡Módulo de Proveedores Profesionalizado!**","range":{"startLineNumber":473,"startColumn":1,"endLineNumber":473,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2635,"edits":[{"text":"\n","range":{"startLineNumber":474,"startColumn":1,"endLineNumber":474,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2636,"edits":[{"text":"\n---","range":{"startLineNumber":475,"startColumn":1,"endLineNumber":475,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2637,"edits":[{"text":"\n","range":{"startLineNumber":476,"startColumn":1,"endLineNumber":476,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2638,"edits":[{"text":"\n_Fecha: 3 de diciembre de 2025_  ","range":{"startLineNumber":477,"startColumn":1,"endLineNumber":477,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2639,"edits":[{"text":"\n_Versión: 2.0 Professional_","range":{"startLineNumber":478,"startColumn":1,"endLineNumber":478,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","external":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","path":"/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","scheme":"file"},"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","epoch":2640,"edits":[{"text":"\n","range":{"startLineNumber":479,"startColumn":1,"endLineNumber":479,"endColumn":1}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Views/members/list.php","external":"file:///root/Documentos/github/GestionSocios/src/Views/members/list.php","path":"/root/Documentos/github/GestionSocios/src/Views/members/list.php","scheme":"file"},"requestId":"request_fa5d389a-11a8-42ed-8260-fd2ccd840977","epoch":2646,"edits":[{"text":"                                <?php if (empty($row['has_paid_current_year'])): ?>\n                                <?php\n                                // Obtener la cuota correcta para este socio según su categoría\n                                $memberFeeAmount = $feeAmount; // Default\n                                if (!empty($row['category_id'])) {\n                                    $feeStmt = $GLOBALS['db']->prepare(\"SELECT amount FROM category_fee_history WHERE category_id = ? AND year = ?\");\n                                    $feeStmt->execute([$row['category_id'], $currentYear]);\n                                    $categoryFee = $feeStmt->fetch(PDO::FETCH_ASSOC);\n                                    if ($categoryFee) {\n                                        $memberFeeAmount = $categoryFee['amount'];\n                                    }\n                                }\n                                ?>\n                                <a href=\"index.php?page=members&action=markPaid&id=<?php echo $row['id']; ?>\"\n                                   class=\"btn btn-sm btn-primary\"\n                                   onclick=\"return confirm('¿Marcar la cuota de <?php echo $currentYear; ?> como pagada para este socio?\\nImporte: <?php echo number_format($memberFeeAmount, 2); ?> €\\nConcepto: <?php echo $feeConcept; ?>');\">\n                                    <i class=\"fas fa-check\"></i> Marcar como Pagado\n                                </a>\n                                <?php else: ?>","range":{"startLineNumber":226,"startColumn":1,"endLineNumber":232,"endColumn":47}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Views/members/list.php","external":"file:///root/Documentos/github/GestionSocios/src/Views/members/list.php","path":"/root/Documentos/github/GestionSocios/src/Views/members/list.php","scheme":"file"},"requestId":"request_879e9a22-7b9b-4c1f-9488-b77d43ff55d5","epoch":2651,"edits":[{"text":"                                <?php if (empty($row['has_paid_current_year'])): \n                                // Obtener la cuota correcta para este socio según su categoría\n                                $memberFeeAmount = $feeAmount; // Default\n                                if (!empty($row['category_id'])) {\n                                    try {\n                                        $categoryFeeStmt = $GLOBALS['db']->prepare(\"SELECT amount FROM category_fee_history WHERE category_id = ? AND year = ?\");\n                                        $categoryFeeStmt->execute([$row['category_id'], $currentYear]);\n                                        $categoryFee = $categoryFeeStmt->fetch(PDO::FETCH_ASSOC);\n                                        if ($categoryFee) {\n                                            $memberFeeAmount = $categoryFee['amount'];\n                                        }\n                                    } catch (Exception $e) {\n                                        // Si falla, usar cuota por defecto\n                                    }\n                                }\n                                ?>\n                                <a href=\"index.php?page=members&action=markPaid&id=<?php echo $row['id']; ?>\"\n                                   class=\"btn btn-sm btn-primary\"\n                                   onclick=\"return confirm('¿Marcar la cuota de <?php echo $currentYear; ?> como pagada para este socio?\\nImporte: <?php echo number_format($memberFeeAmount, 2); ?> €\\nConcepto: <?php echo $feeConcept; ?>');\">\n                                    <i class=\"fas fa-check\"></i> Marcar como Pagado\n                                </a>\n                                <?php else: ?>","range":{"startLineNumber":226,"startColumn":1,"endLineNumber":244,"endColumn":47}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Controllers/MemberController.php","external":"file:///root/Documentos/github/GestionSocios/src/Controllers/MemberController.php","path":"/root/Documentos/github/GestionSocios/src/Controllers/MemberController.php","scheme":"file"},"requestId":"request_c79809d6-e245-449c-aeec-2925f8368b5f","epoch":2656,"edits":[{"text":"    public function markPaid($id) {\n        $this->checkAdmin();\n        $currentYear = date('Y');\n        \n        // Obtener la categoría del socio\n        $memberStmt = $this->db->prepare(\"SELECT category_id FROM members WHERE id = ?\");\n        $memberStmt->execute([$id]);\n        $member = $memberStmt->fetch(PDO::FETCH_ASSOC);\n        \n        // Obtener la cuota correcta según la categoría del socio\n        $paymentAmount = 0;\n        if ($member && !empty($member['category_id'])) {\n            // Intentar obtener cuota específica de la categoría\n            $categoryFeeStmt = $this->db->prepare(\"SELECT amount FROM category_fee_history WHERE category_id = ? AND year = ?\");\n            $categoryFeeStmt->execute([$member['category_id'], $currentYear]);\n            $categoryFee = $categoryFeeStmt->fetch(PDO::FETCH_ASSOC);\n            if ($categoryFee) {\n                $paymentAmount = $categoryFee['amount'];\n            }\n        }\n        \n        // Si no hay cuota de categoría, usar cuota por defecto\n        if ($paymentAmount == 0) {\n            $feeStmt = $this->db->prepare(\"SELECT amount FROM annual_fees WHERE year = ?\");\n            $feeStmt->execute([$currentYear]);\n            $fee = $feeStmt->fetch(PDO::FETCH_ASSOC);\n            if ($fee) {\n                $paymentAmount = $fee['amount'];\n            }\n        }\n        \n        if ($paymentAmount == 0) {\n            $_SESSION['error'] = \"No hay cuota definida para el año $currentYear. Por favor, define la cuota en Configuración > Socios.\";\n            \n            // Preserve current filters\n            $redirectParams = [];\n            if (isset($_GET['filter'])) $redirectParams['filter'] = $_GET['filter'];\n            if (isset($_GET['category'])) $redirectParams['category'] = $_GET['category'];\n            if (isset($_GET['payment_status'])) $redirectParams['payment_status'] = $_GET['payment_status'];\n            if (isset($_GET['search'])) $redirectParams['search'] = $_GET['search'];\n            if (isset($_GET['year_from'])) $redirectParams['year_from'] = $_GET['year_from'];\n            if (isset($_GET['year_to'])) $redirectParams['year_to'] = $_GET['year_to'];\n            if (isset($_GET['p'])) $redirectParams['p'] = $_GET['p'];\n            \n            $queryString = !empty($redirectParams) ? '&' . http_build_query($redirectParams) : '';\n            header('Location: index.php?page=members' . $queryString);\n            exit;\n        }\n        \n        try {\n            // Check if payment already exists\n            $checkStmt = $this->db->prepare(\"SELECT id, status FROM payments WHERE member_id = ? AND fee_year = ? AND payment_type = 'fee'\");\n            $checkStmt->execute([$id, $currentYear]);\n            $existingPayment = $checkStmt->fetch(PDO::FETCH_ASSOC);\n            \n            $paymentId = null;\n            $paymentDate = date('Y-m-d');\n            $paymentConcept = \"Cuota Anual \" . $currentYear;","range":{"startLineNumber":364,"startColumn":1,"endLineNumber":399,"endColumn":61}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Controllers/MemberController.php","external":"file:///root/Documentos/github/GestionSocios/src/Controllers/MemberController.php","path":"/root/Documentos/github/GestionSocios/src/Controllers/MemberController.php","scheme":"file"},"requestId":"request_07765fb5-1bc4-46eb-b116-92349990c21c","epoch":2661,"edits":[{"text":"    public function markPaid($id) {\n        $this->checkAdmin();\n        $currentYear = date('Y');\n        \n        // Obtener la categoría del socio\n        $memberStmt = $this->db->prepare(\"SELECT category_id, first_name, last_name FROM members WHERE id = ?\");\n        $memberStmt->execute([$id]);\n        $member = $memberStmt->fetch(PDO::FETCH_ASSOC);\n        \n        if (!$member) {\n            $_SESSION['error'] = \"Socio no encontrado.\";\n            header('Location: index.php?page=members');\n            exit;\n        }\n        \n        // Obtener la cuota correcta según la categoría del socio\n        $paymentAmount = null;\n        if (!empty($member['category_id'])) {\n            // Intentar obtener cuota específica de la categoría\n            $categoryFeeStmt = $this->db->prepare(\"SELECT amount FROM category_fee_history WHERE category_id = ? AND year = ?\");\n            $categoryFeeStmt->execute([$member['category_id'], $currentYear]);\n            $categoryFee = $categoryFeeStmt->fetch(PDO::FETCH_ASSOC);\n            if ($categoryFee && isset($categoryFee['amount'])) {\n                $paymentAmount = floatval($categoryFee['amount']);\n            }\n        }\n        \n        // Si no hay cuota de categoría, usar cuota por defecto\n        if ($paymentAmount === null || $paymentAmount <= 0) {\n            $feeStmt = $this->db->prepare(\"SELECT amount FROM annual_fees WHERE year = ?\");\n            $feeStmt->execute([$currentYear]);\n            $fee = $feeStmt->fetch(PDO::FETCH_ASSOC);\n            if ($fee && isset($fee['amount'])) {\n                $paymentAmount = floatval($fee['amount']);\n            }\n        }\n        \n        if (!$paymentAmount || $paymentAmount <= 0) {\n            $_SESSION['error'] = \"No hay cuota definida para el año $currentYear. Por favor, define la cuota en Configuración > Cuotas Anuales.\";","range":{"startLineNumber":364,"startColumn":1,"endLineNumber":396,"endColumn":138}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Controllers/MemberController.php","external":"file:///root/Documentos/github/GestionSocios/src/Controllers/MemberController.php","path":"/root/Documentos/github/GestionSocios/src/Controllers/MemberController.php","scheme":"file"},"requestId":"request_4d417b6f-df61-4f23-9d1e-053cb3838bf2","epoch":2666,"edits":[{"text":"    public function markPaid($id) {\n        $this->checkAdmin();\n        $currentYear = date('Y');\n        \n        // Obtener la categoría del socio\n        $memberStmt = $this->db->prepare(\"SELECT category_id, first_name, last_name FROM members WHERE id = ?\");\n        $memberStmt->execute([$id]);\n        $member = $memberStmt->fetch(PDO::FETCH_ASSOC);\n        \n        if (!$member) {\n            $_SESSION['error'] = \"Socio no encontrado.\";\n            header('Location: index.php?page=members');\n            exit;\n        }\n        \n        // DEBUG: Log para ver qué categoría tiene el socio\n        error_log(\"DEBUG markPaid - Socio ID: $id, Categoría: \" . ($member['category_id'] ?? 'NULL'));\n        \n        // Obtener la cuota correcta según la categoría del socio\n        $paymentAmount = null;\n        if (!empty($member['category_id'])) {\n            // Intentar obtener cuota específica de la categoría\n            $categoryFeeStmt = $this->db->prepare(\"SELECT amount FROM category_fee_history WHERE category_id = ? AND year = ?\");\n            $categoryFeeStmt->execute([$member['category_id'], $currentYear]);\n            $categoryFee = $categoryFeeStmt->fetch(PDO::FETCH_ASSOC);\n            error_log(\"DEBUG markPaid - Consulta categoría: category_id={$member['category_id']}, year=$currentYear, resultado: \" . json_encode($categoryFee));\n            if ($categoryFee && isset($categoryFee['amount'])) {\n                $paymentAmount = floatval($categoryFee['amount']);\n                error_log(\"DEBUG markPaid - Cuota de categoría encontrada: $paymentAmount\");\n            }\n        }\n        \n        // Si no hay cuota de categoría, usar cuota por defecto\n        if ($paymentAmount === null || $paymentAmount <= 0) {\n            $feeStmt = $this->db->prepare(\"SELECT amount FROM annual_fees WHERE year = ?\");\n            $feeStmt->execute([$currentYear]);\n            $fee = $feeStmt->fetch(PDO::FETCH_ASSOC);\n            error_log(\"DEBUG markPaid - Consulta annual_fees: year=$currentYear, resultado: \" . json_encode($fee));\n            if ($fee && isset($fee['amount'])) {\n                $paymentAmount = floatval($fee['amount']);\n                error_log(\"DEBUG markPaid - Cuota por defecto encontrada: $paymentAmount\");\n            }\n        }\n        \n        error_log(\"DEBUG markPaid - Cuota final: \" . ($paymentAmount ?? 'NULL'));\n        \n        if (!$paymentAmount || $paymentAmount <= 0) {\n            $_SESSION['error'] = \"No hay cuota definida para el año $currentYear. Por favor, define la cuota en Configuración > Categorías.\";","range":{"startLineNumber":364,"startColumn":1,"endLineNumber":402,"endColumn":146}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Controllers/MemberController.php","external":"file:///root/Documentos/github/GestionSocios/src/Controllers/MemberController.php","path":"/root/Documentos/github/GestionSocios/src/Controllers/MemberController.php","scheme":"file"},"requestId":"request_39bbc355-b042-4bc7-a04b-9e8cf5eaec75","epoch":2672,"edits":[{"text":"        // Obtener la cuota correcta según la categoría del socio\n        $paymentAmount = null;\n        if (!empty($member['category_id'])) {\n            // Intentar obtener cuota específica de la categoría\n            $categoryFeeStmt = $this->db->prepare(\"SELECT fee_amount FROM category_fee_history WHERE category_id = ? AND year = ?\");\n            $categoryFeeStmt->execute([$member['category_id'], $currentYear]);\n            $categoryFee = $categoryFeeStmt->fetch(PDO::FETCH_ASSOC);\n            error_log(\"DEBUG markPaid - Consulta categoría: category_id={$member['category_id']}, year=$currentYear, resultado: \" . json_encode($categoryFee));\n            if ($categoryFee && isset($categoryFee['fee_amount'])) {\n                $paymentAmount = floatval($categoryFee['fee_amount']);\n                error_log(\"DEBUG markPaid - Cuota de categoría encontrada: $paymentAmount\");\n            }\n        }","range":{"startLineNumber":382,"startColumn":1,"endLineNumber":394,"endColumn":10}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Views/members/list.php","external":"file:///root/Documentos/github/GestionSocios/src/Views/members/list.php","path":"/root/Documentos/github/GestionSocios/src/Views/members/list.php","scheme":"file"},"requestId":"request_39bbc355-b042-4bc7-a04b-9e8cf5eaec75","epoch":2673,"edits":[{"text":"                                <?php if (empty($row['has_paid_current_year'])): \n                                // Obtener la cuota correcta para este socio según su categoría\n                                $memberFeeAmount = $feeAmount; // Default\n                                if (!empty($row['category_id'])) {\n                                    try {\n                                        $categoryFeeStmt = $GLOBALS['db']->prepare(\"SELECT fee_amount FROM category_fee_history WHERE category_id = ? AND year = ?\");\n                                        $categoryFeeStmt->execute([$row['category_id'], $currentYear]);\n                                        $categoryFee = $categoryFeeStmt->fetch(PDO::FETCH_ASSOC);\n                                        if ($categoryFee) {\n                                            $memberFeeAmount = $categoryFee['fee_amount'];\n                                        }\n                                    } catch (Exception $e) {\n                                        // Si falla, usar cuota por defecto\n                                    }\n                                }\n                                ?>","range":{"startLineNumber":226,"startColumn":1,"endLineNumber":241,"endColumn":35}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Views/members/create.php","external":"file:///root/Documentos/github/GestionSocios/src/Views/members/create.php","path":"/root/Documentos/github/GestionSocios/src/Views/members/create.php","scheme":"file"},"requestId":"request_1875dd0f-a3da-4469-8357-4bea81fd78a6","epoch":2677,"edits":[{"text":"        <div style=\"display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem; margin-bottom: 1.5rem;\">\n            <div class=\"form-group\" style=\"margin-bottom: 0;\">\n                <label class=\"form-label\">Teléfono</label>\n                <input type=\"text\" name=\"phone\" class=\"form-control\">\n            </div>\n            <div class=\"form-group\" style=\"margin-bottom: 0;\">\n                <label class=\"form-label\">Categoría</label>\n                <select name=\"category_id\" class=\"form-control\">\n                    <option value=\"\">Sin categoría</option>\n                    <?php \n                    if (isset($categories) && is_array($categories)):\n                        foreach ($categories as $cat): ?>\n                        <option value=\"<?php echo $cat['id']; ?>\">\n                            <?php echo htmlspecialchars($cat['name']); ?>\n                        </option>\n                    <?php \n                        endforeach;\n                    endif;\n                    ?>\n                </select>\n            </div>\n        </div>\n\n        <div class=\"form-group\">\n            <label class=\"form-label\">Dirección</label>\n            <textarea name=\"address\" id=\"address\" class=\"form-control\" rows=\"3\"></textarea>\n        </div>","range":{"startLineNumber":35,"startColumn":1,"endLineNumber":48,"endColumn":15}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Views/settings/index.php","external":"file:///root/Documentos/github/GestionSocios/src/Views/settings/index.php","path":"/root/Documentos/github/GestionSocios/src/Views/settings/index.php","scheme":"file"},"requestId":"request_1875dd0f-a3da-4469-8357-4bea81fd78a6","epoch":2680,"edits":[{"text":"                <!-- Default Annual Fee Section -->\n                <div style=\"display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem;\">\n                    <h2 class=\"section-title\" style=\"margin: 0;\">Cuota Anual por Defecto</h2>\n                </div>\n                \n                <div class=\"card\" style=\"margin-bottom: 2rem;\">\n                    <h3 class=\"text-md font-semibold mb-4\">Cuota para Socios sin Categoría</h3>\n                    <p style=\"color: var(--text-muted); margin-bottom: 1.5rem;\">\n                        Esta cuota se aplicará a los socios que <strong>no tengan una categoría asignada</strong> o cuya categoría no tenga cuota definida para el año.\n                    </p>\n                    \n                    <?php\n                    // Get current year default fee\n                    $currentYearFee = null;\n                    $currentYear = date('Y');\n                    try {\n                        $feeStmt = $GLOBALS['db']->prepare(\"SELECT amount FROM annual_fees WHERE year = ?\");\n                        $feeStmt->execute([$currentYear]);\n                        $currentYearFee = $feeStmt->fetch(PDO::FETCH_ASSOC);\n                    } catch (Exception $e) {}\n                    ?>\n                    \n                    <form action=\"index.php?page=fees&action=store\" method=\"POST\">\n                        <?php require_once __DIR__ . '/../../Helpers/CsrfHelper.php'; echo CsrfHelper::getTokenField(); ?>\n                        <div style=\"display: grid; grid-template-columns: 150px 200px auto; gap: 1rem; align-items: end;\">\n                            <div class=\"form-group\" style=\"margin: 0;\">\n                                <label class=\"form-label\">Año</label>\n                                <input type=\"number\" name=\"year\" class=\"form-control\" value=\"<?php echo $currentYear; ?>\" required min=\"2000\" max=\"2100\">\n                            </div>\n                            <div class=\"form-group\" style=\"margin: 0;\">\n                                <label class=\"form-label\">Importe (€)</label>\n                                <input type=\"number\" name=\"amount\" class=\"form-control\" step=\"0.01\" min=\"0\" \n                                       value=\"<?php echo $currentYearFee ? htmlspecialchars($currentYearFee['amount']) : ''; ?>\" \n                                       placeholder=\"Ej: 25.00\" required>\n                            </div>\n                            <button type=\"submit\" class=\"btn btn-primary\">\n                                <i class=\"fas fa-save\"></i> <?php echo $currentYearFee ? 'Actualizar' : 'Guardar'; ?> Cuota\n                            </button>\n                        </div>\n                    </form>\n                    \n                    <?php if ($currentYearFee): ?>\n                        <div style=\"margin-top: 1rem; padding: 1rem; background: var(--success-50); border: 1px solid var(--success-200); border-radius: 0.5rem;\">\n                            <i class=\"fas fa-check-circle\" style=\"color: var(--success-600);\"></i>\n                            <strong>Cuota actual para <?php echo $currentYear; ?>:</strong> \n                            <?php echo number_format($currentYearFee['amount'], 2); ?> €\n                        </div>\n                    <?php else: ?>\n                        <div style=\"margin-top: 1rem; padding: 1rem; background: var(--warning-50); border: 1px solid var(--warning-200); border-radius: 0.5rem;\">\n                            <i class=\"fas fa-exclamation-triangle\" style=\"color: var(--warning-600);\"></i>\n                            <strong>No hay cuota definida para <?php echo $currentYear; ?>.</strong>\n                            Los socios sin categoría no podrán ser cobrados hasta que definas una cuota.\n                        </div>\n                    <?php endif; ?>\n                </div>\n\n                <div style=\"display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem;\">\n                    <h2 class=\"section-title\" style=\"margin: 0;\">Categorías de Socios</h2>\n                    <a href=\"index.php?page=member_categories&action=create\" class=\"btn btn-primary\">\n                        <i class=\"fas fa-plus\"></i> Nueva Categoría\n                    </a>\n                </div>\n                \n                <!-- Categories List -->\n                <div class=\"categories-list\">","range":{"startLineNumber":732,"startColumn":1,"endLineNumber":740,"endColumn":46}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Views/accounting/reports/trial_balance.php","external":"file:///root/Documentos/github/GestionSocios/src/Views/accounting/reports/trial_balance.php","path":"/root/Documentos/github/GestionSocios/src/Views/accounting/reports/trial_balance.php","scheme":"file"},"requestId":"request_518088f2-fcfe-4f33-b9de-635f26d211bc","epoch":2684,"edits":[{"text":"<style>\n/* Report Card Container */\n.report-card {\n    background: white;\n    border-radius: 12px;\n    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n    margin-top: 2rem;\n    overflow: hidden;\n}\n\n.report-header {\n    padding: 2rem 2rem 1.5rem;\n    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n    color: white;\n    border-bottom: none;\n}\n\n.report-header h2 {\n    margin: 0 0 0.5rem 0;\n    font-size: 1.75rem;\n    font-weight: 700;\n    color: white;\n}\n\n.report-header p {\n    margin: 0;\n    color: rgba(255, 255, 255, 0.9);\n    font-size: 1rem;\n    font-weight: 500;\n}\n\n/* Table Styling */\n.table-responsive {\n    padding: 0;\n    overflow-x: auto;\n}\n\n.data-table {\n    width: 100%;\n    border-collapse: collapse;\n    font-size: 0.95rem;\n}\n\n.data-table thead {\n    background: #f8f9fa;\n    position: sticky;\n    top: 0;\n    z-index: 10;\n}\n\n.data-table thead th {\n    padding: 1rem;\n    font-weight: 600;\n    color: #374151;\n    text-transform: uppercase;\n    font-size: 0.85rem;\n    letter-spacing: 0.05em;\n    border-bottom: 2px solid #e5e7eb;\n}\n\n.data-table thead tr:first-child th {\n    background: #1f2937;\n    color: white;\n    border-bottom: 1px solid #374151;\n}\n\n.data-table thead tr:last-child th {\n    background: #374151;\n    color: white;\n}\n\n.data-table tbody td {\n    padding: 0.875rem 1rem;\n    border-bottom: 1px solid #e5e7eb;\n    color: #1f2937;\n}\n\n.data-table tbody tr {\n    transition: background-color 0.2s ease;\n}\n\n.data-table tbody tr:hover:not(.group-header) {\n    background-color: #f9fafb;\n}\n\n.data-table tbody tr:nth-child(even):not(.group-header) {\n    background-color: #fafbfc;\n}\n\n/* Group Headers */\n.group-header td {\n    background: linear-gradient(90deg, #3b82f6 0%, #2563eb 100%) !important;\n    color: white !important;\n    font-weight: 700;\n    padding: 1rem 1rem !important;\n    font-size: 1rem;\n    letter-spacing: 0.05em;\n    text-transform: uppercase;\n    border-bottom: 2px solid #1e40af !important;\n    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n}\n\n/* Account Type Colors */\n.data-table tbody tr:not(.group-header):hover {\n    box-shadow: inset 4px 0 0 #3b82f6;\n}\n\n/* Number Formatting */\n.text-right {\n    text-align: right;\n    font-variant-numeric: tabular-nums;\n    font-family: 'Courier New', monospace;\n    font-weight: 500;\n}\n\n.text-center {\n    text-align: center;\n}\n\n/* Footer Totals */\n.data-table tfoot {\n    background: #f8f9fa;\n    border-top: 3px solid #3b82f6;\n}\n\n.data-table tfoot tr:first-child {\n    background: linear-gradient(90deg, #1f2937 0%, #374151 100%);\n}\n\n.data-table tfoot tr:first-child th {\n    color: white;\n    padding: 1rem;\n    font-size: 1rem;\n    font-weight: 700;\n    letter-spacing: 0.05em;\n}\n\n.data-table tfoot tr:last-child {\n    background: #e5e7eb;\n}\n\n.data-table tfoot tr:last-child th {\n    padding: 1.25rem 1rem;\n    font-size: 1rem;\n    font-weight: 700;\n    color: #1f2937;\n}\n\n/* Status Badges */\n.text-success {\n    color: #059669 !important;\n    font-weight: 700;\n    background: #d1fae5;\n    padding: 0.5rem 1rem;\n    border-radius: 6px;\n    display: inline-flex;\n    align-items: center;\n    gap: 0.5rem;\n    font-size: 1rem;\n}\n\n.text-danger {\n    color: #dc2626 !important;\n    font-weight: 700;\n    background: #fee2e2;\n    padding: 0.5rem 1rem;\n    border-radius: 6px;\n    display: inline-flex;\n    align-items: center;\n    gap: 0.5rem;\n    font-size: 1rem;\n}\n\n/* Responsive Design */\n@media (max-width: 768px) {\n    .report-header {\n        padding: 1.5rem 1rem;\n    }\n    \n    .report-header h2 {\n        font-size: 1.25rem;\n    }\n    \n    .data-table {\n        font-size: 0.85rem;\n    }\n    \n    .data-table thead th,\n    .data-table tbody td,\n    .data-table tfoot th {\n        padding: 0.75rem 0.5rem;\n    }\n    \n    .group-header td {\n        font-size: 0.9rem;\n    }\n}\n\n/* Print Styles */\n@media print {\n    .report-card {\n        box-shadow: none;\n        border: 1px solid #e5e7eb;\n    }\n    \n    .data-table tbody tr:hover {\n        background-color: transparent !important;\n    }\n    \n    .group-header td {\n        background: #3b82f6 !important;\n        -webkit-print-color-adjust: exact;\n        print-color-adjust: exact;\n    }\n}\n</style>","range":{"startLineNumber":159,"startColumn":1,"endLineNumber":198,"endColumn":9}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Views/accounting/reports/trial_balance.php","external":"file:///root/Documentos/github/GestionSocios/src/Views/accounting/reports/trial_balance.php","path":"/root/Documentos/github/GestionSocios/src/Views/accounting/reports/trial_balance.php","scheme":"file"},"requestId":"request_d56ce38c-97d7-40f3-880e-c9b003edca9e","epoch":2688,"edits":[{"text":"<style>\n/* Report Card Container */\n.report-card {\n    background: white;\n    border-radius: 8px;\n    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.08);\n    margin-top: 2rem;\n    overflow: hidden;\n    border: 1px solid #e5e7eb;\n}\n\n.report-header {\n    padding: 2rem;\n    background: white;\n    border-bottom: 2px solid #f3f4f6;\n}\n\n.report-header h2 {\n    margin: 0 0 0.5rem 0;\n    font-size: 1.5rem;\n    font-weight: 600;\n    color: #111827;\n}\n\n.report-header p {\n    margin: 0;\n    color: #6b7280;\n    font-size: 0.95rem;\n}\n\n/* Table Styling */\n.table-responsive {\n    padding: 0;\n    overflow-x: auto;\n}\n\n.data-table {\n    width: 100%;\n    border-collapse: collapse;\n    font-size: 0.9rem;\n}\n\n.data-table thead {\n    background: #fafafa;\n    position: sticky;\n    top: 0;\n    z-index: 10;\n}\n\n.data-table thead th {\n    padding: 0.875rem 1rem;\n    font-weight: 600;\n    color: #374151;\n    text-transform: uppercase;\n    font-size: 0.75rem;\n    letter-spacing: 0.05em;\n    border-bottom: 1px solid #e5e7eb;\n}\n\n.data-table thead tr:first-child th {\n    background: #f9fafb;\n    color: #111827;\n    border-bottom: 1px solid #d1d5db;\n    padding-bottom: 0.5rem;\n}\n\n.data-table thead tr:last-child th {\n    background: #f3f4f6;\n    color: #374151;\n    padding-top: 0.5rem;\n}\n\n.data-table tbody td {\n    padding: 0.75rem 1rem;\n    border-bottom: 1px solid #f3f4f6;\n    color: #374151;\n}\n\n.data-table tbody tr {\n    transition: background-color 0.15s ease;\n}\n\n.data-table tbody tr:hover:not(.group-header) {\n    background-color: #fafbfc;\n}\n\n/* Group Headers - Diseño minimalista */\n.group-header td {\n    background: #f9fafb !important;\n    color: #111827 !important;\n    font-weight: 600;\n    padding: 0.875rem 1rem !important;\n    font-size: 0.85rem;\n    letter-spacing: 0.025em;\n    text-transform: uppercase;\n    border-top: 2px solid #e5e7eb !important;\n    border-bottom: 1px solid #d1d5db !important;\n}\n\n/* Number Formatting */\n.text-right {\n    text-align: right;\n    font-variant-numeric: tabular-nums;\n    font-family: ui-monospace, 'SF Mono', 'Roboto Mono', monospace;\n    font-weight: 400;\n}\n\n.text-center {\n    text-align: center;\n}\n\n/* Footer Totals - Más limpio */\n.data-table tfoot {\n    background: white;\n    border-top: 2px solid #e5e7eb;\n}\n\n.data-table tfoot tr:first-child {\n    background: #f9fafb;\n}\n\n.data-table tfoot tr:first-child th {\n    color: #111827;\n    padding: 0.875rem 1rem;\n    font-size: 0.9rem;\n    font-weight: 600;\n}\n\n.data-table tfoot tr:last-child {\n    background: white;\n    border-top: 1px solid #e5e7eb;\n}\n\n.data-table tfoot tr:last-child th {\n    padding: 1rem;\n    font-size: 0.9rem;\n    font-weight: 600;\n    color: #374151;\n}\n\n/* Status Badges - Minimalistas */\n.text-success {\n    color: #059669 !important;\n    font-weight: 600;\n    background: #ecfdf5;\n    padding: 0.375rem 0.75rem;\n    border-radius: 4px;\n    display: inline-flex;\n    align-items: center;\n    gap: 0.375rem;\n    font-size: 0.875rem;\n    border: 1px solid #a7f3d0;\n}\n\n.text-danger {\n    color: #dc2626 !important;\n    font-weight: 600;\n    background: #fef2f2;\n    padding: 0.375rem 0.75rem;\n    border-radius: 4px;\n    display: inline-flex;\n    align-items: center;\n    gap: 0.375rem;\n    font-size: 0.875rem;\n    border: 1px solid #fecaca;\n}\n\n/* Responsive Design */\n@media (max-width: 768px) {\n    .report-header {\n        padding: 1.5rem 1rem;\n    }\n    \n    .report-header h2 {\n        font-size: 1.25rem;\n    }\n    \n    .data-table {\n        font-size: 0.85rem;\n    }\n    \n    .data-table thead th,\n    .data-table tbody td,\n    .data-table tfoot th {\n        padding: 0.625rem 0.5rem;\n    }\n    \n    .group-header td {\n        font-size: 0.8rem;\n    }\n}\n\n/* Print Styles */\n@media print {\n    .report-card {\n        box-shadow: none;\n        border: 1px solid #e5e7eb;\n    }\n    \n    .data-table tbody tr:hover {\n        background-color: transparent !important;\n    }\n    \n    .group-header td {\n        background: #f9fafb !important;\n        -webkit-print-color-adjust: exact;\n        print-color-adjust: exact;\n    }\n}\n</style>","range":{"startLineNumber":159,"startColumn":1,"endLineNumber":374,"endColumn":9}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Views/accounting/reports/trial_balance.php","external":"file:///root/Documentos/github/GestionSocios/src/Views/accounting/reports/trial_balance.php","path":"/root/Documentos/github/GestionSocios/src/Views/accounting/reports/trial_balance.php","scheme":"file"},"requestId":"request_fb593d37-7a40-4b03-873d-63a3f5d03621","epoch":2692,"edits":[{"text":"                </tbody>\n                <tfoot>\n                    <tr>\n                        <th colspan=\"3\" class=\"text-right\">TOTALES:</th>\n                        <th class=\"text-right\"><?php echo number_format($totalDebit, 2); ?> €</th>\n                        <th class=\"text-right\"><?php echo number_format($totalCredit, 2); ?> €</th>\n                        <th class=\"text-right\"><?php echo number_format($totalDebtorBalance, 2); ?> €</th>\n                        <th class=\"text-right\"><?php echo number_format($totalCreditorBalance, 2); ?> €</th>\n                    </tr>\n                </tfoot>\n            </table>\n        </div>\n\n        <!-- Verification Summary -->\n        <div class=\"verification-summary\">\n            <div class=\"verification-item\">\n                <div class=\"verification-label\">Verificación de Sumas:</div>\n                <div class=\"verification-value <?php echo abs($totalDebit - $totalCredit) < 0.01 ? 'status-success' : 'status-error'; ?>\">\n                    <?php if (abs($totalDebit - $totalCredit) < 0.01): ?>\n                        <i class=\"fas fa-check-circle\"></i> Cuadrado\n                    <?php else: ?>\n                        <i class=\"fas fa-exclamation-circle\"></i> Descuadrado (Diferencia: <?php echo number_format(abs($totalDebit - $totalCredit), 2); ?> €)\n                    <?php endif; ?>\n                </div>\n            </div>\n            <div class=\"verification-item\">\n                <div class=\"verification-label\">Verificación de Saldos:</div>\n                <div class=\"verification-value <?php echo abs($totalDebtorBalance - $totalCreditorBalance) < 0.01 ? 'status-success' : 'status-error'; ?>\">\n                    <?php if (abs($totalDebtorBalance - $totalCreditorBalance) < 0.01): ?>\n                        <i class=\"fas fa-check-circle\"></i> Cuadrado\n                    <?php else: ?>\n                        <i class=\"fas fa-exclamation-circle\"></i> Descuadrado (Diferencia: <?php echo number_format(abs($totalDebtorBalance - $totalCreditorBalance), 2); ?> €)\n                    <?php endif; ?>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>","range":{"startLineNumber":135,"startColumn":1,"endLineNumber":157,"endColumn":7}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Views/accounting/reports/trial_balance.php","external":"file:///root/Documentos/github/GestionSocios/src/Views/accounting/reports/trial_balance.php","path":"/root/Documentos/github/GestionSocios/src/Views/accounting/reports/trial_balance.php","scheme":"file"},"requestId":"request_fb593d37-7a40-4b03-873d-63a3f5d03621","epoch":2694,"edits":[{"text":"/* Verification Summary */\n.verification-summary {\n    display: grid;\n    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));\n    gap: 1.5rem;\n    padding: 1.5rem 2rem 2rem;\n    background: #fafbfc;\n    border-top: 1px solid #e5e7eb;\n}\n\n.verification-item {\n    display: flex;\n    flex-direction: column;\n    gap: 0.5rem;\n}\n\n.verification-label {\n    font-size: 0.875rem;\n    font-weight: 500;\n    color: #6b7280;\n    text-transform: uppercase;\n    letter-spacing: 0.025em;\n}\n\n.verification-value {\n    display: flex;\n    align-items: center;\n    gap: 0.5rem;\n    font-size: 1rem;\n    font-weight: 600;\n    padding: 0.75rem 1rem;\n    border-radius: 6px;\n    border: 2px solid;\n}\n\n.verification-value i {\n    font-size: 1.125rem;\n}\n\n.status-success {\n    color: #059669;\n    background: #ecfdf5;\n    border-color: #a7f3d0;\n}\n\n.status-error {\n    color: #dc2626;\n    background: #fef2f2;\n    border-color: #fecaca;\n}\n\n/* Responsive Design */","range":{"startLineNumber":314,"startColumn":1,"endLineNumber":341,"endColumn":24}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Views/accounting/reports/general_ledger.php","external":"file:///root/Documentos/github/GestionSocios/src/Views/accounting/reports/general_ledger.php","path":"/root/Documentos/github/GestionSocios/src/Views/accounting/reports/general_ledger.php","scheme":"file"},"requestId":"request_957867f5-dfec-4950-bd22-bffab2e8c048","epoch":2698,"edits":[{"text":"<style>\n/* Report Card Container */\n.report-card {\n    background: white;\n    border-radius: 8px;\n    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.08);\n    margin-top: 2rem;\n    overflow: hidden;\n    border: 1px solid #e5e7eb;\n}\n\n.report-header {\n    padding: 2rem;\n    background: white;\n    border-bottom: 2px solid #f3f4f6;\n}\n\n.report-header h2 {\n    margin: 0 0 0.5rem 0;\n    font-size: 1.5rem;\n    font-weight: 600;\n    color: #111827;\n}\n\n.report-header p {\n    margin: 0;\n    color: #6b7280;\n    font-size: 0.95rem;\n}\n\n/* Table Styling */\n.table-responsive {\n    padding: 0;\n    overflow-x: auto;\n}\n\n.data-table {\n    width: 100%;\n    border-collapse: collapse;\n    font-size: 0.9rem;\n}\n\n.data-table thead {\n    background: #fafafa;\n}\n\n.data-table thead th {\n    padding: 0.875rem 1rem;\n    font-weight: 600;\n    color: #374151;\n    text-transform: uppercase;\n    font-size: 0.75rem;\n    letter-spacing: 0.05em;\n    border-bottom: 1px solid #e5e7eb;\n    background: #f9fafb;\n}\n\n.data-table tbody td {\n    padding: 0.75rem 1rem;\n    border-bottom: 1px solid #f3f4f6;\n    color: #374151;\n}\n\n.data-table tbody tr {\n    transition: background-color 0.15s ease;\n}\n\n.data-table tbody tr:hover {\n    background-color: #fafbfc;\n}\n\n/* Number Formatting */\n.text-right {\n    text-align: right;\n    font-variant-numeric: tabular-nums;\n    font-family: ui-monospace, 'SF Mono', 'Roboto Mono', monospace;\n    font-weight: 400;\n}\n\n/* Footer Totals */\n.data-table tfoot {\n    background: #f9fafb;\n    border-top: 2px solid #e5e7eb;\n}\n\n.data-table tfoot th {\n    color: #111827;\n    padding: 0.875rem 1rem;\n    font-size: 0.9rem;\n    font-weight: 600;\n}\n\n/* Balance Colors */\n.text-success {\n    color: #059669;\n    font-weight: 500;\n}\n\n.text-danger {\n    color: #dc2626;\n    font-weight: 500;\n}\n\n/* Responsive Design */\n@media (max-width: 768px) {\n    .report-header {\n        padding: 1.5rem 1rem;\n    }\n    \n    .report-header h2 {\n        font-size: 1.25rem;\n    }\n    \n    .data-table {\n        font-size: 0.85rem;\n    }\n    \n    .data-table thead th,\n    .data-table tbody td,\n    .data-table tfoot th {\n        padding: 0.625rem 0.5rem;\n    }\n}\n\n/* Print Styles */\n@media print {\n    .report-card {\n        box-shadow: none;\n        border: 1px solid #e5e7eb;\n    }\n    \n    .data-table tbody tr:hover {\n        background-color: transparent !important;\n    }\n}\n</style>","range":{"startLineNumber":130,"startColumn":1,"endLineNumber":161,"endColumn":9}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Views/accounting/entries/index.php","external":"file:///root/Documentos/github/GestionSocios/src/Views/accounting/entries/index.php","path":"/root/Documentos/github/GestionSocios/src/Views/accounting/entries/index.php","scheme":"file"},"requestId":"request_e577c165-df3e-45af-a7df-cba6ca015045","epoch":2702,"edits":[{"text":"    <!-- Entries Table -->\n    <div class=\"entries-card\">\n        <div class=\"table-responsive\">\n            <table class=\"data-table\">\n                <thead>\n                    <tr>\n                        <th>Número</th>\n                        <th>Fecha</th>\n                        <th>Descripción</th>\n                        <th>Período</th>\n                        <th class=\"text-right\">Débito</th>\n                        <th class=\"text-right\">Crédito</th>\n                        <th>Estado</th>\n                        <th class=\"text-center\">Acciones</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    <?php if (empty($entries)): ?>\n                        <tr>\n                            <td colspan=\"8\" class=\"text-center empty-state\">\n                                <i class=\"fas fa-file-invoice\"></i>\n                                <p>No hay asientos registrados</p>\n                            </td>\n                        </tr>\n                    <?php else: ?>\n                        <?php foreach ($entries as $entry): ?>\n                            <tr>\n                                <td><strong><?php echo htmlspecialchars($entry['entry_number']); ?></strong></td>\n                                <td><?php echo date('d/m/Y', strtotime($entry['entry_date'])); ?></td>\n                                <td><?php echo htmlspecialchars($entry['description']); ?></td>\n                                <td><?php echo htmlspecialchars($entry['period_name'] ?? ''); ?></td>\n                                <td class=\"text-right\"><?php echo number_format($entry['total_debit'], 2); ?> €</td>\n                                <td class=\"text-right\"><?php echo number_format($entry['total_credit'], 2); ?> €</td>\n                                <td>\n                                    <?php\n                                    $statusLabels = [\n                                        'draft' => '<span class=\"badge badge-warning\">Borrador</span>',\n                                        'posted' => '<span class=\"badge badge-success\">Contabilizado</span>',\n                                        'cancelled' => '<span class=\"badge badge-danger\">Cancelado</span>'\n                                    ];\n                                    echo $statusLabels[$entry['status']] ?? $entry['status'];\n                                    ?>\n                                </td>\n                                <td class=\"text-center\">\n                                    <div class=\"action-buttons\">\n                                        <a href=\"index.php?page=accounting&action=viewEntry&id=<?php echo $entry['id']; ?>\" \n                                           class=\"btn btn-sm btn-info\" title=\"Ver\">\n                                            <i class=\"fas fa-eye\"></i>\n                                        </a>\n                                        <?php if ($entry['status'] === 'draft'): ?>\n                                            <a href=\"index.php?page=accounting&action=postEntry&id=<?php echo $entry['id']; ?>\" \n                                               class=\"btn btn-sm btn-success\" title=\"Contabilizar\"\n                                               onclick=\"return confirm('¿Está seguro de contabilizar este asiento? Esta acción no se puede deshacer.');\">\n                                                <i class=\"fas fa-check\"></i>\n                                            </a>\n                                        <?php endif; ?>\n                                    </div>\n                                </td>\n                            </tr>\n                        <?php endforeach; ?>\n                    <?php endif; ?>\n                </tbody>\n            </table>\n        </div>","range":{"startLineNumber":68,"startColumn":1,"endLineNumber":128,"endColumn":15}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Views/accounting/entries/index.php","external":"file:///root/Documentos/github/GestionSocios/src/Views/accounting/entries/index.php","path":"/root/Documentos/github/GestionSocios/src/Views/accounting/entries/index.php","scheme":"file"},"requestId":"request_e577c165-df3e-45af-a7df-cba6ca015045","epoch":2704,"edits":[{"text":"        <!-- Pagination -->\n        <?php if ($totalPages > 1): ?>\n            <div class=\"pagination\">\n                <?php for ($i = 1; $i <= $totalPages; $i++): ?>\n                    <a href=\"?page=accounting&action=entries&page_num=<?php echo $i; ?><?php \n                        echo isset($filters['period_id']) && $filters['period_id'] ? '&period_id=' . $filters['period_id'] : '';\n                        echo isset($filters['status']) && $filters['status'] ? '&status=' . $filters['status'] : '';\n                    ?>\" \n                       class=\"<?php echo ($page_num ?? 1) == $i ? 'active' : ''; ?>\">\n                        <?php echo $i; ?>\n                    </a>\n                <?php endfor; ?>\n            </div>\n        <?php endif; ?>\n    </div>\n</div>\n\n<style>\n/* Entries Card */\n.entries-card {\n    background: white;\n    border-radius: 8px;\n    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.08);\n    margin-top: 2rem;\n    overflow: hidden;\n    border: 1px solid #e5e7eb;\n}\n\n/* Table Styling */\n.table-responsive {\n    padding: 0;\n    overflow-x: auto;\n}\n\n.data-table {\n    width: 100%;\n    border-collapse: collapse;\n    font-size: 0.9rem;\n}\n\n.data-table thead {\n    background: #f9fafb;\n}\n\n.data-table thead th {\n    padding: 0.875rem 1rem;\n    font-weight: 600;\n    color: #374151;\n    text-transform: uppercase;\n    font-size: 0.75rem;\n    letter-spacing: 0.05em;\n    border-bottom: 1px solid #e5e7eb;\n}\n\n.data-table tbody td {\n    padding: 0.875rem 1rem;\n    border-bottom: 1px solid #f3f4f6;\n    color: #374151;\n}\n\n.data-table tbody tr {\n    transition: background-color 0.15s ease;\n}\n\n.data-table tbody tr:hover {\n    background-color: #fafbfc;\n}\n\n/* Empty State */\n.empty-state {\n    padding: 3rem 1rem !important;\n    color: #9ca3af;\n}\n\n.empty-state i {\n    font-size: 3rem;\n    margin-bottom: 1rem;\n    display: block;\n}\n\n.empty-state p {\n    margin: 0;\n    font-size: 1rem;\n}\n\n/* Number Formatting */\n.text-right {\n    text-align: right;\n    font-variant-numeric: tabular-nums;\n    font-family: ui-monospace, 'SF Mono', 'Roboto Mono', monospace;\n    font-weight: 400;\n}\n\n.text-center {\n    text-align: center;\n}\n\n/* Status Badges */\n.badge {\n    display: inline-block;\n    padding: 0.375rem 0.75rem;\n    border-radius: 4px;\n    font-size: 0.8rem;\n    font-weight: 600;\n    letter-spacing: 0.025em;\n    border: 1px solid;\n}\n\n.badge-warning {\n    color: #d97706;\n    background: #fef3c7;\n    border-color: #fde68a;\n}\n\n.badge-success {\n    color: #059669;\n    background: #ecfdf5;\n    border-color: #a7f3d0;\n}\n\n.badge-danger {\n    color: #dc2626;\n    background: #fef2f2;\n    border-color: #fecaca;\n}\n\n/* Action Buttons */\n.action-buttons {\n    display: flex;\n    gap: 0.5rem;\n    justify-content: center;\n}\n\n.btn-sm {\n    padding: 0.375rem 0.75rem;\n    font-size: 0.875rem;\n}\n\n/* Pagination */\n.pagination {\n    display: flex;\n    justify-content: center;\n    gap: 0.5rem;\n    padding: 1.5rem;\n    border-top: 1px solid #f3f4f6;\n}\n\n.pagination a {\n    padding: 0.5rem 0.875rem;\n    border: 1px solid #e5e7eb;\n    border-radius: 4px;\n    color: #374151;\n    text-decoration: none;\n    font-weight: 500;\n    transition: all 0.15s ease;\n}\n\n.pagination a:hover {\n    background: #f9fafb;\n    border-color: #d1d5db;\n}\n\n.pagination a.active {\n    background: #111827;\n    color: white;\n    border-color: #111827;\n}\n\n/* Responsive Design */\n@media (max-width: 768px) {\n    .data-table {\n        font-size: 0.85rem;\n    }\n    \n    .data-table thead th,\n    .data-table tbody td {\n        padding: 0.625rem 0.5rem;\n    }\n    \n    .action-buttons {\n        flex-direction: column;\n    }\n}\n\n/* Print Styles */\n@media print {\n    .entries-card {\n        box-shadow: none;\n        border: 1px solid #e5e7eb;\n    }\n    \n    .data-table tbody tr:hover {\n        background-color: transparent !important;\n    }\n    \n    .action-buttons,\n    .pagination {\n        display: none;\n    }\n}\n</style>\n\n<?php\n$content = ob_get_clean();\nrequire __DIR__ . '/../../layout.php';\n?>","range":{"startLineNumber":133,"startColumn":1,"endLineNumber":153,"endColumn":3}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Views/accounting/entries/view.php","external":"file:///root/Documentos/github/GestionSocios/src/Views/accounting/entries/view.php","path":"/root/Documentos/github/GestionSocios/src/Views/accounting/entries/view.php","scheme":"file"},"requestId":"request_d3511da5-4b05-4424-b254-96984469ec92","epoch":2708,"edits":[{"text":"    <div class=\"entry-view-card\">\n        <!-- Entry Header Info -->\n        <div class=\"entry-header\">\n            <div class=\"entry-header-main\">\n                <div class=\"entry-number\">\n                    <span class=\"entry-number-label\">Asiento N°</span>\n                    <span class=\"entry-number-value\"><?php echo htmlspecialchars($entry['entry_number']); ?></span>\n                </div>\n                <div class=\"entry-status\">\n                    <?php\n                    $statusLabels = [\n                        'draft' => '<span class=\"badge badge-warning\">Borrador</span>',\n                        'posted' => '<span class=\"badge badge-success\">Contabilizado</span>',\n                        'cancelled' => '<span class=\"badge badge-danger\">Cancelado</span>'\n                    ];\n                    echo $statusLabels[$entry['status']] ?? $entry['status'];\n                    ?>\n                </div>\n            </div>\n            <div class=\"entry-meta\">\n                <div class=\"entry-meta-item\">\n                    <i class=\"fas fa-calendar\"></i>\n                    <span><?php echo date('d/m/Y', strtotime($entry['entry_date'])); ?></span>\n                </div>\n                <div class=\"entry-meta-item\">\n                    <i class=\"fas fa-clock\"></i>\n                    <span><?php echo htmlspecialchars($entry['period_name'] ?? 'N/A'); ?></span>\n                </div>\n            </div>\n        </div>\n\n        <!-- Description Section -->\n        <div class=\"entry-description\">\n            <h3>Descripción</h3>\n            <p><?php echo htmlspecialchars($entry['description']); ?></p>\n            <?php if (!empty($entry['reference'])): ?>\n                <div class=\"entry-reference\">\n                    <strong>Referencia:</strong> <?php echo htmlspecialchars($entry['reference']); ?>\n                </div>\n            <?php endif; ?>\n        </div>\n\n        <!-- Entry Lines Table -->\n        <div class=\"entry-lines\">\n            <h3>Movimientos Contables</h3>\n            <div class=\"table-responsive\">\n                <table class=\"data-table\">\n                    <thead>\n                        <tr>\n                            <th>Cuenta</th>\n                            <th>Descripción</th>\n                            <th class=\"text-right\">Débito</th>\n                            <th class=\"text-right\">Crédito</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <?php\n                        $totalDebit = 0;\n                        $totalCredit = 0;\n                        foreach ($lines as $line):\n                            $totalDebit += $line['debit'];\n                            $totalCredit += $line['credit'];\n                        ?>\n                            <tr>\n                                <td>\n                                    <div class=\"account-info\">\n                                        <strong class=\"account-code\"><?php echo htmlspecialchars($line['account_code']); ?></strong>\n                                        <span class=\"account-name\"><?php echo htmlspecialchars($line['account_name']); ?></span>\n                                    </div>\n                                </td>\n                                <td><?php echo htmlspecialchars($line['description'] ?? ''); ?></td>\n                                <td class=\"text-right amount-debit\">\n                                    <?php echo $line['debit'] > 0 ? number_format($line['debit'], 2) . ' €' : '-'; ?>\n                                </td>\n                                <td class=\"text-right amount-credit\">\n                                    <?php echo $line['credit'] > 0 ? number_format($line['credit'], 2) . ' €' : '-'; ?>\n                                </td>\n                            </tr>\n                        <?php endforeach; ?>\n                    </tbody>\n                    <tfoot>\n                        <tr>\n                            <th colspan=\"2\" class=\"text-right\">TOTALES:</th>\n                            <th class=\"text-right total-debit\"><?php echo number_format($totalDebit, 2); ?> €</th>\n                            <th class=\"text-right total-credit\"><?php echo number_format($totalCredit, 2); ?> €</th>\n                        </tr>\n                    </tfoot>\n                </table>\n            </div>\n        </div>\n\n        <!-- Entry Footer Info -->\n        <div class=\"entry-footer\">\n            <div class=\"entry-footer-item\">\n                <i class=\"fas fa-user\"></i>\n                <span>Creado por <strong><?php echo htmlspecialchars($entry['created_by_name'] ?? 'N/A'); ?></strong></span>\n            </div>\n            <div class=\"entry-footer-item\">\n                <i class=\"fas fa-clock\"></i>\n                <span><?php echo date('d/m/Y H:i', strtotime($entry['created_at'])); ?></span>\n            </div>\n        </div>\n    </div>\n</div>\n\n<style>\n/* Entry View Card */\n.entry-view-card {\n    background: white;\n    border-radius: 8px;\n    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.08);\n    border: 1px solid #e5e7eb;\n    overflow: hidden;\n}\n\n/* Entry Header */\n.entry-header {\n    padding: 2rem;\n    background: #f9fafb;\n    border-bottom: 2px solid #e5e7eb;\n}\n\n.entry-header-main {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin-bottom: 1rem;\n}\n\n.entry-number {\n    display: flex;\n    flex-direction: column;\n    gap: 0.25rem;\n}\n\n.entry-number-label {\n    font-size: 0.75rem;\n    text-transform: uppercase;\n    letter-spacing: 0.05em;\n    color: #6b7280;\n    font-weight: 600;\n}\n\n.entry-number-value {\n    font-size: 1.75rem;\n    font-weight: 700;\n    color: #111827;\n}\n\n.entry-meta {\n    display: flex;\n    gap: 1.5rem;\n    color: #6b7280;\n    font-size: 0.9rem;\n}\n\n.entry-meta-item {\n    display: flex;\n    align-items: center;\n    gap: 0.5rem;\n}\n\n.entry-meta-item i {\n    color: #9ca3af;\n}\n\n/* Description Section */\n.entry-description {\n    padding: 2rem;\n    border-bottom: 1px solid #f3f4f6;\n}\n\n.entry-description h3 {\n    margin: 0 0 1rem 0;\n    font-size: 1rem;\n    font-weight: 600;\n    color: #374151;\n    text-transform: uppercase;\n    letter-spacing: 0.025em;\n    font-size: 0.875rem;\n}\n\n.entry-description p {\n    margin: 0;\n    color: #111827;\n    font-size: 1rem;\n    line-height: 1.5;\n}\n\n.entry-reference {\n    margin-top: 1rem;\n    padding: 0.75rem 1rem;\n    background: #fef3c7;\n    border-left: 3px solid #f59e0b;\n    border-radius: 4px;\n    font-size: 0.9rem;\n    color: #92400e;\n}\n\n/* Entry Lines */\n.entry-lines {\n    padding: 0;\n}\n\n.entry-lines h3 {\n    padding: 1.5rem 2rem 1rem;\n    margin: 0;\n    font-size: 1rem;\n    font-weight: 600;\n    color: #374151;\n    text-transform: uppercase;\n    letter-spacing: 0.025em;\n    font-size: 0.875rem;\n}\n\n.table-responsive {\n    padding: 0;\n    overflow-x: auto;\n}\n\n.data-table {\n    width: 100%;\n    border-collapse: collapse;\n    font-size: 0.9rem;\n}\n\n.data-table thead {\n    background: #f9fafb;\n}\n\n.data-table thead th {\n    padding: 0.875rem 2rem;\n    font-weight: 600;\n    color: #374151;\n    text-transform: uppercase;\n    font-size: 0.75rem;\n    letter-spacing: 0.05em;\n    border-bottom: 1px solid #e5e7eb;\n}\n\n.data-table tbody td {\n    padding: 1rem 2rem;\n    border-bottom: 1px solid #f3f4f6;\n    color: #374151;\n}\n\n.data-table tbody tr {\n    transition: background-color 0.15s ease;\n}\n\n.data-table tbody tr:hover {\n    background-color: #fafbfc;\n}\n\n/* Account Info */\n.account-info {\n    display: flex;\n    flex-direction: column;\n    gap: 0.25rem;\n}\n\n.account-code {\n    font-size: 0.95rem;\n    color: #111827;\n}\n\n.account-name {\n    font-size: 0.85rem;\n    color: #6b7280;\n}\n\n/* Amounts */\n.text-right {\n    text-align: right;\n    font-variant-numeric: tabular-nums;\n    font-family: ui-monospace, 'SF Mono', 'Roboto Mono', monospace;\n}\n\n.amount-debit {\n    color: #dc2626;\n    font-weight: 500;\n}\n\n.amount-credit {\n    color: #059669;\n    font-weight: 500;\n}\n\n/* Footer Totals */\n.data-table tfoot {\n    background: #f9fafb;\n    border-top: 2px solid #e5e7eb;\n}\n\n.data-table tfoot th {\n    color: #111827;\n    padding: 1rem 2rem;\n    font-size: 0.9rem;\n    font-weight: 700;\n}\n\n.total-debit {\n    color: #dc2626;\n}\n\n.total-credit {\n    color: #059669;\n}\n\n/* Status Badges */\n.badge {\n    display: inline-block;\n    padding: 0.375rem 0.75rem;\n    border-radius: 4px;\n    font-size: 0.8rem;\n    font-weight: 600;\n    letter-spacing: 0.025em;\n    border: 1px solid;\n}\n\n.badge-warning {\n    color: #d97706;\n    background: #fef3c7;\n    border-color: #fde68a;\n}\n\n.badge-success {\n    color: #059669;\n    background: #ecfdf5;\n    border-color: #a7f3d0;\n}\n\n.badge-danger {\n    color: #dc2626;\n    background: #fef2f2;\n    border-color: #fecaca;\n}\n\n/* Entry Footer */\n.entry-footer {\n    padding: 1.5rem 2rem;\n    background: #fafbfc;\n    border-top: 1px solid #e5e7eb;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    font-size: 0.875rem;\n    color: #6b7280;\n}\n\n.entry-footer-item {\n    display: flex;\n    align-items: center;\n    gap: 0.5rem;\n}\n\n.entry-footer-item i {\n    color: #9ca3af;\n}\n\n/* Responsive Design */\n@media (max-width: 768px) {\n    .entry-header-main {\n        flex-direction: column;\n        align-items: flex-start;\n        gap: 1rem;\n    }\n    \n    .entry-meta {\n        flex-direction: column;\n        gap: 0.5rem;\n    }\n    \n    .entry-footer {\n        flex-direction: column;\n        align-items: flex-start;\n        gap: 0.75rem;\n    }\n    \n    .data-table thead th,\n    .data-table tbody td,\n    .data-table tfoot th {\n        padding: 0.75rem 1rem;\n    }\n}\n\n/* Print Styles */\n@media print {\n    .entry-view-card {\n        box-shadow: none;\n        border: 1px solid #e5e7eb;\n    }\n    \n    .data-table tbody tr:hover {\n        background-color: transparent !important;\n    }\n}\n</style>","range":{"startLineNumber":20,"startColumn":1,"endLineNumber":172,"endColumn":9}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/root/Documentos/github/GestionSocios/src/Controllers/MemberController.php","external":"file:///root/Documentos/github/GestionSocios/src/Controllers/MemberController.php","path":"/root/Documentos/github/GestionSocios/src/Controllers/MemberController.php","scheme":"file"},"requestId":"request_f8904a2d-4999-471f-808f-0626fefbf005","epoch":2712,"edits":[{"text":"            $paymentId = null;\n            $paymentDate = date('Y-m-d');\n            $paymentConcept = \"Cuota Anual \" . $currentYear;\n            \n            // Descripción detallada para contabilidad con número de socio\n            $memberFullName = trim($member['first_name'] . ' ' . $member['last_name']);\n            $accountingDescription = \"Cuota Anual $currentYear - Socio #$id: $memberFullName\";\n            \n            if ($existingPayment) {\n                // Update existing payment to paid\n                $updateStmt = $this->db->prepare(\"UPDATE payments SET status = 'paid', payment_date = ? WHERE id = ?\");\n                $success = $updateStmt->execute([$paymentDate, $existingPayment['id']]);\n                if (!$success) {\n                    throw new Exception(\"Error al actualizar el pago existente\");\n                }\n                $paymentId = $existingPayment['id'];\n                // Registrar en audit_log\n                require_once __DIR__ . '/../Models/AuditLog.php';\n                $audit = new AuditLog($this->db);\n                $audit->create($_SESSION['user_id'], 'markPaid', 'member_payment', $paymentId, 'Pago marcado como realizado por el usuario ' . ($_SESSION['username'] ?? ''));\n            } else {\n                // Create new payment as paid\n                $insertStmt = $this->db->prepare(\"INSERT INTO payments (member_id, amount, payment_date, concept, status, fee_year, payment_type) VALUES (?, ?, ?, ?, 'paid', ?, 'fee')\");\n                $success = $insertStmt->execute([\n                    $id,\n                    $paymentAmount,\n                    $paymentDate,\n                    $paymentConcept,\n                    $currentYear\n                ]);\n                if (!$success) {\n                    throw new Exception(\"Error al crear el nuevo pago\");\n                }\n                $paymentId = $this->db->lastInsertId();\n                // Registrar en audit_log\n                require_once __DIR__ . '/../Models/AuditLog.php';\n                $audit = new AuditLog($this->db);\n                $audit->create($_SESSION['user_id'], 'markPaid', 'member_payment', $paymentId, 'Pago creado y marcado como realizado por el usuario ' . ($_SESSION['username'] ?? ''));\n            }\n            \n            // Crear asiento contable automático\n            require_once __DIR__ . '/../Helpers/AccountingHelper.php';\n            $accountingCreated = AccountingHelper::createEntryFromPayment(\n                $this->db,\n                $paymentId,\n                $paymentAmount,\n                $accountingDescription, // Descripción detallada con número de socio\n                $paymentDate,\n                'transfer', // Método de pago por defecto\n                'fee'\n            );","range":{"startLineNumber":434,"startColumn":1,"endLineNumber":480,"endColumn":15}}]}],"epochCounter":2713},"recentSnapshot":{"entries":[{"resource":"file:///root/Documentos/github/GestionSocios/src/Controllers/FeeController.php","languageId":"php","originalHash":"4c46f3a","currentHash":"4c46f3a","state":1,"snapshotUri":"chat-editing-snapshot-text-model:/root/Documentos/github/GestionSocios/src/Controllers/FeeController.php?%7B%22sessionId%22%3A%22f0f33394-42f5-4d59-9b31-2ae2f9b8ccd1%22%2C%22requestId%22%3A%22%22%2C%22undoStop%22%3A%22%22%7D","telemetryInfo":{"requestId":"request_5ffb6f99-874c-4df4-9612-100a1dfb4ee0","agentId":"github.copilot.editsAgent","modelId":"copilot/claude-sonnet-4.5","modeId":"agent"}},{"resource":"file:///root/Documentos/github/GestionSocios/src/Views/settings/index.php","languageId":"php","originalHash":"749b88a","currentHash":"749b88a","state":1,"snapshotUri":"chat-editing-snapshot-text-model:/root/Documentos/github/GestionSocios/src/Views/settings/index.php?%7B%22sessionId%22%3A%22f0f33394-42f5-4d59-9b31-2ae2f9b8ccd1%22%2C%22requestId%22%3A%22%22%2C%22undoStop%22%3A%22%22%7D","telemetryInfo":{"requestId":"request_1875dd0f-a3da-4469-8357-4bea81fd78a6","agentId":"github.copilot.editsAgent","modelId":"copilot/claude-sonnet-4.5","modeId":"agent"}},{"resource":"file:///root/Documentos/github/GestionSocios/src/Controllers/MemberController.php","languageId":"php","originalHash":"ac85222","currentHash":"0dd555e","state":0,"snapshotUri":"chat-editing-snapshot-text-model:/root/Documentos/github/GestionSocios/src/Controllers/MemberController.php?%7B%22sessionId%22%3A%22f0f33394-42f5-4d59-9b31-2ae2f9b8ccd1%22%2C%22requestId%22%3A%22%22%2C%22undoStop%22%3A%22%22%7D","telemetryInfo":{"requestId":"request_f8904a2d-4999-471f-808f-0626fefbf005","agentId":"github.copilot.editsAgent","modelId":"copilot/claude-sonnet-4.5","modeId":"agent"}},{"resource":"file:///root/Documentos/github/GestionSocios/src/Controllers/PaymentController.php","languageId":"php","originalHash":"5987e42","currentHash":"5987e42","state":1,"snapshotUri":"chat-editing-snapshot-text-model:/root/Documentos/github/GestionSocios/src/Controllers/PaymentController.php?%7B%22sessionId%22%3A%22f0f33394-42f5-4d59-9b31-2ae2f9b8ccd1%22%2C%22requestId%22%3A%22%22%2C%22undoStop%22%3A%22%22%7D","telemetryInfo":{"requestId":"request_73b8f7ce-229c-46a5-9f3b-926190494f6d","agentId":"github.copilot.editsAgent","modelId":"copilot/claude-sonnet-4.5","modeId":"agent"}},{"resource":"file:///root/Documentos/github/GestionSocios/src/Controllers/EventController.php","languageId":"php","originalHash":"a20d120","currentHash":"a20d120","state":1,"snapshotUri":"chat-editing-snapshot-text-model:/root/Documentos/github/GestionSocios/src/Controllers/EventController.php?%7B%22sessionId%22%3A%22f0f33394-42f5-4d59-9b31-2ae2f9b8ccd1%22%2C%22requestId%22%3A%22%22%2C%22undoStop%22%3A%22%22%7D","telemetryInfo":{"requestId":"request_6fc134d9-a4c9-45b7-991a-aeb72b48204e","agentId":"github.copilot.editsAgent","modelId":"copilot/claude-sonnet-4.5","modeId":"agent"}},{"resource":"file:///root/Documentos/github/GestionSocios/src/Controllers/BookAdController.php","languageId":"php","originalHash":"1353da9","currentHash":"1353da9","state":1,"snapshotUri":"chat-editing-snapshot-text-model:/root/Documentos/github/GestionSocios/src/Controllers/BookAdController.php?%7B%22sessionId%22%3A%22f0f33394-42f5-4d59-9b31-2ae2f9b8ccd1%22%2C%22requestId%22%3A%22%22%2C%22undoStop%22%3A%22%22%7D","telemetryInfo":{"requestId":"request_73b8f7ce-229c-46a5-9f3b-926190494f6d","agentId":"github.copilot.editsAgent","modelId":"copilot/claude-sonnet-4.5","modeId":"agent"}},{"resource":"file:///root/Documentos/github/GestionSocios/src/Controllers/SupplierController.php","languageId":"php","originalHash":"6ff33ec","currentHash":"6ff33ec","state":1,"snapshotUri":"chat-editing-snapshot-text-model:/root/Documentos/github/GestionSocios/src/Controllers/SupplierController.php?%7B%22sessionId%22%3A%22f0f33394-42f5-4d59-9b31-2ae2f9b8ccd1%22%2C%22requestId%22%3A%22%22%2C%22undoStop%22%3A%22%22%7D","telemetryInfo":{"requestId":"request_73b8f7ce-229c-46a5-9f3b-926190494f6d","agentId":"github.copilot.editsAgent","modelId":"copilot/claude-sonnet-4.5","modeId":"agent"}},{"resource":"file:///root/Documentos/github/GestionSocios/src/Views/suppliers/show.php","languageId":"php","originalHash":"41093b4","currentHash":"41093b4","state":1,"snapshotUri":"chat-editing-snapshot-text-model:/root/Documentos/github/GestionSocios/src/Views/suppliers/show.php?%7B%22sessionId%22%3A%22f0f33394-42f5-4d59-9b31-2ae2f9b8ccd1%22%2C%22requestId%22%3A%22%22%2C%22undoStop%22%3A%22%22%7D","telemetryInfo":{"requestId":"request_f8451068-e611-4234-b20b-7ddc07e79199","agentId":"github.copilot.editsAgent","modelId":"copilot/claude-sonnet-4.5","modeId":"agent"}},{"resource":"file:///root/Documentos/github/GestionSocios/public/index.php","languageId":"php","originalHash":"620a657","currentHash":"620a657","state":1,"snapshotUri":"chat-editing-snapshot-text-model:/root/Documentos/github/GestionSocios/public/index.php?%7B%22sessionId%22%3A%22f0f33394-42f5-4d59-9b31-2ae2f9b8ccd1%22%2C%22requestId%22%3A%22%22%2C%22undoStop%22%3A%22%22%7D","telemetryInfo":{"requestId":"request_f8451068-e611-4234-b20b-7ddc07e79199","agentId":"github.copilot.editsAgent","modelId":"copilot/claude-sonnet-4.5","modeId":"agent"}},{"resource":"file:///root/Documentos/github/GestionSocios/src/Controllers/MapController.php","languageId":"php","originalHash":"bb58d35","currentHash":"bb58d35","state":1,"snapshotUri":"chat-editing-snapshot-text-model:/root/Documentos/github/GestionSocios/src/Controllers/MapController.php?%7B%22sessionId%22%3A%22f0f33394-42f5-4d59-9b31-2ae2f9b8ccd1%22%2C%22requestId%22%3A%22%22%2C%22undoStop%22%3A%22%22%7D","telemetryInfo":{"requestId":"request_38140dc0-13e5-4b19-ad26-6aba426d5e9c","agentId":"github.copilot.editsAgent","modelId":"copilot/claude-sonnet-4.5","modeId":"agent"}},{"resource":"file:///root/Documentos/github/GestionSocios/src/Views/map/index.php","languageId":"php","originalHash":"5f9eea1","currentHash":"5f9eea1","state":1,"snapshotUri":"chat-editing-snapshot-text-model:/root/Documentos/github/GestionSocios/src/Views/map/index.php?%7B%22sessionId%22%3A%22f0f33394-42f5-4d59-9b31-2ae2f9b8ccd1%22%2C%22requestId%22%3A%22%22%2C%22undoStop%22%3A%22%22%7D","telemetryInfo":{"requestId":"request_38140dc0-13e5-4b19-ad26-6aba426d5e9c","agentId":"github.copilot.editsAgent","modelId":"copilot/claude-sonnet-4.5","modeId":"agent"}},{"resource":"file:///root/Documentos/github/GestionSocios/database/schema.sql","languageId":"sql","originalHash":"c29cc02","currentHash":"c29cc02","state":1,"snapshotUri":"chat-editing-snapshot-text-model:/root/Documentos/github/GestionSocios/database/schema.sql?%7B%22sessionId%22%3A%22f0f33394-42f5-4d59-9b31-2ae2f9b8ccd1%22%2C%22requestId%22%3A%22%22%2C%22undoStop%22%3A%22%22%7D","telemetryInfo":{"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","agentId":"github.copilot.editsAgent","modelId":"copilot/claude-sonnet-4.5","modeId":"agent"}},{"resource":"file:///root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql","languageId":"sql","originalHash":"d928874","currentHash":"d928874","state":1,"snapshotUri":"chat-editing-snapshot-text-model:/root/Documentos/github/GestionSocios/database/migrations/2025_12_03_professional_suppliers.sql?%7B%22sessionId%22%3A%22f0f33394-42f5-4d59-9b31-2ae2f9b8ccd1%22%2C%22requestId%22%3A%22%22%2C%22undoStop%22%3A%22%22%7D","telemetryInfo":{"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","agentId":"github.copilot.editsAgent","modelId":"copilot/claude-sonnet-4.5","modeId":"agent"}},{"resource":"file:///root/Documentos/github/GestionSocios/src/Models/Supplier.php","languageId":"php","originalHash":"4e305ee","currentHash":"4e305ee","state":1,"snapshotUri":"chat-editing-snapshot-text-model:/root/Documentos/github/GestionSocios/src/Models/Supplier.php?%7B%22sessionId%22%3A%22f0f33394-42f5-4d59-9b31-2ae2f9b8ccd1%22%2C%22requestId%22%3A%22%22%2C%22undoStop%22%3A%22%22%7D","telemetryInfo":{"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","agentId":"github.copilot.editsAgent","modelId":"copilot/claude-sonnet-4.5","modeId":"agent"}},{"resource":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierContact.php","languageId":"php","originalHash":"d9038ac","currentHash":"d9038ac","state":1,"snapshotUri":"chat-editing-snapshot-text-model:/root/Documentos/github/GestionSocios/src/Models/SupplierContact.php?%7B%22sessionId%22%3A%22f0f33394-42f5-4d59-9b31-2ae2f9b8ccd1%22%2C%22requestId%22%3A%22%22%2C%22undoStop%22%3A%22%22%7D","telemetryInfo":{"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","agentId":"github.copilot.editsAgent","modelId":"copilot/claude-sonnet-4.5","modeId":"agent"}},{"resource":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php","languageId":"php","originalHash":"56d201d","currentHash":"56d201d","state":1,"snapshotUri":"chat-editing-snapshot-text-model:/root/Documentos/github/GestionSocios/src/Models/SupplierDocument.php?%7B%22sessionId%22%3A%22f0f33394-42f5-4d59-9b31-2ae2f9b8ccd1%22%2C%22requestId%22%3A%22%22%2C%22undoStop%22%3A%22%22%7D","telemetryInfo":{"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","agentId":"github.copilot.editsAgent","modelId":"copilot/claude-sonnet-4.5","modeId":"agent"}},{"resource":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php","languageId":"php","originalHash":"1785083","currentHash":"1785083","state":1,"snapshotUri":"chat-editing-snapshot-text-model:/root/Documentos/github/GestionSocios/src/Models/SupplierOrder.php?%7B%22sessionId%22%3A%22f0f33394-42f5-4d59-9b31-2ae2f9b8ccd1%22%2C%22requestId%22%3A%22%22%2C%22undoStop%22%3A%22%22%7D","telemetryInfo":{"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","agentId":"github.copilot.editsAgent","modelId":"copilot/claude-sonnet-4.5","modeId":"agent"}},{"resource":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php","languageId":"php","originalHash":"16d85fc","currentHash":"16d85fc","state":1,"snapshotUri":"chat-editing-snapshot-text-model:/root/Documentos/github/GestionSocios/src/Models/SupplierOrderLine.php?%7B%22sessionId%22%3A%22f0f33394-42f5-4d59-9b31-2ae2f9b8ccd1%22%2C%22requestId%22%3A%22%22%2C%22undoStop%22%3A%22%22%7D","telemetryInfo":{"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","agentId":"github.copilot.editsAgent","modelId":"copilot/claude-sonnet-4.5","modeId":"agent"}},{"resource":"file:///root/Documentos/github/GestionSocios/src/Models/SupplierInvoice.php","languageId":"php","originalHash":"6a05b77","currentHash":"6a05b77","state":1,"snapshotUri":"chat-editing-snapshot-text-model:/root/Documentos/github/GestionSocios/src/Models/SupplierInvoice.php?%7B%22sessionId%22%3A%22f0f33394-42f5-4d59-9b31-2ae2f9b8ccd1%22%2C%22requestId%22%3A%22%22%2C%22undoStop%22%3A%22%22%7D","telemetryInfo":{"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","agentId":"github.copilot.editsAgent","modelId":"copilot/claude-sonnet-4.5","modeId":"agent"}},{"resource":"file:///root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh","languageId":"shellscript","originalHash":"af6de1c","currentHash":"af6de1c","state":1,"snapshotUri":"chat-editing-snapshot-text-model:/root/Documentos/github/GestionSocios/database/migrations/apply_supplier_migration.sh?%7B%22sessionId%22%3A%22f0f33394-42f5-4d59-9b31-2ae2f9b8ccd1%22%2C%22requestId%22%3A%22%22%2C%22undoStop%22%3A%22%22%7D","telemetryInfo":{"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","agentId":"github.copilot.editsAgent","modelId":"copilot/claude-sonnet-4.5","modeId":"agent"}},{"resource":"file:///root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md","languageId":"markdown","originalHash":"b26731e","currentHash":"b26731e","state":1,"snapshotUri":"chat-editing-snapshot-text-model:/root/Documentos/github/GestionSocios/SUPPLIER_MODULE.md?%7B%22sessionId%22%3A%22f0f33394-42f5-4d59-9b31-2ae2f9b8ccd1%22%2C%22requestId%22%3A%22%22%2C%22undoStop%22%3A%22%22%7D","telemetryInfo":{"requestId":"request_3b127da8-2ed1-476e-b58e-0dbf7c6e3356","agentId":"github.copilot.editsAgent","modelId":"copilot/claude-sonnet-4.5","modeId":"agent"}},{"resource":"file:///root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md","languageId":"markdown","originalHash":"fd414b8","currentHash":"fd414b8","state":1,"snapshotUri":"chat-editing-snapshot-text-model:/root/Documentos/github/GestionSocios/SUPPLIER_IMPLEMENTATION.md?%7B%22sessionId%22%3A%22f0f33394-42f5-4d59-9b31-2ae2f9b8ccd1%22%2C%22requestId%22%3A%22%22%2C%22undoStop%22%3A%22%22%7D","telemetryInfo":{"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","agentId":"github.copilot.editsAgent","modelId":"copilot/claude-sonnet-4.5","modeId":"agent"}},{"resource":"file:///root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md","languageId":"markdown","originalHash":"92529c8","currentHash":"92529c8","state":1,"snapshotUri":"chat-editing-snapshot-text-model:/root/Documentos/github/GestionSocios/SUPPLIER_CHANGES_SUMMARY.md?%7B%22sessionId%22%3A%22f0f33394-42f5-4d59-9b31-2ae2f9b8ccd1%22%2C%22requestId%22%3A%22%22%2C%22undoStop%22%3A%22%22%7D","telemetryInfo":{"requestId":"request_27640887-3aed-4fe6-bf5f-ef087336aab4","agentId":"github.copilot.editsAgent","modelId":"copilot/claude-sonnet-4.5","modeId":"agent"}},{"resource":"file:///root/Documentos/github/GestionSocios/src/Views/members/list.php","languageId":"php","originalHash":"ac1c1b7","currentHash":"ac1c1b7","state":1,"snapshotUri":"chat-editing-snapshot-text-model:/root/Documentos/github/GestionSocios/src/Views/members/list.php?%7B%22sessionId%22%3A%22f0f33394-42f5-4d59-9b31-2ae2f9b8ccd1%22%2C%22requestId%22%3A%22%22%2C%22undoStop%22%3A%22%22%7D","telemetryInfo":{"requestId":"request_39bbc355-b042-4bc7-a04b-9e8cf5eaec75","agentId":"github.copilot.editsAgent","modelId":"copilot/claude-sonnet-4.5","modeId":"agent"}},{"resource":"file:///root/Documentos/github/GestionSocios/src/Views/members/create.php","languageId":"php","originalHash":"6d270f1","currentHash":"6d270f1","state":1,"snapshotUri":"chat-editing-snapshot-text-model:/root/Documentos/github/GestionSocios/src/Views/members/create.php?%7B%22sessionId%22%3A%22f0f33394-42f5-4d59-9b31-2ae2f9b8ccd1%22%2C%22requestId%22%3A%22%22%2C%22undoStop%22%3A%22%22%7D","telemetryInfo":{"requestId":"request_1875dd0f-a3da-4469-8357-4bea81fd78a6","agentId":"github.copilot.editsAgent","modelId":"copilot/claude-sonnet-4.5","modeId":"agent"}},{"resource":"file:///root/Documentos/github/GestionSocios/src/Views/accounting/reports/trial_balance.php","languageId":"php","originalHash":"0303955","currentHash":"1c2e187","state":0,"snapshotUri":"chat-editing-snapshot-text-model:/root/Documentos/github/GestionSocios/src/Views/accounting/reports/trial_balance.php?%7B%22sessionId%22%3A%22f0f33394-42f5-4d59-9b31-2ae2f9b8ccd1%22%2C%22requestId%22%3A%22%22%2C%22undoStop%22%3A%22%22%7D","telemetryInfo":{"requestId":"request_fb593d37-7a40-4b03-873d-63a3f5d03621","agentId":"github.copilot.editsAgent","modelId":"copilot/claude-sonnet-4.5","modeId":"agent"}},{"resource":"file:///root/Documentos/github/GestionSocios/src/Views/accounting/reports/general_ledger.php","languageId":"php","originalHash":"28ddd56","currentHash":"826dad4","state":0,"snapshotUri":"chat-editing-snapshot-text-model:/root/Documentos/github/GestionSocios/src/Views/accounting/reports/general_ledger.php?%7B%22sessionId%22%3A%22f0f33394-42f5-4d59-9b31-2ae2f9b8ccd1%22%2C%22requestId%22%3A%22%22%2C%22undoStop%22%3A%22%22%7D","telemetryInfo":{"requestId":"request_957867f5-dfec-4950-bd22-bffab2e8c048","agentId":"github.copilot.editsAgent","modelId":"copilot/claude-sonnet-4.5","modeId":"agent"}},{"resource":"file:///root/Documentos/github/GestionSocios/src/Views/accounting/entries/index.php","languageId":"php","originalHash":"308580a","currentHash":"6b15cd7","state":0,"snapshotUri":"chat-editing-snapshot-text-model:/root/Documentos/github/GestionSocios/src/Views/accounting/entries/index.php?%7B%22sessionId%22%3A%22f0f33394-42f5-4d59-9b31-2ae2f9b8ccd1%22%2C%22requestId%22%3A%22%22%2C%22undoStop%22%3A%22%22%7D","telemetryInfo":{"requestId":"request_e577c165-df3e-45af-a7df-cba6ca015045","agentId":"github.copilot.editsAgent","modelId":"copilot/claude-sonnet-4.5","modeId":"agent"}},{"resource":"file:///root/Documentos/github/GestionSocios/src/Views/accounting/entries/view.php","languageId":"php","originalHash":"0f8bea8","currentHash":"4e46f70","state":0,"snapshotUri":"chat-editing-snapshot-text-model:/root/Documentos/github/GestionSocios/src/Views/accounting/entries/view.php?%7B%22sessionId%22%3A%22f0f33394-42f5-4d59-9b31-2ae2f9b8ccd1%22%2C%22requestId%22%3A%22%22%2C%22undoStop%22%3A%22%22%7D","telemetryInfo":{"requestId":"request_d3511da5-4b05-4424-b254-96984469ec92","agentId":"github.copilot.editsAgent","modelId":"copilot/claude-sonnet-4.5","modeId":"agent"}}]}}